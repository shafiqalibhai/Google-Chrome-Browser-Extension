<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>TYPO3 Core APIs</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.1  (Unix)">
	<META NAME="AUTHOR" CONTENT="Kasper Skårhøj">
	<META NAME="CREATED" CONTENT="20021101;320000">
	<META NAME="CHANGEDBY" CONTENT="Michael Stucki">
	<META NAME="CHANGED" CONTENT="20081201;1135400">
	<META NAME="CLASSIFICATION" CONTENT="doc_core_api">
	<META NAME="KEYWORDS" CONTENT="tsref, typoscript, reference, forDevelopers, forAdvanced">
	<META NAME="Author" CONTENT="TYPO3 Core Development Team">
	<META NAME="Email" CONTENT="info@typo3.org">
	<META NAME="Info 4" CONTENT="">
	<META NAME="language (en, de, fr, nl, dk, es, ... )" CONTENT="en">
	<META NAME="SDFOOTNOTE" CONTENT=";;;;P">
	<META NAME="SDENDNOTE" CONTENT="ARABIC">
	<STYLE TYPE="text/css">
	<!--
		@page { margin-left: 2cm; margin-right: 1.3cm; margin-top: 1.8cm; margin-bottom: 0.49cm }
		P { margin-bottom: 0.21cm; color: #000000 }
		P.western { font-family: "Tahoma", sans-serif; font-size: 9pt }
		H1 { margin-top: 2cm; margin-bottom: 1cm; background: transparent; color: #69a550; text-align: left; text-decoration: none; page-break-before: always; page-break-after: auto }
		H1.western { font-family: "Tahoma", sans-serif; font-size: 20pt }
		H1.cjk { font-family: "HG Mincho Light J"; font-size: 13pt }
		H1.ctl { font-family: "Arial Unicode MS"; font-size: 13pt }
		H2 { margin-top: 0.5cm; margin-bottom: 0.1cm; color: #666666; text-align: left; page-break-before: auto; page-break-after: auto }
		H2.western { font-family: "Tahoma", sans-serif; font-size: 20pt; font-style: normal; font-weight: normal }
		H2.cjk { font-family: "HG Mincho Light J"; font-size: 14pt; font-style: italic }
		H2.ctl { font-family: "Arial Unicode MS"; font-size: 14pt; font-style: italic }
		H3 { margin-top: 0.4cm; margin-bottom: 0.1cm; color: #69a550; text-align: left; page-break-before: auto; page-break-after: auto }
		H3.western { font-family: "Tahoma", sans-serif; font-size: 15pt; font-style: normal; font-weight: normal }
		H3.cjk { font-family: "HG Mincho Light J"; font-style: italic }
		H3.ctl { font-family: "Arial Unicode MS"; font-style: italic }
		H4 { margin-top: 0.5cm; margin-bottom: 0.1cm; color: #ff950e; text-align: left; page-break-before: auto; page-break-after: auto }
		H4.western { font-family: "Tahoma", sans-serif; font-size: 11pt; font-style: normal }
		H4.cjk { font-family: "HG Mincho Light J"; font-size: 11pt; font-style: italic }
		H4.ctl { font-family: "Arial Unicode MS"; font-size: 11pt; font-style: italic }
		H5 { margin-top: 0.5cm; margin-bottom: 0.1cm; color: #b84747; text-align: left; page-break-before: auto; page-break-after: auto }
		H5.western { font-family: "Arial", sans-serif; font-size: 9pt; font-style: normal }
		H5.cjk { font-family: "HG Mincho Light J"; font-size: 11pt; font-style: italic }
		H5.ctl { font-family: "Arial Unicode MS"; font-size: 11pt; font-style: italic }
		P.footer-western { margin-bottom: 0.21cm; font-family: "Tahoma", sans-serif; font-size: 8pt; font-weight: normal; line-height: 100%; page-break-before: auto }
		P.footer-cjk { margin-bottom: 0.21cm; line-height: 100%; page-break-before: auto }
		P.footer-ctl { margin-bottom: 0.21cm; line-height: 100%; page-break-before: auto }
		TD P { margin-bottom: 0cm; background: transparent; color: #000000 }
		TD P.western { font-family: "Tahoma", sans-serif; font-size: 8pt }
		TH P { margin-bottom: 0cm; background: #e6e6e6; color: #000000 }
		TH P.western { font-family: "Tahoma", sans-serif; font-size: 9pt; font-style: normal }
		TH P.cjk { font-style: italic }
		TH P.ctl { font-style: italic }
		H2.contents-heading-western { color: #4c4c4c; font-family: "Tahoma", sans-serif; font-size: 16pt; font-style: normal; font-weight: normal }
		H2.contents-heading-cjk { color: #4c4c4c; font-family: "HG Mincho Light J"; font-size: 16pt; font-style: italic }
		H2.contents-heading-ctl { color: #4c4c4c; font-family: "Arial Unicode MS"; font-size: 16pt; font-style: italic }
		PRE { color: #333366; page-break-before: auto }
		PRE.western { font-family: "Courier New", monospace; font-size: 8pt }
		PRE.cjk { font-family: "Cumberland", monospace }
		PRE.ctl { font-family: "Cumberland", monospace }
		PRE.table-contents/pre-western { font-family: "Courier New", monospace; font-size: 8pt }
		PRE.table-contents/pre-cjk { font-family: "Cumberland", monospace }
		PRE.table-contents/pre-ctl { font-family: "Cumberland", monospace }
		P.illustration-western { background: transparent; font-family: "Tahoma", sans-serif; font-size: 9pt }
		P.illustration-cjk { background: transparent }
		P.illustration-ctl { background: transparent }
		A:link { color: #333366; text-decoration: none }
		CODE.western { font-family: "Courier", serif }
		CODE.cjk { font-family: "HG Mincho Light J" }
		CODE.ctl { font-family: "Arial Unicode MS" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" LINK="#333366" BGCOLOR="#ffffff" DIR="LTR">
<DIV TYPE=HEADER>
	<P CLASS="footer-western" ALIGN=LEFT STYLE="margin-bottom: 0.5cm; font-style: normal">
	<IMG SRC="12_html_4f41537f.gif" ALIGN=LEFT><IMG SRC="12_html_3c9c2593.png" NAME="Grafik2" HSPACE=9 WIDTH=87 HEIGHT=21 BORDER=0>
	<SDFIELD TYPE=DOCINFO SUBTYPE=TITLE>TYPO3 Core APIs</SDFIELD> <SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">-
	</SPAN></SPAN><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal"><SDFIELD TYPE=DOCINFO SUBTYPE=THEME>doc_core_api</SDFIELD></SPAN></SPAN><B>	</B><SPAN STYLE="font-weight: normal"></SPAN><SPAN STYLE="font-weight: normal">
	</SPAN><SPAN STYLE="font-weight: normal">TYPO3 Core Engine (TCE)</SPAN></P>
</DIV>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H1 CLASS="western" ALIGN=LEFT STYLE="page-break-before: auto; page-break-after: auto"><A NAME="1.TYPO3 Core APIs|outline"></A>
</SPAN><SDFIELD TYPE=DOCINFO SUBTYPE=TITLE>TYPO3 Core APIs</SDFIELD></H1>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Extension
Key: <SDFIELD TYPE=DOCINFO SUBTYPE=THEME>doc_core_api</SDFIELD></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Language:
<SDFIELD TYPE=DOCINFO SUBTYPE=CUSTOM NAME="language (en, de, fr, nl, dk, es, ... )">en</SDFIELD></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Keywords:
<SDFIELD TYPE=DOCINFO SUBTYPE=KEYS>tsref, typoscript, reference, forDevelopers, forAdvanced</SDFIELD></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Copyright
2000-2008, <SDFIELD TYPE=DOCINFO SUBTYPE=CUSTOM NAME="Author">TYPO3 Core Development Team</SDFIELD>,
&lt;<SDFIELD TYPE=DOCINFO SUBTYPE=CUSTOM NAME="Email">info@typo3.org</SDFIELD>&gt;</FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
document is published under the Open Content License</FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">available
from http://www.opencontent.org/opl.shtml</FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
content of this document is related to TYPO3 </FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">-
a GNU/GPL CMS/Framework available from www.typo3.org<BR></FONT><BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Revised
for TYPO3 4.2, November 2008</FONT></P>
<MULTICOL ID="Table of Contents1" DIR="LTR" COLS=2 GUTTER=19 STYLE="background: #ffffff">
	<DIV ID="Table of Contents1_Head" DIR="LTR">
		<H2 CLASS="contents-heading-western">Table of Contents</H2>
	</DIV>
	<P STYLE="margin-bottom: 0cm; font-weight: normal"><FONT SIZE=3><A HREF="#1.TYPO3 Core APIs|outline">TYPO3
	Core APIs	1</A></FONT></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#1.1.Introduction|outline">Introduction	3</A></B></P>
	<P STYLE="margin-bottom: 0cm; font-weight: normal"><FONT SIZE=3><A HREF="#2.TYPO3 Extension API|outline">TYPO3
	Extension API	4</A></FONT></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#2.1.Extension Architecture|outline">Extension
	Architecture	4</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.1.Introduction|outline">Introduction	4</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.2.Files and locations|outline">Files
	and locations	4</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.3.System, Global and Local extensions|outline">System,
	Global and Local extensions	6</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.4.Extension key|outline">Extension
	key	6</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.5.Naming conventions|outline">Naming
	conventions	7</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.6.Import and install of extensions|outline">Import
	and install of extensions	7</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.7.ext_tables.php and ext_localconf.php|outline">ext_tables.php
	and ext_localconf.php	8</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.8.ext_emconf.php|outline">ext_emconf.php	9</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.9.Extending “extensions-classes”|outline">Extending
	“extensions-classes”	10</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.10.The Extension Manager (EM)|outline">The
	Extension Manager (EM)	11</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#2.1.11.Basic framework for a new extension|outline">Basic
	framework for a new extension	11</A></P>
	<P STYLE="margin-bottom: 0cm; font-weight: normal"><FONT SIZE=3><A HREF="#3.TYPO3 API overview|outline">TYPO3
	API overview	16</A></FONT></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.1.Introduction|outline">Introduction	16</A></B></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.2.General functions|outline">General
	functions	17</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.2.1.High priority functions (CGL requirements)|outline">High
	priority functions (CGL requirements)	18</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.2.2.Functions typically used and nice to know|outline">Functions
	typically used and nice to know	27</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.2.3.Programming with workspaces in mind|outline">Programming
	with workspaces in mind	33</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.3.TYPO3 Core Engine (TCE)|outline">TYPO3
	Core Engine (TCE)	37</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.3.1.Introduction|outline">Introduction	37</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.3.2.Database: t3lib_TCEmain basics|outline">Database:
	t3lib_TCEmain basics	37</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.3.3.Using t3lib_TCEmain in scripts|outline">Using
	t3lib_TCEmain in scripts	41</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.3.4.The &quot;tce_db.php&quot; API|outline">The
	&quot;tce_db.php&quot; API	42</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.3.5.Files: t3lib_extFileFunctions basics|outline">Files:
	t3lib_extFileFunctions basics	43</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.3.6.The &quot;tce_file.php&quot; API|outline">The
	&quot;tce_file.php&quot; API	44</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.4.Hooks|outline">Hooks	44</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.4.1.The concept of &quot;hooks&quot;|outline">The
	concept of &quot;hooks&quot;	44</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.4.2.Hook configuration|outline">Hook
	configuration	45</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.4.3.Creating hooks|outline">Creating
	hooks	48</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.5.Variables and Constants|outline">Variables
	and Constants	48</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.5.1.Constants|outline">Constants	48</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.5.2.Global variables|outline">Global
	variables	49</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.6.Backend User Object|outline">Backend
	User Object	51</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.6.1.Checking user access for $BE_USER from PHP|outline">Checking
	user access for $BE_USER from PHP	51</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.7.Using system log|outline">Using
	system log	53</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.7.1.The log table (sys_log)|outline">The
	log table (sys_log)	53</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.8.PHP Class Extension|outline">PHP
	Class Extension	54</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.8.1.Introduction|outline">Introduction	54</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.8.2.Which classes_|outline">Which
	classes?	55</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.8.3.Extending methods|outline">Extending
	methods	57</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.8.4.User defined methods in classes|outline">User
	defined methods in classes	58</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.8.5.A few examples of extending the backend classes|outline">A
	few examples of extending the backend classes	58</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.8.6.Warnings|outline">Warnings	60</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.9.AJAX in the TYPO3 Backend|outline">AJAX
	in the TYPO3 Backend	60</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.9.1.In-depth presentation|outline">In-depth
	presentation	60</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.9.2.Developing with AJAX in the TYPO3 Backend|outline">Developing
	with AJAX in the TYPO3 Backend	61</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#3.10.Various examples|outline">Various
	examples	62</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.1.Introduction|outline">Introduction	62</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.2.Rendering page trees|outline">Rendering
	page trees	63</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.3.Accessing the clipboard|outline">Accessing
	the clipboard	64</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.4.Adding Context Sensitive Menu items|outline">Adding
	Context Sensitive Menu items	66</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.5.Parsing HTML: t3lib_parsehtml|outline">Parsing
	HTML: t3lib_parsehtml	68</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.6.Links to edit records|outline">Links
	to edit records	72</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.7.Support for custom tables in the Page module|outline">Support
	for custom tables in the Page module	74</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.8.Adding elements to the Content Element Wizard|outline">Adding
	elements to the Content Element Wizard	74</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#3.10.9.Using custom permission options|outline">Using
	custom permission options	76</A></P>
	<P STYLE="margin-bottom: 0cm; font-weight: normal"><FONT SIZE=3><A HREF="#4.Table Configuration Array, $TCA|outline">Table
	Configuration Array, $TCA	78</A></FONT></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#4.1.Introduction|outline">Introduction	78</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.1.1.What is $TCA_|outline">What
	is $TCA?	78</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.1.2.Extending the $TCA array|outline">Extending
	the $TCA array	78</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.1.3.Main levels in the $TCA array|outline">Main
	levels in the $TCA array	79</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#4.2.$TCA array reference|outline">$TCA
	array reference	81</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.1.['ctrl'] section|outline">['ctrl']
	section	81</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.2.['interface'] section|outline">['interface']
	section	94</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.3.['feInterface'] section|outline">['feInterface']
	section	94</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.4.['columns'][fieldname] section|outline">['columns'][fieldname]
	section	94</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.5.['columns'][fieldname]['config'] / TYPE: &quot;input&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;input&quot;	96</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.6.['columns'][fieldname]['config'] / TYPE: &quot;text&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;text&quot;	100</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.7.['columns'][fieldname]['config'] / TYPE: &quot;check&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;check&quot;	101</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.8.['columns'][fieldname]['config'] / TYPE: &quot;radio&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;radio&quot;	103</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.9.['columns'][fieldname]['config'] / TYPE: &quot;select&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;select&quot;	104</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.10.['columns'][fieldname]['config'] / TYPE: &quot;group&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;group&quot;	118</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.11.['columns'][fieldname]['config'] / TYPE: &quot;none&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;none&quot;	125</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.12.['columns'][fieldname]['config'] / TYPE: &quot;passthrough&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;passthrough&quot;	125</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.13.['columns'][fieldname]['config'] / TYPE: &quot;user&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;user&quot;	126</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.14.['columns'][fieldname]['config'] / TYPE: &quot;flex&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;flex&quot;	127</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.15.['columns'][fieldname]['config'] / TYPE: &quot;inline&quot;|outline">['columns'][fieldname]['config']
	/ TYPE: &quot;inline&quot;	135</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.16.['types'][key] section|outline">['types'][key]
	section	140</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.2.17.['palettes'][key] section|outline">['palettes'][key]
	section	144</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#4.3.Additional $TCA features|outline">Additional
	$TCA features	145</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.1.Special Configuration introduction|outline">Special
	Configuration introduction	145</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.2.Special Configuration options|outline">Special
	Configuration options	146</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.3.Soft References|outline">Soft
	References	148</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.4.Wizards Configuration|outline">Wizards
	Configuration	148</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.5.Wizard scripts in the core|outline">Wizard
	scripts in the core	153</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.6.$PAGES_TYPES|outline">$PAGES_TYPES	159</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.7.Loading the full $TCA dynamically|outline">Loading
	the full $TCA dynamically	160</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.3.8.Benchmarks on dynamic tables:|outline">Benchmarks
	on dynamic tables:	161</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#4.4.Visual style of TCEforms|outline">Visual
	style of TCEforms	162</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.4.1.$TBE_STYLES entries related to TCEforms|outline">$TBE_STYLES
	entries related to TCEforms	162</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#4.4.2.Style pointers in the &quot;types&quot; configuration|outline">Style
	pointers in the &quot;types&quot; configuration	164</A></P>
	<P STYLE="margin-bottom: 0cm; font-weight: normal"><FONT SIZE=3><A HREF="#5.RTE API|outline">RTE
	API	168</A></FONT></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#5.1.Rich Text Editors in TYPO3 backend|outline">Rich
	Text Editors in TYPO3 backend	168</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.1.1.Introduction|outline">Introduction	168</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.1.2.RTEs in Extensions|outline">RTEs
	in Extensions	168</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.1.3.API for Rich Text Editors|outline">API
	for Rich Text Editors	169</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.1.4.More Examples|outline">More
	Examples	171</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#5.2.Transformations|outline">Transformations	172</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.2.1.Introduction|outline">Introduction	172</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.2.2.Process illustration|outline">Process
	illustration	174</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.2.3.Transformation overview|outline">Transformation
	overview	175</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.2.4.Transformation details|outline">Transformation
	details	176</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.2.5.Page TSconfig|outline">Page
	TSconfig	177</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.2.6.Custom transformations API|outline">Custom
	transformations API	181</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#5.3.Historical perspective on RTE transformations|outline">Historical
	perspective on RTE transformations	183</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.3.1.Introduction|outline">Introduction	183</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.3.2.Properties and 'transformations'|outline">Properties
	and 'transformations'	183</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#5.3.3.RTE transformations in Content Elements|outline">RTE
	transformations in Content Elements	183</A></P>
	<P STYLE="margin-bottom: 0cm; font-weight: normal"><FONT SIZE=3><A HREF="#6.Skinning API|outline">Skinning
	API	186</A></FONT></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#6.0.1.$TBE_STYLES|outline">$TBE_STYLES	186</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#6.0.2.Directory structure for “skinImgAutoCfg” feature|outline">Directory
	structure for “skinImgAutoCfg” feature	190</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#6.0.3.How to make your extensions compatible with skinning|outline">How
	to make your extensions compatible with skinning	190</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#6.0.4.Finding CSS selectors for the backend documents|outline">Finding
	CSS selectors for the backend documents	191</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#6.0.5.Skinning database record icons with variations|outline">Skinning
	database record icons with variations	194</A></P>
	<P STYLE="margin-bottom: 0cm; font-weight: normal"><FONT SIZE=3><A HREF="#7.Data Formats|outline">Data
	Formats	198</A></FONT></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#7.1.&lt;T3DataStructure&gt;|outline">&lt;T3DataStructure&gt;	198</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.1.1.Introduction|outline">Introduction	198</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.1.2.Elements|outline">Elements	198</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.1.3.Sheet references|outline">Sheet
	references	200</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.1.4.Syntax highlighting of a Data Structures|outline">Syntax
	highlighting of a Data Structures	201</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.1.5.Parsing a Data Structure|outline">Parsing
	a Data Structure	202</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.1.6.Applications|outline">Applications	204</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.21cm"><B><A HREF="#7.2.&lt;T3locallang&gt;|outline">&lt;T3locallang&gt;	204</A></B></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.2.1.Introduction|outline">Introduction	204</A></P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0.21cm"><A HREF="#7.2.2.Elements|outline">Elements	204</A></P>
</MULTICOL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H2 CLASS="western" STYLE="page-break-before: always"><A NAME="1.1.Introduction|outline"></A>
Introduction</H2>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TYPO3
is known for its extendibility but until now there has not been a
complete resource for information about the Core APIs in TYPO3. This
document aims to provide such document, sometimes very detailed and
complete, at other times only scratching the surface - but at least
providing pointers into some direction.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
document is the second part of the &quot;Inside TYPO3&quot; document
which contains the overall introduction to the architecture of TYPO3s
core. &quot;Inside TYPO3&quot; also contains API descriptions to a
certain degree but mostly in the form of examples and short table
listings. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
documents do <I>not</I> contain any significant information about the
frontend of TYPO3. Creating templates, setting up TypoScript objects
etc. is not the scope of these documents; they are about the <I>backend
</I>part of the core only.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">I
hope these two documents, &quot;Inside TYPO3&quot; and &quot;TYPO3
Core API&quot;, will finally form a complete picture of the TYPO3
Core architecture, the backend and be the reference of choice in your
work with TYPO3. It has taken me more than a year to finally get
these published!</FONT></P>
<H4 CLASS="western">Dedication</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">I
want to dedicate this document to the people in TYPO3s community who
has the <I>discipline</I> to do the boring job of writing
documentation for their extensions or contributes to TYPO3
documentation in general. It's great to have good coders, but it's
even more important to have coders with character to carry their work
through till the end - even when it means spending days writing good
documents. Go for completeness!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">-
kasper</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H1 CLASS="western"><A NAME="2.TYPO3 Extension API|outline"></A></SPAN>TYPO3
Extension API</H1>
<H2 CLASS="western"><A NAME="2.1.Extension Architecture|outline"></A>Extension
Architecture</H2>
<H3 CLASS="western"><A NAME="2.1.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TYPO3
can be extended in nearly any direction without loosing backwards
compatibility. The Extension API provides a powerful framework for
easily adding, removing, installing and developing such extensions to
TYPO3. This is in particular powered by the Extension Manager (EM)
inside TYPO3 and the online TYPO3 Extension Repository (TER) found at
typo3.org for easy sharing of extensions.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“<I>Extensions</I>”
is a term in TYPO3 which covers two other terms, <I>plugins</I> and
<I>modules</I><SPAN STYLE="font-style: normal">.</SPAN></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>A
plugin</B> is something that plays a role on the website itself. Eg.
a board, guestbook, shop etc. It is normally enclosed in a PHP class
and invoked through a USER or USER_INT cObject from TypoScript. A
plugin is an extension in the frontend.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>A
module</B> is a backend application which has its own position in the
administration menu. It requires backend login and works inside the
framework of the backend. We might also call something a module if it
exploits any connectivity of an existing module, that is if it simply
adds itself to the function menu of existing modules. A module is an
extension in the backend.</FONT></P>
<H4 CLASS="western">Extensions and the Core</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Extensions
are designed in a way so that extensions can supplement the core
seemlessly. This means that a TYPO3 system will appear as &quot;a
whole&quot; while actually being composed of the core application <I>and
</I>a set of extensions providing various features. This philosophy
allows TYPO3 to be developed by many individuals without loosing fine
control since each developer will have a special area (typically a
system extension) of responsibility which is effectively
encapsulated.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So,
in one end of the spectrum system extensions makes up what is known
as &quot;TYPO3&quot; to the outside world. In the other end,
extensions can be 100% project specific and carry only files and
functionality related to a single implementation. </FONT>
</P>
<H3 CLASS="western"><A NAME="2.1.2.Files and locations|outline"></A>Files
and locations</H3>
<H4 CLASS="western">Files</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">An
extension consists of </FONT>
</P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">a
	directory named by the <I>extension key</I> (which is a worldwide
	unique identification string for the extension unless prefix with
	“user_”)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">standard
	files with reserved names for configuration related to TYPO3 (of
	which most are optional, see list below)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">any
	number of additional files for the extension itself.</FONT></P>
</OL>
<H4 CLASS="western">Reserved filenames</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
list of filenames are all reserved filenames in the root directory of
extensions. None of them are required but for example you cannot have
a TYPO3 extension recognized by TYPO3 without the “ext_emconf.php”
file etc. You can read more details like that in the table below.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
general, do not introduce your own files in root directory of
extensions with the name prefix “ext_”.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=57*>
	<COL WIDTH=199*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22%>
				<P CLASS="western">Filename</P>
			</TH>
			<TH WIDTH=78%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_emconf.php</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Definition of extension properties</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Name, category, status etc. Used by the EM.
				Also auto-written by EM when extensions are imported from
				repository.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> If this file is <I>not</I>
				present the EM will <I>not</I> find the extension.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_localconf.php</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western" STYLE="font-weight: normal">Addition to
				“localconf.php” which is included if found. Should contain
				additional configuration of $TYPO3_CONF_VARS and may include
				additional PHP class files.<BR><BR>
				</P>
				<P CLASS="western" STYLE="font-weight: normal">All
				'ext_localconf.php' files of included extensions are included
				right after the typo3conf/localconf.php file has been included
				and database constants defined. Therefore you cannot setup
				database name, username, password though, because database
				constants are defined already at this point.</P>
				<P CLASS="western"> <SPAN STYLE="font-weight: normal"><BR></SPAN><B>Notice:</B><SPAN STYLE="font-weight: normal">
				Observe rules for content of these files. See section on caching
				below.</SPAN></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_tables.php</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Addition to “tables.php” which is included
				<SPAN STYLE="font-weight: normal">if found. Should </SPAN>contain
				configuration of tables, modules, backend styles etc. Everything
				which can be done in an “extTables” file is allowed here.</P>
				<P CLASS="western"><BR>All 'ext_tables.php' files of loaded
				extensions are included right after the 'tables.php' file in the
				order they are defined in the global array TYPO3_LOADED_EXT but
				right before a general “extTables” file (defined with the var
				$typo_db_extTableDef_script in the typo3conf/localconf.php file,
				later set as the constant TYPO3_extTableDef_script). Thus a
				general “extTables” file in typo3conf/ may overrule any
				settings made by loaded extensions.</P>
				<P CLASS="western">You should <I>not</I> use this file for
				setting up $TYPO3_CONF_VARS. See “ext_localconf.php”.</P>
				<P CLASS="western"><BR><B>Notice:</B> Observe rules for content
				of these files. See section below.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_tables.sql</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western" STYLE="font-weight: normal">SQL definition of
				database tables.</P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>This file
				should contain a table-structure dump of the tables used by the
				extension. It is used for evaluation of the database structure
				and is therefore important to check and update the database when
				an extension is enabled.<BR>If you add additional fields (or
				depend on certain fields) to existing tables you can also put
				them here. In that case insert a CREATE TABLE structure for that
				table, but remove all lines except the ones defining the fields
				you need. <BR>The ext_tables.sql file may not necessarily be
				“dumpable” directly to MySQL (because of the semi-complete
				table definitions allowed defining only required fields, see
				above). But the EM or Install Tool can handle this. The only very
				important thing is that the syntax of the content is exactly like
				MySQL made it so that the parsing and analysis of the file is
				done correctly by the EM.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_tables_static+adt.sql</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Static SQL tables and their data. 
				</P>
				<P CLASS="western"><BR>If the extension requires static data you
				can dump it into a sql-file by this name.<BR>Example for dumping
				mysql data from bash (being in the extension
				directory):<BR><BR>mysqldump --password=<I>[password]</I>
				<I>[database name]</I> <I>[tablename]</I> --add-drop-table &gt;
				./ext_tables_static.sql<BR><BR>--add-drop-table will make sure to
				include a DROP TABLE statement so any data is inserted in a fresh
				table.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">You can also drop the table content using the
				EM in the backend.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> The table structure of static
				tables needs to be in the ext_tables.sql file as well - otherwise
				an installed static table will be reported as being in excess in
				the EM!</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_typoscript_constants.txt</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Preset TypoScript constants</P>
				<P CLASS="western"><I><SPAN STYLE="font-weight: normal">Deprecated
				(use static template files instead, see extMgm API description)</SPAN></I><BR><BR>
				</P>
				<P CLASS="western">Such a file will be included in the constants
				section of all TypoScript templates.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_typoscript_setup.txt</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Preset TypoScript setup</P>
				<P CLASS="western" STYLE="font-weight: normal"><I>Deprecated (use
				static template files instead, see extMgm API description)</I></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>Such a file
				will be included in the setup section of all TypoScript
				templates.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_typoscript_editorcfg.txt</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Preset TypoScript editor configuration</P>
				<P CLASS="western" STYLE="font-weight: normal"><I>Deprecated (use
				static template files instead, see extMgm API description)</I></P>
				<P CLASS="western"><BR>Such a file will be included in the
				“Backend Editor Configuration” section of all TypoScript
				templates.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_conf_template.txt</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Extension Configuration template.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Configuration code in TypoScript syntax
				setting up a series of values which can be configured for the
				extension in the EM.</P>
				<P CLASS="western"><BR>If this file is present the EM provides
				you with an interface for editing the configuration values
				defined in the file. The result is written as a serialized array
				to localconf.php file in the variable
				$TYPO3_CONF_VARS[&quot;EXT&quot;][&quot;extConf&quot;][<I>extension_key</I>]
								</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The content of the “res/” folder is used
				for filelists in configuration forms.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you want to do user processing before the
				content from the configuration form is saved (or shown for that
				sake) there is a hook in the EM which is configurable with
				$TYPO3_CONF_VARS['SC_OPTIONS']['typo3/mod/tools/em/index.php']['tsStyleConfigForm'][]
				= “<I>function reference</I>”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_icon.gif</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Extension Icon</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">18x16 gif icon for the extension.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">(*/)
				locallang*.php</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Localization values.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The filename “locallang.php” (or any file
				matching locallang*.php) is used for traditional definition of
				language labels in the $LOCAL_LANG array. If you use this name
				consistently those files will be detected by the translation
				tool!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice: </B>PLEASE DO ONLY put the
				definition of the variable $LOCAL_LANG into this file and don't
				rely on comments in the file. The file will be automatically
				updated by the extension repository when translations are
				applied.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">class.ext_update.php</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Local Update tool class</P>
				<P CLASS="western"><BR>If this file is found it will install a
				new menu item, “UPDATE”, in the EM when looking at details
				for the extension. When this menu item is selected the class
				inside of this file (named “ext_update”) will be instantiated
				and the method “main()” will be called and expected to return
				HTML content.</P>
				<P CLASS="western">Also you must add the function “access()”
				and make it return a boolean value whether or not the menu item
				should be shown. This feature is meant to let you disable the
				update tool if you can somehow detect that it has already been
				run and doesn't need to run again.<BR>The point of this file is
				to give extension developers the possibility to provide an update
				tool if their extensions in newer versions require some updates
				to be done. For an example, see “newloginbox” extension.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">ext_api_php.dat</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">PHP API data</P>
				<P CLASS="western"><BR>A file containing a serialized PHP array
				with API information for the PHP classes in the extension. The
				file is created - and viewed! - with tools found in the extension
				“extdeveval” (Extension Development Evaluator)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">pi*/</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Typical folder for a frontend plugin class.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">mod*/</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Typical folder for a backend module.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western" STYLE="font-weight: normal">res/</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Extensions normally consist of other files:
				Classes, images, html-files etc. Files not related to either a
				frontend plugin (pi/) or backend module (mod/) might be put in a
				subfolder of the extension directory named “res/” (for
				“resources”) but you can do it as you like (inside of the
				extension directory that is). <BR>The “res/” folder content
				will be listed as files you can select in the configuration
				interface.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Files in this folder can also be selected in a
				selector box if you set up Extension configuration in a
				“ext_conf_template.txt” file.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H3 CLASS="western"><A NAME="2.1.3.System, Global and Local extensions|outline"></A>
System, Global and Local extensions</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
files for an extension are located in a folder named by the <I>extension
key</I>. The location of this folder can be either inside
typo3/sysext/,  typo3/ext/ or  typo3conf/ext/<SPAN STYLE="font-weight: normal">.
</SPAN></FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><SPAN STYLE="font-weight: normal">The
extension </SPAN><I><SPAN STYLE="font-weight: normal">must</SPAN></I><SPAN STYLE="font-weight: normal">
be programmed so that it does automatically detect where it is
located and can work from all three locations. If it is not possible
to make the extension that flexible, it is possible to lock its
installation requirement to one of these locations in the emconf.php
file (see “lockType”)</SPAN></FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=44*>
	<COL WIDTH=33*>
	<COL WIDTH=179*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=13%>
				<P CLASS="western">Path</P>
			</TH>
			<TH WIDTH=70%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">Local</P>
			</TD>
			<TD WIDTH=13%>
				<P CLASS="western">typo3conf/ext/</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">This is where to put extensions<I> which are
				lo</I>cal for a particular TYPO3 installation. The typo3conf/ dir
				is always local, containing local configuration (eg.<I>
				loc</I>alconf.php), local modules etc. If you put an extension
				here it will be available for a single TYPO3 installation only.
				This is a “per-database” way to install an extension.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice about symlinking:</B> Local
				extension can successfully be symlinked to other local extensions
				on a server as long as they are running under the same TYPO3
				source version (which would typically also be symlinked). This
				method is useful for maintenance of the same local extension
				running under several sites on a server.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" STYLE="font-weight: normal">Global</P>
			</TD>
			<TD WIDTH=13%>
				<P CLASS="western" STYLE="font-weight: normal">typo3/ext/</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">This is a “per-server” way to install an
				extension; they are global for the TYPO3 source code on the web
				server. These extensions will be available for any TYPO3
				installation sharing the source code. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice on distribution:</B> 
				</P>
				<P CLASS="western">As of version 4.0, TYPO3 is no longer
				distributed with a fixed set of global extensions. In previous
				versions these were distributed for reasons like popularity and
				sometimes history.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" STYLE="font-weight: normal">System</P>
			</TD>
			<TD WIDTH=13%>
				<P CLASS="western" STYLE="font-weight: normal">typo3/sysext/</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">This is system default extensions which cannot
				and should not be updated by the EM. They are distributed with
				TYPO3 core source code and generally understood to be a part of
				the core system.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Loading precedence</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Local
extensions take precedence which means that if an extension exists
both in typo3conf/ext/ and typo3/ext/ the one in typo3conf/ext/ is
loaded. Likewise <I>global </I>extension takes precedence over <I>system</I>
extensions. This means that extensions are loaded in the order of
priority local-global-system. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
effect you can therefore have - say - a “stable” version of an
extension installed in the global dir (typo3/ext/) which is used by
all your projects on a server sharing source code, but on a single
experimental project you can import the same extension in a newer
“experimental” version and for that particular project the
locally available extension will be used instead.</FONT></P>
<H3 CLASS="western"><A NAME="2.1.4.Extension key|outline"></A>Extension
key</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
“extension key” is a string uniquely identifying the extension.
The folder where the extension resides is named by this string. The
string can contain characters a-z0-9 and underscore. No uppercase
characters should be used (keeps folder-,file- and table/field-names
in lowercase). Furthermore the name must not start with an “tx”
or “u” (this is prefixes used for modules) and because backend
modules related to the extension should be named by the extension
name <I>without</I> underscores, the extension name must still be
unique even if underscores are removed (underscores are allowed to
make the extension key easily readable).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
naming conventions of extension keys are automatically validated by
the registration at the repository, so you have nothing to worry
about here.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are two ways to name an extension:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Project
	specific extensions</B> (not generally usable or shareable): Select
	any name you like and prepend it “user_” (which is the only
	allowed use of a key starting with “u”). This prefix denotes
	that this extension is a local one which does not come from the
	central TYPO3 Extension Repository or is ever intended to be shared.
	Probably this is an “adhoc” extension you have made for some
	special occasion.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>General
	extensions:</B> Register an extension name online at the <A HREF="http://typo3.org/1382.0.html">TYPO3
	Extension Repository</A>. Your extension name will automatically be
	validated and you are sure to have a unique name returned which
	nobody else in the world uses. This makes it very easy to share your
	extension later on with every one else, because it ensures that no
	conflicts with other extension will happen. But by default a new
	extension you make is defined “private” which means nobody else
	but you have access to it until you permit it to be public. <BR>It's
	free of charge to register an extension name. By definition all code
	in the TYPO3 Extension Repository is covered by the GPL license
	because it interfaces with TYPO3. You should really consider making
	general extensions!</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Suggestion:</B>
It is far the easiest to settle for the right extension key from the
beginning. Changing it later involves a cascade of name changes to
tables, modules, configuration files etc.   <BR><BR><B>About GPL and
extensions:</B> Remember that TYPO3 is GPL software and at the same
moment you extend TYPO3 your extensions are legally covered by GPL.
This does not <I>force</I> you to share your extension, but it should
<I>inspire</I> you to do so and legally you cannot prevent anyone who
gets hold of your extension code from using it and further develop
it. <BR>The TYPO3 Extension API is designed to make sharing of your
work easy as well as using others work easy. Remember TYPO3 is Open
Source Software and we rely on each other in the community to develop
it further.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Responsibility:</B>
It's also your responsibility to make sure that all content of your
extensions is legally covered by GPL. The webmaster of TYPO3.org
reserves the right to kick out any extension <I>without notice</I>
that is reported to contain non-GPL material.</FONT></P>
<H3 CLASS="western"><A NAME="2.1.5.Naming conventions|outline"></A>Naming
conventions</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Based
on the extension key of an extension these naming conventions should
be followed:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=44*>
	<COL WIDTH=58*>
	<COL WIDTH=51*>
	<COL WIDTH=45*>
	<COL WIDTH=58*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western"><BR>
				</P>
			</TH>
			<TH WIDTH=23%>
				<P CLASS="western">General</P>
			</TH>
			<TH WIDTH=20%>
				<P CLASS="western">Example</P>
			</TH>
			<TH WIDTH=18%>
				<P CLASS="western">User specific</P>
			</TH>
			<TH WIDTH=22%>
				<P CLASS="western">Example</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">Extension key</P>
				<P CLASS="western">(Lowercase “alnum” + underscores. )</P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">Assigned by the TYPO3 Extension Repository.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">cool_shop</P>
			</TD>
			<TD WIDTH=18%>
				<P CLASS="western">Determined by yourself, but prefixed “user_”</P>
			</TD>
			<TD WIDTH=22%>
				<P CLASS="western">user_my_shop</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">Database tables and fields</P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">Prefix with “tx_[<I>key</I>]_” where key
				is <I>without</I> underscores!</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western"><B>Prefix:</B> tx_coolshop_</P>
				<P CLASS="western"><B>Examples: </B>
				</P>
				<P CLASS="western">tx_coolshop_products</P>
				<P CLASS="western">tx_coolshop_categories</P>
			</TD>
			<TD WIDTH=18%>
				<P CLASS="western">Prefix with “[<I>key</I>]_”</P>
			</TD>
			<TD WIDTH=22%>
				<P CLASS="western"><B>Prefix: </B>user_my_shop_</P>
				<P CLASS="western"><B>Examples:</B></P>
				<P CLASS="western">user_my_shop_products</P>
				<P CLASS="western">user_my_shop_categories</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">Backend module</P>
				<P CLASS="western">(Names are always <I>without</I> underscores!)</P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">Name: The extension key name <I>without</I>
				underscores, prefixed “tx”</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">txcoolshop</P>
			</TD>
			<TD WIDTH=18%>
				<P CLASS="western">Name: No underscores, prefixed “u”</P>
			</TD>
			<TD WIDTH=22%>
				<P CLASS="western">uMyShop or umyshop or ...</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">Frontend PHP classes</P>
			</TD>
			<TD COLSPAN=4 WIDTH=83%>
				<P CLASS="western" ALIGN=CENTER><I>(Same as database tables and
				fields. Prepend class file names “class.” though.)</I></P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Best practice on using underscores</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you study the naming conventions above closely you will find that
they are complicated due to varying rules for underscores in
keynames; Sometimes the underscores are stripped off, sometimes not.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
best practice you can follow is to <I>not use underscores </I>in your
extensions keys at all! That will make the rules simpler. This is
highly encouraged.</FONT></P>
<H4 CLASS="western">Note on “old” and default extensions:</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Some
the “classic” extensions from before the extension structure came
about does not comply with these naming conventions. That is an
exception made for backwards compatibility. The assignment of new
keys from the TYPO3 Extension Repository will make sure that any of
these old names are not accidentially reassigned to new extensions.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Further,
some of the classic plugins (tt_board, tt_guest etc) users the
“user_” prefix for their classes as well. </FONT>
</P>
<H3 CLASS="western"><A NAME="2.1.6.Import and install of extensions|outline"></A>
Import and install of extensions</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are only two (maybe three) simple steps involved in using extensions
with TYPO3:</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
	must <I>import </I>it. <BR>This simply means to copy the extensions
	files into the correct directory in either typo3/ext/ (global) or
	typo3conf/ext/ (local). More commonly you import an extension
	directly from the online TYPO3 Extension Repository. When an
	extension is found located in one of the extension locations, it is
	<I>available</I> to the system. <BR>The EM should take care of this
	process, including updates to newer versions if needed. <BR>Notice
	that backend modules will have their “conf.php” file modified in
	the install process depending on whether they are installed locally
	or globally!</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
	must <I>install</I> it.<BR>An extension is loaded only if its
	extension key is listed in comma list of the variable
	$TYPO3_CONF_VARS[&quot;EXT&quot;][&quot;extList&quot;]. The list of
	enabled extensions must be set and modified from inside
	typo3conf/localconf.php. Extensions are loaded in the order they
	appear in this list. Any extensions listed in
	$TYPO3_CONF_VARS[&quot;EXT&quot;][&quot;requiredExt&quot;] will be
	forcibly loaded before any extensions in
	$TYPO3_CONF_VARS[&quot;EXT&quot;][&quot;extList&quot;].<BR>An
	enabled extension is always global to the TYPO3 Installation - you
	cannot disable an extension from being loaded in a particular branch
	of the page tree.<BR>The EM takes care enabling extensions. It's
	highly recommended that the EM is doing this, because the EM will
	make sure the priorities, dependencies and conflicts are managed
	according to the extension characteristics, including clearing of
	the cache-files if any.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
	<I>might</I> need to configure it.<BR>Certain extensions may allow
	you to configure some settings. Again the EM is able to handle the
	configuration of the extensions based on a certain API for this. Any
	settings - if present - configured for an extension is available as
	an array in the variable
	$TYPO3_CONF_VARS[&quot;EXT&quot;][&quot;extConf&quot;][<I>extension
	key</I>].</FONT></P>
</OL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Loaded
extensions are registered in a global variable, $TYPO3_LOADED_EXT,
available in both frontend and backend of TYPO3. The loading and
registration process happens in t3lib/config_default.php. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is how the data structure for an extension in this array looks:</FONT></P>
<PRE CLASS="western">$TYPO3_LOADED_EXT[<I>extension key</I>] = Array (
	“type” =&gt;		S, G, L for system, global or local type of availability.
	“siteRelPath” =&gt; Path of extension dir relative to the PATH_site constant
				eg. “typo3/ext/my_ext/” or “typo3conf/ext/my_ext/”
	“typo3RelPath” =&gt; Path of extension dir relative to the “typo3/” admin folder
				eg. “ext/my_ext/” or “../typo3conf/ext/my_ext/”
	“ext_localconf” =&gt; Contains absolute path to 'ext_localconf.php' file if present
	“ext_tables” =&gt; [same]
	“ext_tables_sql” =&gt; [same]
	“ext_tables_static+adt.sql” =&gt; [same]
	“ext_typoscript_constants.txt” =&gt; [same]
	“ext_typoscript_setup.txt” =&gt; [same]
	“ext_typoscript_editorcfg.txt” =&gt; [same]
)</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
order of the registered extensions in this array corresponds to the
order they were listed in
TYPO3_CONF_VARS[&quot;EXT&quot;][&quot;requiredExt&quot;].TYPO3_CONF_VARS[&quot;EXT&quot;][&quot;extList&quot;]
with duplicates removed of course.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
inclusion of ext_tables.php or ext_localconf.php files are done by
traversing (a copy of) the $TYPO3_LOADED_EXT array.</FONT></P>
<H3 CLASS="western"><A NAME="2.1.7.ext_tables.php and ext_localconf.php|outline"></A>
ext_tables.php and ext_localconf.php</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
two files are the most important for the execution of extensions to
TYPO3. They contain configuration used within the system on almost
every request. Therefore they should be optimized for speed.</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">ext_localconf.php
	is always included in global scope of the script, either frontend or
	backend. <BR>You <I>can</I> put functions and classes into the
	script, but you should consider doing that in other ways because
	such classes and functions would <I>always</I> be available - and it
	would be better if they were included only when needed.<BR>So stick
	to change values in TYPO3_CONF_VARS only!</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">ext_tables.php
	is <I>not </I>always included in global scope on the other hand (in
	the frontend)<BR>Don't put functions and classes - or include other
	files which does - into this script!</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Use
	the API of the class extMgm for various manipulative tasks such as
	adding tables, merging information into arrays etc.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Before
	the inclusion of any of the two files, the variables $_EXTKEY is set
	to the extention-key name of the module and $_EXTCONF is set to the
	configuration from $TYPO3_CONF_VARS[&quot;EXT”][&quot;extConf&quot;][<I>extension
	key</I>]</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">$TYPO3_LOADED_EXT[<I>extension
	key</I>] contains information about whether the module is loaded as
	<I>local, global</I> or <I>system</I> type, including the proper
	paths you might use, absolute and relative.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	inclusion can happen in two ways:</FONT></P>
</UL>
<UL>
	<UL>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">1)
		Either the files are included individually on each request (many
		file includes) ($TYPO3_CONF_VARS[&quot;EXT”][&quot;extCache&quot;]=0;)</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">2)
		or (better) the files are automatically imploded into one single
		temporary file (cached) in typo3conf/ directory (only one file
		include) ($TYPO3_CONF_VARS[&quot;EXT”][&quot;extCache&quot;]=1; 
		[or 2]). This is default (value “1”)</FONT></P>
	</UL>
</UL>
<UL>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
	effect this means:</FONT></P>
	<UL>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Your
		ext_tables.php / ext_localconf.php file must be designed so that it
		can safely be read and subsequently imploded into one single file
		with all the other configuration scripts!</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
		must NEVER use a “return” statement in the files global scope -
		that would make the cached script concept break.</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
		should NOT rely on the PHP constant __FILE__ for detection of
		include path of the script - the configuration might be executed
		from a cached script and therefore such information should be
		derived from the $TYPO3_LOADED_EXT[<I>extension key</I>] array. Eg.
		$TYPO3_LOADED_<SPAN STYLE="font-style: normal">EXT[$_EXTKEY][“siteRelPath”]</SPAN></FONT></P>
	</UL>
</UL>
<H3 CLASS="western"><A NAME="2.1.8.ext_emconf.php|outline"></A>ext_emconf.php</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
script configures the extension manager. The only thing included is
an array, $EM_CONF[<I>extension_key</I>] with these associative keys
(below in table).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
extensions are imported from the online repository this file is
auto-written! So don't put any custom stuff in there - only change
values in the $EM_CONF array if needed. </FONT>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=43*>
	<COL WIDTH=41*>
	<COL WIDTH=172*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=67%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">title</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string, required</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">The name of the extension in English.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">description</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string, required</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Short and precise description in English of
				what the module does and for whom it might be useful. 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">category</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Which category the extension belongs to:</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western"><B>be</B></P>
					<P CLASS="western">Backend (Generally backend oriented, but not
					a module)</P>
					<LI><P CLASS="western"><B>module</B></P>
					<P CLASS="western">Backend modules (When something is a module
					or connects with one)</P>
					<LI><P CLASS="western"><B>fe</B></P>
					<P CLASS="western">Frontend (Generally frontend oriented, but
					not a “true” plugin)</P>
					<LI><P CLASS="western"><B>plugin</B></P>
					<P CLASS="western">Frontend plugins (Plugins inserted as a
					“Insert Plugin” content element)</P>
					<LI><P CLASS="western"><B>misc</B></P>
					<P CLASS="western">Miscellaneous stuff (Where not easily placed
					elsewhere)</P>
					<LI><P CLASS="western"><B>services</B></P>
					<P CLASS="western">Contains TYPO3 services</P>
					<LI><P CLASS="western"><B>templates</B></P>
					<P CLASS="western">Contains website templates</P>
					<LI><P CLASS="western"><B>example</B></P>
					<P CLASS="western">Example extension (Which serves as examples
					etc.)</P>
					<LI><P CLASS="western"><B>doc</B></P>
					<P CLASS="western">Documentation (Eg. tutorials, FAQ's etc.)</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">shy</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">If set, the extension will normally be hidden
				in the EM because it might be a default extension or otherwise
				something which is not so important. Use this flag if an
				extension is of “rare interest” (which is not the same as
				un-important - just an extension not sought for very often...)</P>
				<P CLASS="western">It does not affect whether or not it's
				enabled. Only display in EM.</P>
				<P CLASS="western">Normally “shy” is set for all extensions
				loaded by default according to TYPO3_CONF_VARS.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">dependencies</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">list of extention-keys</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">This is a list of other extension keys which
				this extension depends on being loaded <I>before</I> itself. The
				EM will manage that dependency while writing the extension list
				to localconf.php</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">conflicts</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">list of extention-keys</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">List of extension keys of extensions with
				which this extension does <I>not</I> work (and so cannot be
				enabled before those other extensions are un-installed)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">priority</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">“top”, “bottom”</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">This tells the EM to try to put the extensions
				as the very first in the list. Default is last.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">loadOrder</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">module</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">list of strings</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western" STYLE="font-weight: normal">If any subfolders
				to an extension contains backend modules, those foldernames
				should be listed here. It allows the EM to know about the
				existence of the module, which is important because the EM has to
				update the conf.php file of the module in order to set the
				correct TYPO3_MOD_PATH  constant.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">state</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Which state is the extension in?</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western"><B>alpha</B></P>
					<P CLASS="western">Alpha state is used for very initial work,
					basically the state is has during the very process of creating
					its foundation.</P>
					<LI><P CLASS="western"><B>beta</B></P>
					<P CLASS="western">Under current development. Beta extensions
					are functional but not complete in functionality. Most likely
					beta-extensions will not be reviewed.</P>
					<LI><P CLASS="western"><B>stable</B></P>
					<P CLASS="western">Stable extensions are complete, mature and
					ready for production environment. You will be approached for a
					review. Authors of stable extensions carry a responsibility to
					be maintain and improve them.</P>
					<LI><P CLASS="western"><B>experimental</B></P>
					<P CLASS="western">Experimental state is useful for anything
					experimental - of course. Nobody knows if this is going anywhere
					yet... Maybe still just an idea.</P>
					<LI><P CLASS="western"><B>test</B></P>
					<P CLASS="western">Test extension, demonstrates concepts etc.</P>
					<LI><P CLASS="western"><B>obsolete</B></P>
					<P CLASS="western">The extension is obsolete or depricated. This
					can be due to other extensions solving the same problem but in a
					better way or if the extension is not being maintained anymore.</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">internal</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">This flag indicates that the core source code
				is specifically aware of the extension. In other words this flag
				should convey the message that “this extension could not be
				written independently of core source code modifications”.</P>
				<P CLASS="western">An extension is not internal just because it
				uses TYPO3 general classes eg. those from t3lib/. 
				</P>
				<P CLASS="western">True non-internal extensions are characterized
				by the fact that they could be written without making core source
				code changes, but relies only on existing classes  in TYPO3
				and/or other extensions, plus its own scripts in the extension
				folder.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">uploadfolder</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">If set, then the folder named
				“uploads/tx_[extKey-with-no-underscore]” should be present!</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">createDirs</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">list of strings</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Comma list of directories to create upon
				extension installation.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">modify_tables</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">list of tables</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">List of table names which are only modified -
				not fully created - by this extension. Tables from this list
				found in the ext_tables.sql file of the extension 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">lockType</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">char; L, G or S</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Locks the extension to be installed in a
				specific position of the three posible:</P>
				<UL>
					<LI><P CLASS="western"><B>L</B> = local (typo3conf/ext/)</P>
					<LI><P CLASS="western"><B>G</B> = global (typo3/ext/)</P>
					<LI><P CLASS="western"><B>S</B> = system (typo3/sysext/)</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">clearCacheOnLoad</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">If set, the EM will request the cache to be
				cleared when this extension is loaded.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">author</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Author name (Use a-z)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">author_email</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">email address</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Author email address</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">author_company</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Author company (if any company sponsors the
				extension).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">CGLcompliance</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">keyword</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Compliance level that the extension claim to
				adhere to. A compliance defines certain coding guidelines, level
				of documentation, technical requirements (like XHTML, DBAL usage
				etc).</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Possible values are:</P>
				<UL>
					<LI><P CLASS="western">CGL360</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Please see the Project Coding Guidelines for a
				description of each compliance keyword (and the full allowed
				list).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">CGLcompliance_note</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Any remarks to the compliance status. Might
				describe some minor incompatibilities or other reservations.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western"><FONT COLOR="#666666">private</FONT></P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western"><FONT COLOR="#666666">boolean</FONT></P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western"><FONT COLOR="#666666">If set, <I>this version</I>
				of the extension is not included in the public list!</FONT></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><FONT COLOR="#666666">(Not supported anymore)</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western"><FONT COLOR="#666666">download_password</FONT></P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western"><FONT COLOR="#666666">string</FONT></P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western"><FONT COLOR="#666666">If set, this password
				must additionally be specified if people want to access (import
				or see details for) this the extension.</FONT></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><FONT COLOR="#666666">(Not supported anymore)</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">version</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">main.sub.dev</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Version of the extension. Automatically
				managed by EM / TER. Format is [int].[int].[int]</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="2.1.9.Extending “extensions-classes”|outline"></A>
Extending “extensions-classes”</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
rather exotic thing to do but nevertheless...</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you are programming extensions yourself you should as a standard
procedure include the “class extension code” in the bottom of the
class file:</FONT></P>
<PRE CLASS="western">if (defined(&quot;TYPO3_MODE&quot;) &amp;&amp; 	$TYPO3_CONF_VARS[TYPO3_MODE][&quot;XCLASS&quot;][&quot;ext/class.cool_shop.php&quot;])	{
	include_once($TYPO3_CONF_VARS[TYPO3_MODE][&quot;XCLASS&quot;][&quot;ext/class.cool_shop.php&quot;]);
}</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Normally
the key used as example here (“ext/class.cool_shop.php”) would be
the full path to the script relative to the PATH_site constant.
However because modules are required to work from both typo3/sysext/,
typo3/ext/ <I>and</I>  typo3conf/ext/ it is policy that any path
before “ext/” is omitted.</FONT></P>
<H3 CLASS="western"><A NAME="2.1.10.The Extension Manager (EM)|outline"></A>
The Extension Manager (EM)</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Extensions
are managed from the Extension Manager inside TYPO3 by &quot;admin&quot;
users. The module is located at &quot;Tools &gt; Ext Manager&quot;
and offers a menu with options to see loaded extensions (those that
are installed or activated), available extensions on the server and
the possibility to import extensions from online resources, typically
TER (TYPO3 Extension Repository) which is at TYPO3.org.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
interface looks like this for the list of available extensions:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_641dc29e.png" NAME="Graphic90" ALIGN=LEFT WIDTH=624 HEIGHT=522 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
interface is really easy to use. You just click the +/- icon to the
left of an extension in order to install it.</FONT></P>
<H3 CLASS="western"><A NAME="2.1.11.Basic framework for a new extension|outline"></A>
Basic framework for a new extension</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
document will not describe into details how to create extensions. It
only aims to be a reference for the facts regarding the rules of how
extensions register with the system.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">To
learn to create extensions you should read one of the extension
tutorials that are available. They will take you through the process
step by step and explain best-practices for you.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">To
start up a new extension the most popular tool is the Extension
Kickstarter Wizard. From a series of menus it allows you to configure
a basic set of features you want to get into your extension and a
selection of default files will be created. The idea is that you
continue to develop these files into your specific application.</FONT></P>
<H4 CLASS="western">Registering an extension key</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Before
starting a new extension you should register an extension key on
TYPO3.org (unless you plan to make an implementation specific
extension of course which does not make sense to share). </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Go
to TYPO3.org, log in with your (pre-created) username / password and
enter <A HREF="http://typo3.org/extensions/register-extension-keys/">http://typo3.org/extensions/register-extension-keys/</A>.
In the bottom of the page you can enter the key name you want to
register.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m5ca9280a.png" NAME="Graphic47" ALIGN=LEFT WIDTH=439 HEIGHT=183 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Enabling the Kickstarter Wizard (KS)</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Before
you can use the Kickstarter Wizard you will have to enable it. The
&quot;Kickstarter&quot; is an extension like everything else (key:
&quot;extrep_wizard&quot;) so it must be installed first:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_61c3979a.png" NAME="Graphic91" ALIGN=LEFT WIDTH=400 HEIGHT=52 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">After
the installation of the extension you will find a new menu item named
&quot;Make new extension&quot; in the selector box menu of the
Extension Manager.</FONT></P>
<H4 CLASS="western">Using the Kickstarter Wizard</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the Kickstarter you should always fill in the General Information
which includes the title, description, author name etc for the
extension. But the most important thing is to enter the extension key
as the very first thing!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_77663a02.png" NAME="Graphic92" ALIGN=LEFT WIDTH=669 HEIGHT=407 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">After
entering this information you can begin to create new tables and
fields in the database, you can configure backend modules and
frontend plugins etc. Basically this is what tutorials will cover in
detail.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
you are through with the configuration you click the button to the
left called &quot;View result&quot;. This will let you preview the
content of the files the Kickstarter will write to the server. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_6d8e13a.png" NAME="Graphic93" ALIGN=LEFT WIDTH=669 HEIGHT=591 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
is important that you write the extension to the correct location.
Most likely that will be &quot;Local&quot; in your case.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">Finally,
if there already is an extension with the same extension key </SPAN><I>every
file from that extension will be overwritten with the Kickstarters
output! </I><SPAN STYLE="font-style: normal">Remember: This is </SPAN><I>a
kickstarter, not an editor!</I><SPAN STYLE="font-style: normal"> It
is meant to kick you off with your new TYPO3 extension and nothing
more! So of course it overwrites all existing files!</SPAN></FONT></P>
<H4 CLASS="western">Enabling your newly created extension</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">After
the extension is written to the servers harddisk you should see a
message like this. Immediately you can now install the extension:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m35d48a27.png" NAME="Graphic94" ALIGN=LEFT WIDTH=669 HEIGHT=210 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Re-edit the extension</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the process of creating an extension is it rather typical to go back
to the Kickstarter a few times to fine tune to base code. Experience
suggests that this is especially useful to tuning the configuration
of database tables and fields. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you want to load the Kickstarter with the original configuration used
for your extension so you can add or edit features, just click the
extension title in the list of loaded/available extensions and select
&quot;Backup/Delete&quot; from the menu:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m383c9ec4.png" NAME="Graphic95" ALIGN=LEFT WIDTH=669 HEIGHT=365 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Clicking
the &quot;Start new&quot; button will bring you back to the
Kickstarter with all the original configuration used (configuration
loaded from &quot;doc/wizard_form.dat&quot; which must still exist).</FONT></P>
<H4 CLASS="western"><B>Warning about re-editing</B></H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
is potentially dangerous to introduce this feature because it may
leave you with the wrong impression of the Kickstarter. It is <I>still
not</I> an editor for your extensions! Whatever custom changes that
has been made to the scripts of your new extension will be
overwritten when you write back the extension from the Kickstarter.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
good workflow for using the Kickstarter turns out to be this:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Start
	by setting up all the features you need for your extension and write
	it with the Kickstarter.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Begin
	to fill in dummy information in the database tables your extension
	contain. You will most likely find that you forgot something or
	misconfigured a database field. Since you have not yet done any
	changes to the files in the extension you can safely re-load the
	extension configuration (see above) and add the missing fields or
	whatever. Your dummy database content will not be affected by this
	operation.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
	you have tested that your database configuration works for your
	purpose you can begin to edit the PHP-scripts by hand (fx.
	programming the extension plugin). This is the &quot;point-of-no-return&quot;
	where you cannot safely return to the Kickstarter because you have
	now changed scripts manually.</FONT></P>
</UL>
<H1 CLASS="western"><A NAME="3.TYPO3 API overview|outline"></A></SPAN>TYPO3
API overview</H1>
<H2 CLASS="western"><A NAME="3.1.Introduction|outline"></A>Introduction</H2>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">
</FONT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
source is the documentation!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(General
wisdom)</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
TYPO3 APIs are first and foremost documented inside of the source
scripts. It would be impossible to maintain documentation at more
than one location given the fact that things change and sometimes
fast. </FONT>
</P>
<H4 CLASS="western">Inline documentation</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">We
have dedicated ourselves to document the classes and methods inside
the source scripts (JavaDoc style). This means that you can use any
JavaDoc compliant documentor program to extract API documentation
from the source. You can also install the extension &quot;extdeveval&quot;
which will offer you a menu with links to the most important APIs in
TYPO3 from within TYPO3:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m1464a372.png" NAME="Graphic97" ALIGN=LEFT WIDTH=669 HEIGHT=45 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Clicking
a link like &quot;extMgm&quot; will bring up a new window with the
full API of that class:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_3dd3d82d.png" NAME="Graphic98" ALIGN=LEFT WIDTH=561 HEIGHT=559 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Pointers in the right direction</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
point of this documentation is to help you understand which parts of
the API is particularly important or useful for your TYPO3 hacking.
The next pages will highlight functions and classes which you should
make yourself familiar with.</FONT></P>
<H2 CLASS="western"><A NAME="3.2.General functions|outline"></A>General
functions</H2>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are a few core classes in TYPO3 which contain general functionality.
These classes are (typically) just a collection of individual
functions you call non-instantiated, like [class name]::[method
name]. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
are the most important classes to know about in TYPO3:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=146*>
	<COL WIDTH=58*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Class name:</P>
			</TH>
			<TH WIDTH=57%>
				<P CLASS="western">Description:</P>
			</TH>
			<TH WIDTH=23%>
				<P CLASS="western">Usage:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">t3lib_DB</P>
			</TD>
			<TD WIDTH=57%>
				<P CLASS="western"><B>Database Abstraction Base API</B></P>
				<P CLASS="western">All access to the database must go through
				this object. That is the first step towards DBAL compliance in
				your code. The class contains MySQL wrapper functions which can
				almost be search/replaced with your existing calls.</P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">$GLOBALS['TYPO3_DB'] in both frontend and
				backend</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">t3lib_cs</P>
			</TD>
			<TD WIDTH=57%>
				<P CLASS="western"><B>Character Set handling API</B></P>
				<P CLASS="western">Contains native PHP code to handle character
				set conversion based on charset tables from Unicode.org. It is
				not certain that you will have to use this class directly but if
				you need to do charset conversion at any time you should use this
				class. 
				</P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">In backend, $GLOBALS['LANG']-&gt;csConvObj</P>
				<P CLASS="western">In frontend, $GLOBALS['TSFE']-&gt;csConvObj</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">t3lib_div</P>
			</TD>
			<TD WIDTH=57%>
				<P CLASS="western"><B>General Purpose Functions</B></P>
				<P CLASS="western">A collection of multi-purpose PHP functions.
				Some are TYPO3 specific but not all.</P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">t3lib_div::</P>
				<P CLASS="western">(Non-instantiated!)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">t3lib_BEfunc</P>
			</TD>
			<TD WIDTH=57%>
				<P CLASS="western"><B>Backend Specific Functions</B></P>
				<P CLASS="western">Contains functions specific for the backend of
				TYPO3. You will typically need these when programming backend
				modules or other backend functionality.</P>
				<P CLASS="western" STYLE="font-weight: normal"><I>This class is
				NOT available in the frontend!</I></P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">t3lib_BEfunc::</P>
				<P CLASS="western">(Non-instantiated!)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">t3lib_extMgm</P>
			</TD>
			<TD WIDTH=57%>
				<P CLASS="western"><B>Extension API functions</B></P>
				<P CLASS="western">Functions for extensions to interface with the
				core system. Many of these functions are used in
				ext_localconf.php and ext_tables.php files of extensions. They
				let extensions register their features with the system.</P>
				<P CLASS="western"><I>See extension programming tutorials for
				more details.</I></P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">t3lib_extMgm::</P>
				<P CLASS="western">(Non-instantiated!)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">t3lib_iconWorks</P>
			</TD>
			<TD WIDTH=57%>
				<P CLASS="western"><B>Icons / Part of skinning API</B></P>
				<P CLASS="western">Contains a few functions for getting the right
				icon for a database table record or the skinned version of any
				other icon.</P>
				<P CLASS="western"><I>This class is NOT available in the
				frontend!</I></P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">t3lib_iconWorks::</P>
				<P CLASS="western">(Non-instantiated!)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">template</P>
			</TD>
			<TD WIDTH=57%>
				<P CLASS="western"><B>Backend Template Class</B></P>
				<P CLASS="western" STYLE="font-weight: normal">Contains functions
				for producing the layout of backend modules, setting up HTML
				headers, wrapping JavaScript sections correctly for XHTML etc.</P>
			</TD>
			<TD WIDTH=23%>
				<P CLASS="western">$GLOBALS['TBE_TEMPLATE'] or 
				</P>
				<P CLASS="western">$GLOBALS['SOBE'] or 
				</P>
				<P CLASS="western">$this-&gt;doc (inside of Script Classes)</P>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
classes are always included and available in the TYPO3 backend and
frontend (except &quot;t3lib_BEfunc&quot; and &quot;t3lib_iconWorks&quot;).
</FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
following pages will list methods from these classes in priority of
importance. You should at least acquaint yourself with all
High-priority functions since these are a part of the Coding
Guidelines requirements. In addition you might like to know about
other functions which are very often used since they might be very
helpful to you (they were to others!).</FONT></P>
<H3 CLASS="western"><A NAME="3.2.1.High priority functions (CGL requirements)|outline"></A>
High priority functions (CGL requirements)</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
functions listed in this table is of high priority. Generally they
provide APIs to functionality which TYPO3 should always handle in the
same way. This will help you to code TYPO3 applications with less
bugs and greater compatibility with various system conditions it will
run under.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Remember,
this list only serves to point out important functions! The real
documentation is found in the source scripts. The comments given is
only a supplement to that.</FONT></P>
<TABLE WIDTH=669 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=166>
	<COL WIDTH=485>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=166>
				<P CLASS="western">Function</P>
			</TH>
			<TH WIDTH=485>
				<P CLASS="western">Comments</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::_GP</P>
				<P CLASS="western">t3lib_div::_GET</P>
				<P CLASS="western">t3lib_div::_POST</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Getting values from GET or POST vars</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">APIs for getting values in GET or POST
				variables with slashes stripped regardless of PHP environment.
				Always use these functions instead of direct access to $_GET,
				$_POST or $HTTP_GET_VARS/$HTTP_POST_VARS.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">t3lib_div::_GP($varname) will give you the
				value of either the GET or POST variable with priority to POST if
				present. This is useful if you don't know whether a parameter is
				passed as GET or POST. Many scripts will use this function to
				read variables in the init function:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting GPvars:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">file </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_GP</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'file'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">size </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_GP</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'size'</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western">
				t3lib_div::_GET() will give you GET vars. For security reasons
				you should use this if you know your parameters are passed as GET
				variables. This example gives you the whole $_GET array:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$params </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_GET</FONT><FONT COLOR="#007700">();</FONT></FONT></PRE><P CLASS="western">
				t3lib_div::POST() will give you POST variables. Works like
				t3lib_div::_GET(). For security reasons you should use this if
				you know your parameters are passed as POST variables. 
				</P>
				<P CLASS="western">This example gives you the content of the POST
				variable TSFE_ADMIN_PANEL, for instance it could come from a form
				field like &quot;&lt;input name=&quot;TSFE_ADMIN_PANEL[command]&quot;
				..../&gt;</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$input </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_POST</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'TSFE_ADMIN_PANEL'</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::makeInstance</P>
				<P CLASS="western">t3lib_div::makeInstanceClassName</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Creating objects</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Factory APIs for creating an object instance
				of a class name (or getting the correct class name to
				instantiate). These functions make sure the &quot;XCLASS
				extension&quot; principle can be used on (almost) any class in
				TYPO3. You must use either of these functions for creating
				objects in TYPO3.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Examples:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#ff8000">// Making an instance of class &quot;t3lib_TSparser&quot;:</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$parseObj </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_TSparser'</FONT><FONT COLOR="#007700">);</FONT></FONT>

<FONT COLOR="#ff8000">// Make an object with an argument passed to the constructor:</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$className</FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstanceClassName</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;t3lib_xml&quot;</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#0000bb">$xmlObj </FONT><FONT COLOR="#007700">= new </FONT><FONT COLOR="#0000bb">$className</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;typo3_export&quot;</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::getIndpEnv</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Environment-safe server  and environment
				variables.</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">API function for delivery of system and
				environment variables on any web-server brand and server OS.
				Always use this API instead of $_ENV/$_SERVER or getenv() if
				possible.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Examples:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIndpEnv</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'HTTP_ACCEPT_LANGUAGE'</FONT><FONT COLOR="#007700">) == </FONT><FONT COLOR="#0000bb">$test</FONT><FONT COLOR="#007700">)...</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">cmpIP</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIndpEnv</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'REMOTE_ADDR'</FONT><FONT COLOR="#007700">), </FONT><FONT COLOR="#0000bb">$pcs</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">]))...</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$prefix </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIndpEnv</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'TYPO3_REQUEST_URL'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$redirectTo </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIndpEnv</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'TYPO3_SITE_URL'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#0000bb">$redirectTo</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIndpEnv</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'TYPO3_SSL'</FONT><FONT COLOR="#007700">)) ...</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::loadTCA</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Loading full table description into $TCA</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you want to access or change any part of
				the $TCA array for a table except the ['ctrl'] part then you
				should call this function first. The $TCA might not contain the
				full configuration for the table (depending on configuration of
				the table) and to make sure it is loaded if it isn't already you
				call this function.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Examples of PHP code which traverses the
				['columns'] part of an unknown  table and loads the table before.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">loadTCA</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">table</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">reset</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">table</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;columns&quot;</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">while(list(</FONT><FONT COLOR="#0000bb">$fN</FONT><FONT COLOR="#007700">)=</FONT><FONT COLOR="#0000bb">each</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">table</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;columns&quot;</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fieldListArr</FONT><FONT COLOR="#007700">[]=</FONT><FONT COLOR="#0000bb">$fN</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::deleteClause</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Get SQL WHERE-clause  filtering &quot;deleted&quot;
				records</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Tables from $TCA might be configured to set an
				integer flag when deleted instead of being physically deleted
				from the database. In any case records with the deleted-flag set
				<I>must never </I><SPAN STYLE="font-style: normal">be selected in
				TYPO3. To make sure you never make that mistake always call this
				function which will pass you a SQL WHERE-clause like &quot; AND
				deleted=0&quot; if the table given as argument has been
				configured with a deleted-field.</SPAN></P>
				<P CLASS="western" STYLE="font-style: normal">(Notice: In the
				frontend this is build into the &quot;enableFields()&quot;
				function.)</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">Example:</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<PRE CLASS="western" STYLE="font-style: normal"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$res </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">exec_SELECTquery</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid,uid,title,TSconfig,is_siteroot,storage_pid'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uid='</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$uid</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' '</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">deleteClause</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' '</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$clause&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::isLoaded</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Returns true if an extension is loaded
				(installed)</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you need to check if an extension is loaded
				in a TYPO3 installation simply use this function to ask for that.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Example:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// If the extension &quot;sys_note&quot; is loaded, then...</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isLoaded</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'sys_note'</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;...</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// If the &quot;cms&quot; extension is NOT loaded, return false</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isLoaded</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'cms'</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;return;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Check if the &quot;indexed_search&quot; extension is loaded. If not, exit PHP!</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isLoaded</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;indexed_search&quot;</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Assign value &quot;popup&quot; if extension &quot;tsconfig_help&quot; is loaded</FONT></FONT>
<FONT COLOR="#0000bb">$type </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isLoaded</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tsconfig_help'</FONT><FONT COLOR="#007700">)?</FONT><FONT COLOR="#dd0000">'popup'</FONT><FONT COLOR="#007700">:</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::extPath</P>
				<P CLASS="western">t3lib_extMgm::extRelPath</P>
				<P CLASS="western">t3lib_extMgm::siteRelPath</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Get file path to an extension directory</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you need to get the absolute or relative
				filepaths to an extension you should use these functions.
				Extension can be located in three different positions in the
				filesystem whether they are local, global or system extensions.
				These functions will always give you the right path.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Examples:</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Include a PHP file from the extension &quot;extrep_wizard&quot;.</FONT></FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;// t3lib_extMgm::extPath() returns the absolute path to the </FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;// extension directory.</FONT>
<FONT COLOR="#007700">require_once(</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'extrep_wizard'</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pi/class.tx_extrepwizard.php'</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Get relative path (relative to PATH_typo3) to an icon (backend)</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$icon </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;tt_rating&quot;</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">&quot;rating.gif&quot;</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Get relative path (relative to PATH_site) to an icon (frontend)</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">return </FONT><FONT COLOR="#dd0000">'&lt;img src=&quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">siteRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;indexed_search&quot;</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'pi/res/locked.gif&quot; </FONT></FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;... /&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::getFileAbsFileName</P>
				<P CLASS="western">t3lib_div::validPathStr</P>
				<P CLASS="western">t3lib_div::isAbsPath</P>
				<P CLASS="western">t3lib_div::isAllowedAbsPath</P>
				<P CLASS="western">t3lib_div::fixWindowsFilePath</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Evaluate files and directories for security
				reasons</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">When you allow references to files to be
				inputted from users there is always the risk that they try to
				cheat the system to include something else than intended. These
				functions makes it easy for you to evaluate filenames for
				validity before reading, writing or including them.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Here the functions are described in order of
				importance:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::getFileAbsFileName()</B> -
				Returns the absolute filename of a relative reference, resolves
				the &quot;EXT:&quot; prefix (way of referring to files inside
				extensions) and checks that the file is inside the PATH_site of
				the TYPO3 installation and implies a check with
				t3lib_div::validPathStr(). Returns false if checks failed. Does
				not check if the file exists.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Getting absolute path of a temporary file:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$cacheFile </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getFileAbsFileName</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'typo3temp/tempfile.tmp'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Include file if it exists:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$file </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getFileAbsFileName</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$fileRef</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (@</FONT><FONT COLOR="#0000bb">is_file</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$file</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;include(</FONT><FONT COLOR="#0000bb">$file</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western">
				<B>t3lib_div::validPathStr()</B> - Checks for malicious file
				paths. Returns true if no '//', '..' or '\' is in the $theFile.
				This should make sure that the path is not pointing 'backwards'
				and further doesn't contain double/back slashes.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// If the path is true and validates as a valid path string:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$path </FONT><FONT COLOR="#007700">&amp;&amp; </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">validPathStr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;...</FONT></FONT></PRE><P CLASS="western">
				<B>t3lib_div::isAbsPath()</B> - Checks if the input path is
				absolute or relative (detecting either '/' or 'x:/' as first part
				of string) and returns true if so.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Returns relative filename for icon:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isAbsPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$Ifilename</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$Ifilename </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'../'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">substr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$Ifilename</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">strlen</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">PATH_site</FONT><FONT COLOR="#007700">));</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western">
				<B>t3lib_div::isAllowedAbsPath()</B> - Returns true if the path
				is absolute, without backpath '..' and within the PATH_site OR
				within the lockRootPath. Contrary to
				t3lib_div::getFileAbsFileName() this function can also validate
				files in filemounts outside the web-root of the installation, but
				this is rarely used!</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">if (@</FONT><FONT COLOR="#0000bb">file_exists</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">) &amp;&amp; </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isAllowedAbsPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fI </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">pathinfo</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</FONT></PRE><P CLASS="western">
				<B>t3lib_div::fixWindowsFilePath()</B> - Fixes a path for
				Windows-backslashes and reduces double-slashes to single slashes</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::mkdir</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Creates directory</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">One would think that creating directories is
				one thing you can do directly with PHP. Well, it turns out to be
				quite error-prone if it should be compatible with Windows servers
				and safe-mode at the same time. So TYPO3 offers a substitution
				function you should always use.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Example:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$root</FONT><FONT COLOR="#007700">.=</FONT><FONT COLOR="#0000bb">$dirParts</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'/'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">is_dir</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$extDirPath</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$root</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">mkdir</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$extDirPath</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$root</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;if (!@</FONT><FONT COLOR="#0000bb">is_dir</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$extDirPath</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$root</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#dd0000">'Error: The directory &quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$extDirPath</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$root</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&quot; could not be created...'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">}</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::upload_to_tempfile</P>
				<P CLASS="western">t3lib_div::unlink_tempfile</P>
				<P CLASS="western">t3lib_div::tempnam</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Functions for handling uploads and
				temporary files</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">You need to use these functions for managing
				uploaded files you want to access as well as creating temporary
				files within the same session. These functions are safe_mode and
				open_basedir compatible which is the main point of you using
				them!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::upload_to_tempfile()</B> - Will
				move an uploaded file (normally in &quot;/tmp/xxxxx&quot;) to a
				temporary filename in PATH_site.&quot;typo3temp/&quot; from where
				TYPO3 can use it under <SPAN STYLE="font-weight: normal">safe_mode</SPAN>.
				Remember to use t3lib_div::unlink_tempfile() afterwards -
				otherwise temp-files will build up! They are <I>not</I>
				automatically deleted in PATH_site.&quot;typo3temp/&quot;!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::unlink_tempfile()</B> - Deletes
				(unlink) a temporary filename in 'PATH_site.&quot;typo3temp/&quot;'
				given as input. The function will check that the file exists, is
				in PATH_site.&quot;typo3temp/&quot; and does not contain
				back-spaces (&quot;../&quot;) so it should be pretty safe. Use
				this after upload_to_tempfile() or tempnam() from this class!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This example shows how to handle an uploaded
				file you just want to read and then delete again:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Read uploaded file:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$uploadedTempFile </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">upload_to_tempfile</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'HTTP_POST_FILES'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'upload_ext_file'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tmp_name'</FONT><FONT COLOR="#007700">]</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$fileContent </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getUrl</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$uploadedTempFile</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">unlink_tempfile</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$uploadedTempFile</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>t3lib_div::tempnam()</B> - Create temporary filename (creates
				file with unique file name). This function should be used for
				getting temporary filenames - will make your applications safe
				for &quot;open_basedir = on&quot;. Remember to delete the
				temporary files after use! This is done by
				t3lib_div::unlink_tempfile()</P>
				<P CLASS="western">In the following example it is shown how two
				temporary filenames are created for being processed with an
				external program (diff) after which they are deleted again:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Create file 1 and write string</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$file1 </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">tempnam</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'diff1_'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">writeFile</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$file1</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$str1</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Create file 2 and write string</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$file2 </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">tempnam</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'diff2_'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">writeFile</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$file2</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$str2</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Perform diff.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$cmd </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_CONF_VARS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'BE'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'diff_path'</FONT><FONT COLOR="#007700">].</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">' '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">diffOptions</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">' '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$file1</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">' '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$file2</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">exec</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$res</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">unlink</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$file1</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#0000bb">unlink</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$file2</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::fixed_lgd_cs</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Truncating a string for visual display,
				observing the character set (backend only)</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This function allows you to truncate a string
				from eg. &quot;Hello World&quot; to &quot;Hello Wo...&quot; so
				for example very long titles of records etc. will not break the
				visual appearance of your backend modules.</P>
				<P CLASS="western">Since text strings cannot be cropped at any
				byte if the character set is utf-8 or another multibyte charset
				this function will process the string assuming the character set
				to be the one used in the backend.</P>
				<P CLASS="western">It is recommended to use
				$BE_USER-&gt;uc['titleLen'] for the length parameter.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Limits Record title to 30 chars</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">fixed_lgd_cs</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$thisRecTitle</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">30</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Limits string to title-length configured for backend user:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$title </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">fixed_lgd_cs</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">uc</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'titleLen'</FONT><FONT COLOR="#007700">]</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::formatForTextarea</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Preparing a string for output between
				&lt;textarea&gt; tags.</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western" STYLE="font-weight: normal">Use this function
				to prepare content for &lt;textarea&gt; tags. Then you will avoid
				extra / stripped whitespace when the form is submitted multiple
				times.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Create item:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$item </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&lt;textarea&gt;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">formatForTextarea</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;/textarea&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::locationHeaderUrl</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Preparing a URL for a HTTP location-header</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Use this to prepare redirection URLs for
				location-headers. It will convert the URL to be absolute. This is
				needed for some webservers (Windows) while unix servers will work
				fine without. So to honor compatibility, use this function like
				this:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">Header</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'Location: '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">locationHeaderUrl</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">retUrl</FONT><FONT COLOR="#007700">));</FONT></FONT>
<FONT COLOR="#007700">exit;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::getFuncMenu</P>
				<P CLASS="western">t3lib_BEfunc::getFuncCheck</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Create &quot;Function menu&quot; in backend
				modules</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Creates a selector box menu or checkbox with
				states automatically saved in the backend user session. Such a
				function menu could look like this:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_me1b8787.png" NAME="Graphic112" ALIGN=LEFT WIDTH=261 HEIGHT=102 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The selector box is made by this function
				call. It sets the ID variable (zero if not available), the GET
				var name, &quot;SET[mode]&quot;, the current value from
				MOD_SETTINGS and finally the array of menu options,
				MOD_MENU['mode']:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getFuncMenu</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">id</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'SET[mode]'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MOD_SETTINGS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'mode'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MOD_MENU</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'mode'</FONT><FONT COLOR="#007700">]</FONT></FONT>
<FONT COLOR="#007700">)</FONT></PRE><P CLASS="western">
				Prior to making the menu it is required that the MOD_MENU array
				is set up with an array of options. This could look like this
				(getting some labels from the &quot;locallang&quot; system). In
				addition the incoming &quot;SET&quot; GET-variable must be
				registered in the session which is also done in this listing:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MOD_MENU </FONT><FONT COLOR="#007700">= array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'mode' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">0 </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$LANG</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getLL</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'user_overview'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'perms' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$LANG</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getLL</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'permissions'</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">);<BR></FONT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Clean up settings:<BR></FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MOD_SETTINGS </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getModuleData</FONT><FONT COLOR="#007700">(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MOD_MENU</FONT><FONT COLOR="#007700">,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_GP</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'SET'</FONT><FONT COLOR="#007700">), </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MCONF</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'name'</FONT><FONT COLOR="#007700">]</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</FONT></PRE><P CLASS="western">
				You can have a checkbox as well:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_m23a82c36.png" NAME="Graphic113" ALIGN=LEFT WIDTH=176 HEIGHT=78 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western">Then the function call looks like this. Notice
				the fourth argument is gone because a checkbox does not have any
				information about options like a selector box would have.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getFuncCheck</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'SET[own_member_only]'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MOD_SETTINGS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'own_member_only'</FONT><FONT COLOR="#007700">]</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				For checkboxes you must set the key in the MOD_MENU array as
				well. Otherwise the values are not registered in the user
				session:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'own_member_only' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::editOnClick</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Create onclick-JavaScript code that links
				to edit form for a record</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Use this function to create a link to the
				&quot;alt_doc.php&quot; core script which can generate editing
				forms for any $TCA configured record. The actual editing command
				is passed to &quot;alt_doc.php&quot; through the GET parameter
				&quot;&amp;edit&quot;.</P>
				<P CLASS="western">See the section with <A HREF="#Links%20to%20edit%20records%7Coutline">&quot;Various
				examples&quot; for detailed examples</A> of this!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Example:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#dd0000">'&amp;edit[pages]['</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">']=edit'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$link </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;#&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">editOnClick</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,-</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">)).</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&quot;&gt;Edit&lt;/a&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::viewOnClick</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Create onclick-JavaScript code that opens a
				page in the frontend</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">It will detect the correct domain name if
				needed and provide the link with the right back path. Also it
				will re-use any window already open.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// &quot;View page&quot; link is added:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$link </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;#&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">viewOnClick</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pageId</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">BEgetRootLine</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pageId</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)).</FONT><FONT COLOR="#dd0000">'&quot;&gt;View page&lt;/a&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">$GLOBALS['TBE_TEMPLATE']-&gt;</P>
				<P CLASS="western">issueCommand</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Creates a link to &quot;tce_db.php&quot;
				(with a command like copy, move,delete for records)</B></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-weight: normal">Creates a URL to
				the TYPO3 Core Engine interface provided from the core script,
				&quot;tce_db.php&quot;. The $params array is filled with date or
				cmd values. For detailed list of options <A HREF="#The%20%22tce_db.php%22%20API%7Coutline">see
				section about TCE elsewhere in this document</A>.</P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-weight: normal">Example:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Delete </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$params </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&amp;cmd[tt_content]['</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'][delete]=1'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$out</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SOBE'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">issueCommand</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">)).</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;return confirm('Want to delete?');&quot;</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&quot;&gt;Delete record&lt;/a&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::helpTextIcon</P>
				<P CLASS="western">t3lib_BEfunc::helpText</P>
				<P CLASS="western">t3lib_BEfunc::cshItem</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Create icon or short description for
				Context Sensitive Help (CSH)</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">You are encouraged to integrate Content
				Sensitive help in your backend modules and for your database
				tables. This will help users to use TYPO3 and your TYPO3
				applications more easily.</P>
				<P CLASS="western">With these functions you can create content
				sensitive help texts (and links to more details) like this:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_4fe73db7.png" NAME="Graphic114" ALIGN=LEFT WIDTH=334 HEIGHT=91 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western">(Note: For the short description to be
				displayed and not only the icon the user must set up &quot;Field
				help mode&quot; in the User&gt;Setup module to &quot;Display full
				text message&quot;.)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Examples:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting &quot;table name&quot; to module name with prefix</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$tableIdent </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'_MOD_'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MCONF</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'name'</FONT><FONT COLOR="#007700">];</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Creating CSH icon and short description:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$HTMLcode</FONT><FONT COLOR="#007700">.=</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">helpTextIcon</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tableIdent</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'quickEdit'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$BACK_PATH</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">helpText</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tableIdent</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'quickEdit'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$BACK_PATH</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;br /&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT></PRE><P CLASS="western">
				Prior to calling helpTextIcon and helpText you might need to load
				the description table with:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">uc</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'edit_showFieldHelp'</FONT><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$LANG</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">loadSingleTableDescription</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tableIdent</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western">
				Alternatively you can use t3lib_BEfunc::cshItem(). It's a quicker
				way  of integrating the descriptions since description files are
				loaded automatically and the text/icon mode is integrated in a
				single function call. This is recommended for sporadic usage:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$HTMLcode</FONT><FONT COLOR="#007700">.=<BR></FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">cshItem</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tableIdent</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'quickEdit'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$BACK_PATH</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_iconWorks::getIconImage</P>
				<P CLASS="western">t3lib_iconWorks::getIcon</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Getting correct icon for database table
				record</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Always use these functions if you need to get
				the icon for a record. Works only for records from tables which
				are defined in $TCA</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Getting default icon for the &quot;tt_content&quot; table:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIconImage</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">,array(),</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">backPath</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">);</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Getting an icon where record content may define the look:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$icon </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIconImage</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">table</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">backPath</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'align=&quot;top&quot; class=&quot;c-recIcon&quot;'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Getting the icon filename only:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$ficon </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIcon</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_iconWorks::skinImg</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Processing icons for skin API</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Pass the filename and width/height attributes
				of all images you use in your backend applications through this
				function. See <A HREF="#How%20to%20make%20your%20extensions%20compatible%20with%20skinning%7Coutline">Skin
				API description</A> for more details.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$skin_enabled_icon </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;img'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">skinImg</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">backPath</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'gfx/recordlock_warning3.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'width=&quot;17&quot; height=&quot;12&quot;'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">' alt=&quot;&quot; /&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">$GLOBALS['TYPO3_DB']-&gt;</P>
				<P CLASS="western">exec_INSERTquery</P>
				<P CLASS="western">exec_UPDATEquery</P>
				<P CLASS="western">exec_DELETEquery</P>
				<P CLASS="western">exec_SELECTquery</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Database Access API</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">To be compatible with Database Abstraction
				Layers you should always use the global object $TYPO3_DB for
				database access. The class &quot;t3lib_db&quot; contains a list
				of MySQL wrapper functions (sql(), sql_fetch_assoc(), etc...)
				which you can use almost out of the box as a start. Just
				search/replace.</P>
				<P CLASS="western">But it is recommended that you port your
				application to using the four execution functions directly. These
				will both build the query for you and execute it.</P>
				<P CLASS="western">See the <A HREF="/home/doc_core_cgl/doc/manual.sxw#Database%20connectivity%7Coutline">Coding
				Guidelines</A>, t3lib_db API and <A HREF="#Database%7Coutline">Inside
				TYPO3</A> document for more information.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Inserting a record:</B></P>
				<P CLASS="western" STYLE="font-weight: normal">Just fill an array
				with &quot;fieldname =&gt; value&quot; pairs and pass it to
				exec_INSERTquery() along with the table name in which it should
				be inserted:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$insertFields </FONT><FONT COLOR="#007700">= array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'md5hash' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$md5</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">time</FONT><FONT COLOR="#007700">(),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$inUrl</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">exec_INSERTquery</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'cache_md5params'</FONT><FONT COLOR="#007700">, </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$insertFields</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>Updating a record:</B></P>
				<P CLASS="western">Create an array of &quot;fieldname =&gt;
				value&quot; pairs before calling exec_UPDATEquery(). The function
				call is almost like inserting, but you need to add a WHERE clause
				to target the update to the record you want to update. It is the
				second argument you set to a value like &quot;uid=???&quot;.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$fields_values </FONT><FONT COLOR="#007700">= array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'sys_todos'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$key</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'deadline' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'sys_todos'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$key</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'deadline'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'description' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'sys_todos'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$key</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'description'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">time</FONT><FONT COLOR="#007700">()</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">exec_UPDATEquery</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'sys_todos'</FONT><FONT COLOR="#007700">, </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uid='</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$key</FONT><FONT COLOR="#007700">), </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fields_values</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>Deleting a record:</B></P>
				<P CLASS="western">Call exec_DELETEquery() with the tablename <I>and</I>
				the WHERE clause selecting the record to delete:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">exec_DELETEquery</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'sys_todos'</FONT><FONT COLOR="#007700">, </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uid='</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$key</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>Selecting a record:</B></P>
				<P CLASS="western">Call exec_SELECTquery() with at least the
				first three arguments (field list to select, table name and WHERE
				clause). The return value is a result pointer (or object) which
				should be passed to -&gt;sql_fetch_assoc() in a loop in order to
				traverse the result rows.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$res </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">exec_SELECTquery</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'*'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$theTable</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$theField</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'=&quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">quoteStr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$theValue</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$theTable</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'&quot;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">deleteClause</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$theTable</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' '</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$whereClause</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$groupBy</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$orderBy</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$limit</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$rows </FONT><FONT COLOR="#007700">= array();</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">while(</FONT><FONT COLOR="#0000bb">$row </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">sql_fetch_assoc</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$res</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$rows</FONT><FONT COLOR="#007700">[] = </FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">}</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">sql_free_result</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$res</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">count</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$rows</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$rows</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">$GLOBALS['BE_USER']-&gt;</P>
				<P CLASS="western">isAdmin</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Return true if current backend user is
				&quot;admin&quot;</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Use this if you need to restrict a user from
				doing something unless he is &quot;admin&quot;.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">$GLOBALS['BE_USER']-&gt;</P>
				<P CLASS="western">getPagePermsClause</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western"><B>Return WHERE clause for filtering pages
				which permission mismatch for current user</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The most typical usage of this is to call the
				function with the value &quot;1&quot;. Then the WHERE clause
				returned will filter away all pages to which the user has no
				read-access.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">TYPO3 Coding Guidelines</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
should also refer to the <A HREF="/home/doc_core_cgl/doc/manual.sxw">TYPO3
Coding Guidelines</A> (CGL) document which is the authoritative
source to know about which coding practices are required for TYPO3
core and extension programming. That document also mentions the most
important API calls that you have to use and gives further insights.</FONT></P>
<H3 CLASS="western"><A NAME="3.2.2.Functions typically used and nice to know|outline"></A>
Functions typically used and nice to know</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
functions are generally just nice to know. They provide functionality
which you will often need in TYPO3 applications and therefore they
will save you time and make your applications easier for others to
understand as well since you use commonly known functions.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Please
take time to learn these functions!</FONT></P>
<TABLE WIDTH=669 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=166>
	<COL WIDTH=485>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=166>
				<P CLASS="western">Function</P>
			</TH>
			<TH WIDTH=485>
				<P CLASS="western">Comments</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::inList</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Check if an item exists in a comma-separated
				list of items.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">inList</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'gif,jpg,png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$ext</FONT><FONT COLOR="#007700">)) {</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::intInRange</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Forces the input variable (integer) into the
				boundaries of $min and $max.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">intInRange</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'priority'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::isFirstPartOfStr</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns true if the first part of input string
				matches the second argument.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isFirstPartOfStr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">PATH_site</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::testInt</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Tests if the input is an integer.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::shortMD5</P>
				<P CLASS="western">t3lib_div::md5int</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Creates partial/truncated MD5 hashes. Useful
				when a 32 byte hash is too long or you rather work with an
				integer than a string.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::shortMD5()</B> - Creates a 10
				byte short MD5 hash of input string 
				</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">$addQueryParams</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#dd0000">'&amp;cHash='</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">shortMD5</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">serialize</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pA</FONT><FONT COLOR="#007700">));</FONT></PRE><P CLASS="western">
				<B>t3lib_div::md5int()</B> - Creates an integer from the first 7
				hex chars of the MD5 hash string</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'mpvar_hash' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">md5int</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TSFE'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">MP</FONT><FONT COLOR="#007700">),</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::deHSCentities</P>
				<P CLASS="western">t3lib_div::htmlspecialchars_decode</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Reverse conversions of htmlspecialchars()</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::deHSCentities()</B> -
				Re-converts HTML entities if they have been converted by
				htmlspecialchars(). For instance &quot;&amp;amp;amp;&quot; which
				should stay &quot;&amp;amp;&quot;. Or &quot;&amp;amp;#1234;&quot;
				to &quot;&amp;#1234;&quot;. Or &quot;&amp;amp;#x1b;&quot; to
				&quot;&amp;#x1b;&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">$value </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">deHSCentities</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">));</FONT></PRE><P CLASS="western">
				<B>t3lib_div::htmlspecialchars_decode()</B> - Inverse version of
				htmlspecialchars()</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::modifyHTMLColor</P>
				<P CLASS="western">t3lib_div::modifyHTMLColorAll</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Modifies the RGB values of an 6-digit HTML hex
				color by adding/subtracting. Useful for increasing or decreasing
				brightness of colors.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">modifyHTMLColor</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'#cca823'</FONT><FONT COLOR="#007700">,+</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">,+</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">,+</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">modifyHTMLColorAll</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">bgColor</FONT><FONT COLOR="#007700">,-</FONT><FONT COLOR="#0000bb">20</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::formatSize</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Formats a number of bytes as Kb/Mb/Gb for
				visual output.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$size </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">' ('</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">formatSize</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">filesize</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$v</FONT><FONT COLOR="#007700">)).</FONT><FONT COLOR="#dd0000">'bytes)'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::validEmail</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Evaluates a string as an email address.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$email </FONT><FONT COLOR="#007700">&amp;&amp; </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">validEmail</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$email</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::trimExplode</P>
				<P CLASS="western">t3lib_div::intExplode</P>
				<P CLASS="western">t3lib_div::revExplode</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Various flavors of exploding a string by a
				token.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::trimExplode()</B> - Explodes a
				string by a token and trims the whitespace away around each item.
				Optionally any zero-length elements are removed. Very often used
				to explode strings from configuration, user input etc. where
				whitespace can be expected between values but is insignificant.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">array_unique</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">trimExplode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">','</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$rawExtList</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">));</FONT></FONT>
<FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">trimExplode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#0000bb">$content</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>t3lib_div::intExplode()</B> - Explodes a by a token and
				converts each item to an integer value. Very useful to force
				integer values out of a value list, for instance for an SQL
				query.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#ff8000">// Make integer list</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">implode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">intExplode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">','</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'subgroup'</FONT><FONT COLOR="#007700">]),</FONT><FONT COLOR="#dd0000">','</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western">
				<B>t3lib_div::revExplode()</B> - Reverse explode() which allows
				you to explode a string into X parts but from the back of the
				string instead.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$p</FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">revExplode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'/'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::array_merge_recursive_overrule</P>
				<P CLASS="western">t3lib_div::array_merge</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Merging arrays with fixes for &quot;PHP-bugs&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::array_merge_recursive_overrule()</B>
				- Merges two arrays recursively and &quot;binary safe&quot;
				(integer keys are overridden as well), overruling similar the
				values in the first array ($arr0) with the values of the second
				array ($arr1). In case of identical keys, ie. keeping the values
				of the second. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::array_merge()</B> - An
				array_merge function where the keys are NOT renumbered as they
				happen to be with the real php-array_merge function. It is
				&quot;binary safe&quot; in the sense that integer keys are
				overridden as well.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::array2xml</P>
				<P CLASS="western">t3lib_div::xml2array</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Serialization of PHP variables into XML.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">These functions are made to serialize and
				unserialize PHParrays to XML files. They are used for the
				FlexForms content in TYPO3, Data Structure definitions etc. The
				XML output is optimized for readability since associative keys
				are used as tagnames. This also means that only alphanumeric
				characters are allowed in the tag names <SPAN STYLE="font-style: normal">and
				</SPAN>only keys <I>not</I> starting with numbers (so watch your
				usage of keys!). However there are options you can set to avoid
				this problem. Numeric keys are stored with the default tagname
				&quot;numIndex&quot; but can be overridden to other formats). The
				function handles input values from the PHP array in a binary-safe
				way; All characters below 32 (except 9,10,13) will trigger the
				content to be converted to a base64-string. The PHP variable type
				of the data is preserved as long as the types are strings,
				arrays, integers and booleans. Strings are the default type
				unless the &quot;type&quot; attribute is set. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::array2xml()</B> - Converts a PHP
				array into an XML string.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">array2xml</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">FORMCFG</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'c'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'T3FormWizard'</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>t3lib_div::xml2array()</B> - Converts an XML string to a PHP
				array. This is the reverse function of array2xml()</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">xmlStorage</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$cfgArr </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">xml2array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">P</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'field'</FONT><FONT COLOR="#007700">]]);</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::getURL</P>
				<P CLASS="western">t3lib_div::writeFile</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Reading / Writing files</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::getURL()</B> - Reads the full
				content of a file or URL. Used throughout the TYPO3 sources.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">$templateCode </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getURL</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$templateFile</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>t3lib_div::writeFile()</B> - Writes a string into an absolute
				filename.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">writeFile</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$extDirPath</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$theFile</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$fileData</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'content'</FONT><FONT COLOR="#007700">]);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::split_fileref</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Splits a reference to a file in 5 parts.
				Alternative to &quot;path_info&quot; and fixes some &quot;PHP-bugs&quot;
				which makes page_info() unattractive at times.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::get_dirs</P>
				<P CLASS="western">t3lib_div::getFilesInDir</P>
				<P CLASS="western">t3lib_div::getAllFilesAndFoldersInPath</P>
				<P CLASS="western">t3lib_div::removePrefixPathFromList</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Read content of file system directories. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::get_dirs()</B> - Returns an
				array with the names of folders in a specific path</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">if (@</FONT><FONT COLOR="#0000bb">is_dir</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$directories </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">get_dirs</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$directories</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$directories </FONT><FONT COLOR="#007700">as </FONT><FONT COLOR="#0000bb">$dirName</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western">
				<B>t3lib_div::getFilesInDir()</B> - Returns an array with the
				names of files in a specific path</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$sFiles </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getFilesInDir</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">PATH_typo3conf</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#0000bb">$files </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getFilesInDir</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$dir</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'png,jpg,gif'</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>t3lib_div::getAllFilesAndFoldersInPath()</B> - Recursively
				gather all files and folders of a path.</P>
				<P CLASS="western"><B>t3lib_div::removePrefixPathFromList()</B> -
				Removes the absolute part of all files/folders in fileArr (useful
				for post processing of content from
				t3lib_div::getAllFilesAndFoldersInPath())</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Get all files with absolute paths prefixed:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$fileList_abs </FONT><FONT COLOR="#007700">= </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getAllFilesAndFoldersInPath</FONT><FONT COLOR="#007700">(array(),</FONT><FONT COLOR="#0000bb">$absPath</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'php,inc'</FONT><FONT COLOR="#007700">);</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Traverse files and remove abs path from each (becomes relative)</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$fileList_rel </FONT><FONT COLOR="#007700">= </FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">removePrefixPathFromList</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$fileList_abs</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$absPath</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::implodeArrayForUrl</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Implodes a multidimentional array into
				GET-parameters (eg.
				&amp;param[key][key2]=value2&amp;param[key][key3]=value3)</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$pString </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">implodeArrayForUrl</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::get_tag_attributes</P>
				<P CLASS="western">t3lib_div::implodeAttributes</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Works on HTML tag attributes</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::get_tag_attributes()</B> -
				Returns an array with all attributes of the input HTML tag as
				key/value pairs. Attributes are only lowercase a-z</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">$attribs </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">get_tag_attributes</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'&lt;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$subparts</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'&gt;'</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>t3lib_div::implodeAttributes()</B> - Implodes attributes in
				the array $arr for an attribute list in eg. and HTML tag (with
				quotes)</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$tag </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;img '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT>implodeAttributes<FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$attribs</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' /&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::resolveBackPath</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Resolves &quot;../&quot; sections in the input
				path string. For example
				&quot;fileadmin/directory/../other_directory/&quot; will be
				resolved to &quot;fileadmin/other_directory/&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::callUserFunction</P>
				<P CLASS="western">t3lib_div::getUserObj</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">General purpose functions for calling user
				functions (creating hooks).</P>
				<P CLASS="western">See the chapter about <A HREF="#Creating%20hooks%7Coutline">Hooks</A>
				in this document for detailed description of these functions.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::callUserFunction()</B> - Calls a
				userdefined function/method in class. Such a function/method
				should look like this: &quot;function proc(&amp;$params, &amp;$ref)
				{...}&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">procItems</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$items</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$iArray</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$config</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$field</FONT><FONT COLOR="#007700">) {</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;global </FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">=array();</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'items'</FONT><FONT COLOR="#007700">] = &amp;</FONT><FONT COLOR="#0000bb">$items</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'config'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$config</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TSconfig'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$iArray</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'table'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'row'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'field'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$field</FONT><FONT COLOR="#007700">;</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">callUserFunction</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$config</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemsProcFunc'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$items</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western">
				<B>t3lib_div::getUserObj()</B> - Creates and returns reference to
				a user defined object.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$_procObj </FONT><FONT COLOR="#007700">= &amp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getUserObj</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_classRef</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$_procObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">pObj </FONT><FONT COLOR="#007700">= &amp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#0000bb">$value </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$_procObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">transform_rte</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::linkThisScript</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns the URL to the current script. You can
				an array with associative keys corresponding to the GET-vars you
				wish to add to the URL. If you set them empty, they will remove
				existing GET-vars from the current URL.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_div::plainMailEncoded</P>
				<P CLASS="western">t3lib_div::quoted_printable</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Mail sending functions</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_div::plainMailEncoded()</B> - Simple
				substitute for the PHP function mail() which allows you to
				specify encoding and character set.</P>
				<P CLASS="western"><B>t3lib_div::quoted_printable()</B> -
				Implementation of quoted-printable encode.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::getRecord</P>
				<P CLASS="western">t3lib_BEfunc::getRecordsByField</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Functions for selecting records by uid or
				field value.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_BEfunc::getRecord()</B> - Gets record
				with uid=$uid from $table</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Getting array with title field from a page:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getRecord</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'shortcut'</FONT><FONT COLOR="#007700">]),</FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">);</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Getting a full record with permission WHERE clause</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$pageinfo </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getRecord</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$id</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'*'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</FONT><FONT COLOR="#0000bb">$perms_clause </FONT><FONT COLOR="#007700">? </FONT><FONT COLOR="#dd0000">' AND '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$perms_clause </FONT><FONT COLOR="#007700">: </FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;);</FONT></PRE><P CLASS="western">
				<B>t3lib_BEfunc::getRecordsByField()</B> - Returns records from
				table, $theTable, where a field ($theField) equals the value,
				$theValue</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Checking if the id-parameter is an alias.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">testInt</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$id</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;list(</FONT><FONT COLOR="#0000bb">$idPartR</FONT><FONT COLOR="#007700">) = </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getRecordsByField</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'alias'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$id</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$id </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$idPartR</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::getRecordPath</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns the path (visually) of a page $uid,
				fx. &quot;/First page/Second page/Another subpage&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$label </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getRecordPath</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'shortcut'</FONT><FONT COLOR="#007700">]),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$perms_clause</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">20</FONT></FONT>
<FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::readPageAccess</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns a page record (of page with $id) with
				an extra field &quot;_thePath&quot; set to the record path <I>if</I>
				the WHERE clause, $perms_clause, selects the record. Thus is
				works as an access check that returns a page record if access was
				granted, otherwise not.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$perms_clause </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BE_USER'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">getPagePermsClause</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#0000bb">$pageinfo </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">readPageAccess</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$id</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$perms_clause</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::date</P>
				<P CLASS="western">t3lib_BEfunc::datetime</P>
				<P CLASS="western">t3lib_BEfunc::calcAge</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Date/Time formatting functions using date/time
				format from TYPO3_CONF_VARS.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_BEfunc::date()</B> - Returns $tstamp
				formatted as &quot;ddmmyy&quot; (According to
				$TYPO3_CONF_VARS['SYS']['ddmmyy'])</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">datetime</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;crdate&quot;</FONT><FONT COLOR="#007700">])</FONT></PRE><P CLASS="western">
				<B>t3lib_BEfunc::datetime()</B> - Returns $tstamp formatted as
				&quot;ddmmyy hhmm&quot; (According to
				$TYPO3_CONF_VARS['SYS']['ddmmyy'] AND
				$TYPO3_CONF_VARS['SYS']['hhmm'])</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">datetime</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;item_mtime&quot;</FONT><FONT COLOR="#007700">])</FONT></PRE><P CLASS="western">
				<B>t3lib_BEfunc::calcAge()</B> - Returns the &quot;age&quot; in
				minutes / hours / days / years of the number of $seconds
				inputted. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$agePrefixes </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">' min| hrs| days| yrs'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">calcAge</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">time</FONT><FONT COLOR="#007700">()-</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'crdate'</FONT><FONT COLOR="#007700">], </FONT><FONT COLOR="#0000bb">$agePrefixes</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::titleAttribForPages</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns title-attribute information for a
				page-record informing about id, alias, doktype, hidden,
				starttime, endtime, fe_group etc. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$out </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">titleAttribForPages</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#0000bb">$out </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">titleAttribForPages</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'1=1 '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clause</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::thumbCode</P>
				<P CLASS="western">t3lib_BEfunc::getThumbNail</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns image tags for thumbnails</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_BEfunc::thumbCode()</B> - Returns a
				linked image-tag for
				thumbnail(s)/fileicons/truetype-font-previews from a database row
				with a list of image files in a field. Slightly advanced. It's
				more likely you will need t3lib_BEfunc::getThumbNail() to do the
				job.</P>
				<P CLASS="western"><B>t3lib_BEfunc::getThumbNail()</B> - Returns
				single image tag to thumbnail using a thumbnail script (like
				thumbs.php)</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getThumbNail</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">backPath</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'thumbs.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$filepath</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'hspace=&quot;5&quot; vspace=&quot;5&quot; border=&quot;1&quot;'</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::storeHash</P>
				<P CLASS="western">t3lib_BEfunc::getHash</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Get/Set cache values.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_BEfunc::storeHash()</B> - Stores the
				string value $data in the 'cache_hash' table with the hash key,
				$hash, and visual/symbolic identification, $ident</P>
				<P CLASS="western"><B>t3lib_BEfunc::getHash()</B> - Retrieves the
				string content stored with hash key, $hash, in cache_hash</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Example of how both functions are used
				together; first getHash() to fetch any possible content and if
				nothing was found how the content is generated and stored in the
				cache:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Parsing the user TS (or getting from cache)</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$userTS </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">implode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TSdataArray</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'[GLOBAL]'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">));</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$hash </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">md5</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pageTS:'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$userTS</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><B><FONT COLOR="#0000bb">$cachedContent </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getHash</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$hash</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">);</FONT></B></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$TSconfig </FONT><FONT COLOR="#007700">= array();</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (isset(</FONT><FONT COLOR="#0000bb">$cachedContent</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TSconfig </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">unserialize</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$cachedContent</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">} else {</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$parseObj </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_TSparser'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">parse</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$userTS</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TSconfig </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">setup</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb"><B>t3lib_BEfunc</B></FONT><FONT COLOR="#007700"><B>::</B></FONT><FONT COLOR="#0000bb"><B>storeHash</B></FONT><FONT COLOR="#007700"><B>(</B></FONT><FONT COLOR="#0000bb"><B>$hash</B></FONT><FONT COLOR="#007700"><B>,</B></FONT><FONT COLOR="#0000bb"><B>serialize</B></FONT><FONT COLOR="#007700"><B>(</B></FONT><FONT COLOR="#0000bb"><B>$TSconfig</B></FONT><FONT COLOR="#007700"><B>),</B></FONT><FONT COLOR="#dd0000"><B>'IDENT'</B></FONT><FONT COLOR="#007700"><B>);</B></FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::getRecordTitle</P>
				<P CLASS="western">t3lib_BEfunc::getProcessedValue</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Get processed / output prepared value from
				record</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>t3lib_BEfunc::getRecordTitle()</B> -
				Returns the &quot;title&quot; value from the input records field
				content.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">$line</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getRecordTitle</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western">
				<B>t3lib_BEfunc::getProcessedValue()</B> - Returns a human
				readable output of a value from a record. For instance a database
				record relation would be looked up to display the title-value of
				that record. A checkbox with a &quot;1&quot; value would be
				&quot;Yes&quot;, etc.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$outputValue </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">nl2br</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">fixed_lgd_cs</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getProcessedValue</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fieldName</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$fieldName</FONT><FONT COLOR="#007700">]</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">250</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::getFileIcon</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns file icon name (from $FILEICONS) for
				the fileextension $ext</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$fI </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">pathinfo</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$filePath</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$fileIcon </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getFileIcon</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">strtolower</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$fI</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'extension'</FONT><FONT COLOR="#007700">]));</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$fileIcon </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;img'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">skinImg</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">backPath</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'gfx/fileicons/'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$fileIcon</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'width=&quot;18&quot; height=&quot;16&quot;'</FONT></FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' alt=&quot;&quot; /&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_BEfunc::getPagesTSconfig</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Returns the Page TSconfig for page with id,
				$id.</P>
				<P CLASS="western">This example shows how an object path,
				&quot;mod.web_list&quot; is extracted from the Page TSconfig for
				page $id:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$modTSconfig </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;BE_USER&quot;</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">getTSConfig</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;mod.web_list&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getPagesTSconfig</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$id</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::addTCAcolumns</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Adding fields to an existing table definition
				in $TCA</P>
				<P CLASS="western">For usage in &quot;ext_tables.php&quot; files</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// tt_address modified</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">loadTCA</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_address'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addTCAcolumns</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_address'</FONT><FONT COLOR="#007700">,array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'module_sys_dmail_category' </FONT><FONT COLOR="#007700">=&gt; </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'config'</FONT><FONT COLOR="#007700">=&gt;array(</FONT><FONT COLOR="#dd0000">'type'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'passthrough'</FONT><FONT COLOR="#007700">)),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'module_sys_dmail_html' </FONT><FONT COLOR="#007700">=&gt; </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'config'</FONT><FONT COLOR="#007700">=&gt;array(</FONT><FONT COLOR="#dd0000">'type'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'passthrough'</FONT><FONT COLOR="#007700">))</FONT></FONT>
<FONT COLOR="#007700">));</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::addToAllTCAtypes</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Makes fields visible in the TCEforms, adding
				them to the end of (all) &quot;types&quot;-configurations</P>
				<P CLASS="western">For usage in &quot;ext_tables.php&quot; files</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addToAllTCAtypes</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;fe_users&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;tx_myext_newfield;;;;1-1-1, tx_myext_another_field&quot;</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::allowTableOnStandardPages</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Add tablename to default list of allowed
				tables on pages (in $PAGES_TYPES)</P>
				<P CLASS="western">For usage in &quot;ext_tables.php&quot; files</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">allowTableOnStandardPages</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_board'</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::addModule</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Adds a module (main or sub) to the backend
				interface</P>
				<P CLASS="western">For usage in &quot;ext_tables.php&quot; files</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addModule</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'user'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'setup'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'after:task'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'mod/'</FONT></FONT>
<FONT COLOR="#007700">);</FONT>

<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addModule</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tools'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'txcoreunittestM1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'mod1/'</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::insertModuleFunction</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Adds a &quot;Function menu module&quot;
				('third level module') to an existing function menu for some
				other backend module</P>
				<P CLASS="western">For usage in &quot;ext_tables.php&quot; files</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">insertModuleFunction</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'web_func'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tx_cmsplaintextimport_webfunc'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'class.tx_cmsplaintextimport_webfunc.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms_plaintext_import/locallang.php:menu_1'</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::addPlugin</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Adds an entry to the list of plugins in
				content elements of type &quot;Insert plugin&quot;</P>
				<P CLASS="western">For usage in &quot;ext_tables.php&quot; files</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addPlugin</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:newloginbox/locallang_db.php:tt_content.list_type1'</FONT><FONT COLOR="#007700">, </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'_pi1'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'list_type'</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=166>
				<P CLASS="western">t3lib_extMgm::addPItoST43</P>
			</TD>
			<TD WIDTH=485>
				<P CLASS="western">Add PlugIn to Static Template #43</P>
				<P CLASS="western">When adding a frontend plugin you will have to
				add both an entry to the TCA definition of tt_content table AND
				to the TypoScript template which must initiate the rendering.
				Since the static template with uid 43 is the &quot;content.default&quot;
				and practically always used for rendering the content elements
				it's very useful to have this function automatically adding the
				necessary TypoScript for calling your plugin. It will also work
				for the extension &quot;css_styled_content&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">For usage in &quot;ext_locallang.php&quot;
				files</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addPItoST43</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">);</FONT></PRE>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="3.2.3.Programming with workspaces in mind|outline"></A>
Programming with workspaces in mind</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
concept of workspaces needs attention from extension programmers. The
implementation of workspaces is however made so that no critical
problems can appear with old extensions; </FONT>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">First
	of all the “Live workspace” is no different from how TYPO3 has
	been working for years so that will be supported out of the box
	(except placeholder records must be filtered out in the frontend
	with “t3ver_state!=” , see below).</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Secondly,
	all permission related issues are implemented in TCEmain so the
	worst your users can experience is an error message.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">However,
you probably want to update your extension so that in the backend the
current workspace is reflected in the records shown and the preview
of content in the frontend works as well. Therefore this chapter has
been written with instructions and insight into the issues you are
facing.</FONT></P>
<H4 CLASS="western">Frontend challenges in general</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
the frontend the challenges are mostly related to creating correct
previews of content in workspaces. For most extensions this will work
transparently as long as they use the API functions in TYPO3 to
request records from the system.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
most basic form of a preview is when a live record is selected and
you lookup a future version of that record belonging to the current
workspace of the logged in backend user. This is very easy as long as
a record is selected based on its “uid” or “pid” fields which
are not subject to versioning; You simply call
“sys_page-&gt;versionOL()” after record selection. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">However,
when other fields are involved in the where clause it gets dirty.
This happens all the time! For instance, all records displayed in the
frontend must be selected with respect to “enableFields”
configuration! What if the future version is hidden and the live
version is not? Since the live version is selected first (not hidden)
and then overlaid with the content of the future version (hidden) the
effect of the hidden field we wanted to preview is lost unless we
also check the overlaid record for its hidden field (-&gt;versionOL()
actually does this). But what about the opposite; if the live record
was hidden and the future version not? Since the live version is
never selected the future version will never have a chance to display
itself! So we must first select the live records with no regard to
the hidden state, then overlay the future version and eventually
check if it is hidden and if so exclude it. The same problem applies
to all other “enableFields”, future versions with “delete”
flags and current versions which are invisible placeholders for
future records. Anyway, all that is handled by TYPO3s t3lib_page
class which includes functions for “enableFields” and “deleted”
so it will work out of the box for you. But as soon as you do
selection based on other fields like email, username, alias etc. it
will fail.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Summary:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Challenge:</B>
How to preview elements which are disabled by “enableFields” in
the live version but not necessarily in the offline version. Also,
how to filter out new live records with “t3ver_state” set to 1
(placeholder for new elements) but only when not previewed.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Solution:</B>
Disable check for “enableFields”/”where_del_hidden” on live
records and check for them in versionOL on input record.</FONT></P>
<H4 CLASS="western">Frontend implementation guidelines</H4>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Any
	place where enableFields() are not used for selecting in the
	frontend you must at least check that “t3ver_state!=1” so
	placeholders for new records are not displayed.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Make
	sure never to select any record with pid = -1! (offline records -
	related to versioning).</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
	you need to detect preview mode for versioning and workspaces you
	can read these variables:</FONT></P>
	<UL>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">$GLOBALS['TSFE']-&gt;sys_page-&gt;versioningPreview:
		If true, you are allowed to display previews of other record
		versions.</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">$GLOBALS['TSFE']-&gt;sys_page-&gt;versioningWorkspaceId:
		Will tell you the id of the workspace of the current backend user.
		Used for preview of workspaces.</FONT></P>
	</UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Use
	these API functions for support of version previews in the backend:</FONT></P>
</UL>
<PRE CLASS="western"></PRE>
<TABLE WIDTH=669 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=277>
	<COL WIDTH=374>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=277>
				<P CLASS="western">Function</P>
			</TH>
			<TH WIDTH=374>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=277>
				<P CLASS="western">$GLOBALS['TSFE']-&gt;sys_page-&gt;versionOL<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$table</FONT><FONT COLOR="#008000">,</FONT>&amp;<FONT COLOR="#5555ff">$row,
				$unsetMovePointers=FALSE</FONT><FONT COLOR="#008000">)</FONT></P>
			</TD>
			<TD WIDTH=374>
				<P CLASS="western">Versioning Preview Overlay. 
				</P>
				<P CLASS="western">Generally ALWAYS used when records are
				selected based on uid or pid. If records are selected on other
				fields than uid or pid (eg. &quot;email = ....&quot;) then usage
				might produce undesired results and that should be evaluated on
				individual basis.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Principle; Record online! =&gt; Find offline?</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">This is how simple it is to use this record in
				your frontend plugins when you do queries directly (not using API
				functions already using them):</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#5555ff">$res</FONT> = <FONT COLOR="#5555ff">$GLOBALS</FONT><FONT COLOR="#008000">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#008000">]</FONT>-&gt;exec_SELECTquery<FONT COLOR="#008000">(</FONT><FONT COLOR="#dd0000">...</FONT><FONT COLOR="#008000">);</FONT>
<FONT COLOR="#a1a100">while</FONT> <FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$row</FONT> = <FONT COLOR="#5555ff">$GLOBALS</FONT><FONT COLOR="#008000">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#008000">]</FONT>-&gt;sql_fetch_assoc<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$res</FONT><FONT COLOR="#008000">))</FONT>      {
        <FONT COLOR="#5555ff">$GLOBALS</FONT><FONT COLOR="#008000">[</FONT><FONT COLOR="#dd0000">'TSFE'</FONT><FONT COLOR="#008000">]</FONT>-&gt;sys_page-&gt;versionOL<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$table</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$row</FONT><FONT COLOR="#008000">);</FONT>

        <FONT COLOR="#a1a100">if</FONT> <FONT COLOR="#008000">(</FONT><FONT COLOR="#000080">is_array</FONT><FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$row</FONT><FONT COLOR="#008000">))</FONT>     {
<FONT COLOR="#008000">...</FONT></PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">When the live record is selected, call
				-&gt;versionOL() and make sure to check if the input row (passed
				by reference) is still an array.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The third argument, $unsetMovePointers=FALSE,
				can be set to TRUE when selecting records for display ordered by
				their position in the page tree. Difficult to explain easily, so
				only use this option if you don't get a correct preview of
				records that has been moved in a workspace (only for “element”
				type versioning)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=277>
				<P CLASS="western">$GLOBALS['TSFE']-&gt;sys_page-&gt;fixVersioningPid()</P>
			</TD>
			<TD WIDTH=374>
				<P CLASS="western">Finding online PID for offline version record.
								</P>
				<P CLASS="western">Will look if the &quot;pid&quot; value of the
				input record is -1 (it is an offline version) and if the table
				supports versioning; if so, it will translate the -1 PID into the
				PID of the original record</P>
				<P CLASS="western">Used whenever you are tracking something back,
				like making the root line. In fact, it is currently only used by
				the root line function and chances are that you will not need
				this function often.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Principle; Record offline! =&gt; Find online?</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<PRE CLASS="western"></PRE><H4 CLASS="western">
Frontend scenarios impossible to preview</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
issues are not planned to be supported for preview:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Lookups
	and searching for records based on other fields than
	uid,pid,”enableFields” will never reflect workspace content
	since overlays happen to online records <I>after</I> they are
	selected.</FONT></P>
	<UL>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
		problem can largely be avoided for <I>versions of new records</I>
		because versions of a &quot;New&quot;-placeholder can mirror
		certain fields down onto the placeholder record. For the
		&quot;tt_content&quot; table this is configured as
		<FONT COLOR="#dd0000">'shadowColumnsForNewPlaceholders'</FONT> =&gt;
		<FONT COLOR="#dd0000">'sys_language_uid,l18n_parent,colPos,header'</FONT><FONT COLOR="#008000">,
		 </FONT>so that these fields used for column position, language and
		header title are also updated in the placeholder thus creating a
		correct preview in the frontend.</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
		<I>versions of existing records</I>  the problem is in reality
		reduced a lot because normally you don't change the column or
		language fields after the record is first created anyways! But in
		theory the preview can fail.</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
		changing the type of a page (eg. from &quot;Standard&quot; to
		&quot;External URL&quot;) the preview might fail in cases where a
		look up is done on the &quot;doktype&quot; field of the live
		record.</FONT></P>
		<UL>
			<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Page
			shortcuts might not work properly in preview.</FONT></P>
			<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Mount
			Points might not work properly in preview.</FONT></P>
		</UL>
	</UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
	is impossible to preview the value of “count(*)” selections
	since we would have to traverse all records and pass them through
	-&gt;versionOL() before we would have a reliable result!</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
	tslib_fe::getPageShortcut() sys_page-&gt;getMenu() is called with an
	additional WHERE clause which will not respect if those fields are
	changed for a future version. This could be the case other places
	where getmenu() is used (but a search shows it is not a big
	problem). In this case we will for now accept that a wrong shortcut
	destination can be experienced during previews. </FONT>
	</P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Backend challenges</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
main challenge in the backend is to reflect how the system will look
when the workspace gets published. To create a transparent experience
for backend users we have to overlay almost every selected record
with any possible new version it might have. Also when we are
tracking records back to the page tree root point we will have to
correct pid-values. All issues related to selecting on fields other
than pid and uid also relates to the backend as they did for the
frontend.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Workspace
related API functions for backend modules</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<TABLE WIDTH=669 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=224>
	<COL WIDTH=427>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=224>
				<P CLASS="western">Function</P>
			</TH>
			<TH WIDTH=427>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">t3lib_BEfunc::workspaceOL()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Overlaying record with workspace version if
				any. Works like -&gt;sys_page-&gt;versionOL() does, but for the
				backend. Input record must have fields only from the table (no
				pseudo fields) and the record is passed by reference.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><FONT COLOR="#5555ff">$result</FONT> = <FONT COLOR="#5555ff">$GLOBALS</FONT><FONT COLOR="#008000">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#008000">]</FONT>-&gt;exec_SELECTquery<FONT COLOR="#008000">(</FONT><FONT COLOR="#dd0000">'*'</FONT><FONT COLOR="#008000">,</FONT> <FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#008000">,</FONT> <FONT COLOR="#dd0000">'uid='</FONT>.<FONT COLOR="#000080">intval</FONT><FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$id</FONT><FONT COLOR="#008000">)</FONT>.<FONT COLOR="#5555ff">$delClause</FONT><FONT COLOR="#008000">);</FONT>
<FONT COLOR="#5555ff">$row</FONT> = <FONT COLOR="#5555ff">$GLOBALS</FONT><FONT COLOR="#008000">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#008000">]</FONT>-&gt;sql_fetch_assoc<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$result</FONT><FONT COLOR="#008000">);</FONT>
t3lib_BEfunc<FONT COLOR="#008000">::</FONT>workspaceOL<FONT COLOR="#008000">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#008000">,</FONT> <FONT COLOR="#5555ff">$row</FONT><FONT COLOR="#008000">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">t3lib_BEfunc::getRecordWSOL()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Gets record from table and overlays the record
				with workspace version if any. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><FONT COLOR="#5555ff">$row</FONT> = t3lib_BEfunc<FONT COLOR="#008000">::</FONT>getRecordWSOL<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$table</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$uid</FONT><FONT COLOR="#008000">);</FONT>


<FONT COLOR="#008000">// This is the same as:</FONT>
<FONT COLOR="#008000"><FONT COLOR="#5555ff">$row</FONT> = t3lib_BEfunc::getRecord(<FONT COLOR="#5555ff">$table</FONT>,<FONT COLOR="#5555ff">$uid</FONT>);</FONT>
t3lib_BEfunc<FONT COLOR="#008000">::</FONT>workspaceOL<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$table</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$row</FONT><FONT COLOR="#008000">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">t3lib_BEfunc::fixVersioningPid()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Translating versioning PID -1 to the pid of
				the live record. Same as sys_page-&gt;fixVersioningPid() but for
				the backend.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">t3lib_BEfunc::isPidInVersionizedBranch()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Will fetch the rootline for the pid, then
				check if anywhere in the rootline there is a branch point.
				Returns either &quot;branchpoint&quot; (if branch) or &quot;first&quot;
				(if page) or false if nothing. Alternatively, it returns the
				value of &quot;t3ver_stage&quot; for the branchpoint (if any)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">t3lib_BEfunc::getWorkspaceVersionOfRecord()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Returns offline workspace version of a record,
				if found.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">t3lib_BEfunc::getLiveVersionOfRecord()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Returns live version of workspace version.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">t3lib_BEfunc::versioningPlaceholderClause()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Returns a WHERE-clause which will deselect
				placeholder records from other workspaces. This should be
				implemented almost everywhere records are selected based on other
				fields than uid and where t3lib_BEfunc<FONT COLOR="#008000">::</FONT>deleteClause()
				is used. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#5555ff">$res</FONT> = <FONT COLOR="#5555ff">$GLOBALS</FONT><FONT COLOR="#008000">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#008000">]</FONT>-&gt;exec_SELECTquery<FONT COLOR="#008000">(</FONT>
<FONT COLOR="#dd0000">   'count(*)'</FONT><FONT COLOR="#008000">,</FONT>
<FONT COLOR="#5555ff">   $this</FONT>-&gt;table<FONT COLOR="#008000">,</FONT>
<FONT COLOR="#5555ff">   $this</FONT>-&gt;parentField.<FONT COLOR="#dd0000">'='</FONT>.<FONT COLOR="#5555ff">$GLOBALS</FONT><FONT COLOR="#008000">[</FONT><FONT COLOR="#dd0000">'TYPO3_DB'</FONT><FONT COLOR="#008000">]</FONT>-&gt;fullQuoteStr<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$uid</FONT><FONT COLOR="#008000">,</FONT> <FONT COLOR="#5555ff">$this</FONT>-&gt;table<FONT COLOR="#008000">)</FONT>.
   t3lib_BEfunc<FONT COLOR="#008000">::</FONT>deleteClause<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$this</FONT>-&gt;table<FONT COLOR="#008000">)</FONT>.
   t3lib_BEfunc<FONT COLOR="#008000">::</FONT>versioningPlaceholderClause<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$this</FONT>-&gt;table<FONT COLOR="#008000">)</FONT>.
<FONT COLOR="#5555ff">   $this</FONT>-&gt;clause
<FONT COLOR="#008000">);</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;workspaceCannotEditRecord()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Checking if editing of an existing record is
				allowed in current workspace if that is offline.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;workspaceCannotEditOfflineVersion()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Like $BE_USER-&gt;workspaceCannotEditRecord()
				but also requires version to be offline (draft)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;workspaceCreateNewRecord()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Checks if new records can be created in a
				certain page (according to workspace restrictions).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;workspacePublishAccess($wsid)</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Returns true if user has access to publish in
				workspace.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;workspaceSwapAccess()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Returns true if user has access to swap
				versions.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;checkWorkspace()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Checks how the users access is for a specific
				workspace.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;checkWorkspaceCurrent()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Like -&gt;checkWorkspace() but returns status
				for the current workspace.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;setWorkspace()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Setting another workspace for backend user.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=224>
				<P CLASS="western">$BE_USER-&gt;setWorkspacePreview()</P>
			</TD>
			<TD WIDTH=427>
				<P CLASS="western">Setting frontend preview state.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Backend module access</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can restrict access to backend modules by using $MCONF['workspaces']
in the conf.php files. The variable is a list of keywords defining
where the module is available:</FONT></P>
<PRE CLASS="western">$MCONF['workspaces'] = online,offline,custom</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can also restrict function menu items to certain workspaces if you
like. This is done by an argument sent to the function
t3lib_extMgm::<FONT COLOR="#000080">insertModuleFunction(). See that
file for more details.</FONT></FONT></P>
<H4 CLASS="western">Detecting current workspace</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can always check what the current workspace of the backend user is by
reading $GLOBALS['BE_USER']-&gt;workspace. If the workspace is a
custom workspace you will find its record loaded in
$GLOBALS['BE_USER']-&gt;workspaceRec.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
values for workspaces are as following:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">workspace
	<FONT COLOR="#0000ff">0</FONT> = <FONT COLOR="#000080">online</FONT>
	(live)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">workspace
	-<FONT COLOR="#0000ff">1</FONT> = <FONT COLOR="#000080">offline</FONT>
	(draft)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">workspace
	&gt; <FONT COLOR="#0000ff">0</FONT> = <FONT COLOR="#000080">custom</FONT>
	(projects)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">workspace
	-<FONT COLOR="#0000ff">99</FONT> = none selected at all (ERROR!)</FONT></P>
</UL>
<H4 CLASS="western">Using TCEmain with workspaces</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Since
admin-users are also restricted by the workspace it is not possible
to save any live records when in a workspace. However for very
special occasions you might need to bypass this and to do so, you can
set the instance variable t3lib_tcemain::bypassWorkspaceRestrictions
to TRUE. An example of this is when users are updating their user
profile using the User &gt; Setup module; that actually allows them
to save to a live record (their user record) while in a draft
workspace.</FONT></P>
<H4 CLASS="western">Moving in workspaces</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Recently
(TYPO3 4.2 and beyond) supports moving for “Element” type
versions in workspaces. Technically this works by creating a new
online placeholder record (like for new elements in a workspace) in
the target location with “t3ver_state” = 3 (move-to placeholder)
and a field, “t3ver_move_id”, holding the uid of the record to
move (source record) upon publishing. In addition, a new version of
the source record is made and has “t3ver_state” = 4 (move-to
pointer). This version is simply necessary in order for the
versioning system to have something to publish for the move
operation.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
in summary, two records are created for a move operation in a
workspace: The placeholder (online, with state=3 and t3ver_move_id
set) and a new version (state=4) of the online source record (the one
being moved).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
the version of the source is published a look up will be made to see
if a placeholder exists for a move operation and if so the record
will take over the pid / “sortby” value upon publishing.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Preview
of move operations is almost fully functional through the
t3lib_page::versionOL() and t3lib_BEfunc::workspaceOL() functions.
When the online placeholder is selected it simply looks up the source
record, overlays any version on top and displays it. When the source
record is selected it should simply be discarded in case shown in
context where ordering or position matters (like in menus or column
based page content). This is done in the appropriate places.</FONT></P>
<H2 CLASS="western"><A NAME="3.3.TYPO3 Core Engine (TCE)|outline"></A>
TYPO3 Core Engine (TCE)</H2>
<H3 CLASS="western"><A NAME="3.3.1.Introduction|outline"></A>Introduction</H3>
<H4 CLASS="western"><A NAME="Database|outline"></A>Database</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
TYPO3 Core Engine is the class that handles <I>all </I><I><B>data
</B></I><I><SPAN STYLE="font-weight: normal">writing </SPAN></I><I>to
database tables configured in $TCA</I>. In addition the class handles
<B>commands</B> such as copy, move, delete. It will handle
undo/history and versioning of records as well and everything will be
logged to the sys_log. And it will make sure that write permissions
are evaluated correctly for the user trying to write to the database.
Generally, any processing specific option in the $TCA array is
handled by TCE.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Using
TCE for manipulation of the database content in the TCA configured
tables guarantees that the data integrity of TYPO3 is respected. This
cannot be safely guaranteed if you write to $TCA configured database
tables directly. It will also manage the relations to files and other
records.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TCE
requires a backend login to work. This is due to the fact that
permissions are observed (of course) and thus TCE needs a backend
user to evaluate against. This means you cannot use TCEmain from the
frontend scope. Thus writing to tables (such as a guestbook) will
have to be done from the frontend <I>without</I> TCEmain.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
features of the $TCA (Table Configuration Array) array are discussed
in the end of this document.</FONT></P>
<H4 CLASS="western">Files</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TCE
also has a part for handling files. The file operations are normally
performed in the File &gt; List module where you can manage a
directory on the server by copying, moving, deleting and editing
files and directories. The file operations are managed by two core
classes, t3lib_basicFileFunc and t3lib_extFileFunc.</FONT></P>
<H3 CLASS="western"><A NAME="3.3.2.Database: t3lib_TCEmain basics|outline"></A>
Database: t3lib_TCEmain basics</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
you are using TCE from your backend applications you need to prepare
two arrays of information which contain the instructions to TCEmain
of what actions to perform. They fall into two categories: Data and
Commands.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;Data&quot;
is when you want to write information to a database table or create a
new record.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;Commands&quot;
is when you want to move, copy or delete a record in the system.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
data and commands are created as multidimensional arrays and to
understand the API of TCEmain you simply need to understand the
hierarchy of these two arrays.</FONT></P>
<H4 CLASS="western">Commands Array ($cmd):</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Syntax:</FONT></P>
<PRE CLASS="western">$cmd[ <I>tablename </I>][ <I>uid</I> ][ <I>command</I> ] = <I>value</I>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Description of keywords in syntax:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=38*>
	<COL WIDTH=43*>
	<COL WIDTH=174*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=15%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">tablename</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Name of the database table. Must be configured
				in $TCA array, otherwise it cannot be processed.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">uid</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The UID of the record that is manipulated.
				This is always an integer.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">command</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string (command keyword)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The command type you want to execute.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> Only <I>one</I> command can be
				executed at a time for each record! The first command in the
				array will be taken.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><I>See table below for command keywords and
				values</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">value</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">mixed</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="font-style: normal">The value for the
				command</P>
				<P CLASS="western"><I>See table below for command keywords and
				values</I></P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<PRE CLASS="western" STYLE="font-style: normal"></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Command keywords and values:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=39*>
	<COL WIDTH=43*>
	<COL WIDTH=174*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=15%>
				<P CLASS="western">Command</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Value</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">copy</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The significance of the value depends on
				whether it is positive or negative:</P>
				<UL>
					<LI><P CLASS="western">Positive value: The value points to a
					page UID. A copy of the record (and possibly child elements/tree
					below) will be inserted inside that page as the first element.</P>
					<LI><P CLASS="western">Negative value: The (absolute) value
					points to another record from the same table as the record being
					copied. The new record will be inserted on the same page as that
					record and if $TCA[...]['ctrl']['sortby'] is set, then it will
					be positioned <I>after</I>.</P>
					<LI><P CLASS="western">Zero value: Record is inserted on tree
					root level</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">move</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Works like &quot;copy&quot; but moves the
				record instead of making a copy.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">delete</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;1&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Value should always be &quot;1&quot;</P>
				<P CLASS="western">This action will delete the record (or mark
				the record &quot;deleted&quot; if configured in $TCA)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">undelete</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">“1”</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Value should always be &quot;1&quot;.</P>
				<P CLASS="western">This action will set the deleted-flag back to
				0.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">localize</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Pointer to a “sys_language” uid to
				localize the record into. Basically a localization of a record is
				making a copy of the record (possibly excluding certain fields
				defined with “l10n_mode”) but changing relevant fields to
				point to the right sys language / original language record.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Requirements for a successful localization is
				this:</P>
				<UL>
					<LI><P CLASS="western">[ctrl] options “languageField” and
					“transOrigPointerField” must be defined for the table</P>
				</UL>
				<UL>
					<LI><P CLASS="western">A “sys_language” record with the
					given “sys_language_uid” must exist.</P>
					<LI><P CLASS="western">The record to be localized by currently
					be set to “Default” language and not have any value set for
					the “transOrigPointerField” either.</P>
					<LI><P CLASS="western">There cannot exist another localization
					to the given language for the record (looking in the original
					record PID).</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Apart from this ordinary permissions apply as
				if the user wants to make a copy of the record on the same page.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">version</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Versioning action.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Keys:</B></P>
				<UL>
					<LI><P CLASS="western">[action] : Keyword determining the
					versioning action. Options are:</P>
					<UL>
						<LI><P CLASS="western">“new” : Indicates that a new version
						of the record should be created.<BR>Additional keys, specific
						for “new” action:</P>
						<UL>
							<LI><P CLASS="western">[treeLevels] : <I>(Only pages)</I> 
							Integer, -1 to 4, indicating the number of levels of the page
							tree to version together with a page. This is also referred to
							as the versioning type:<BR>-1 (“element”) means only the
							page record gets versioned (default) <BR>0 (“page”) means
							the page + content tables (defined by ctrl-flag
							“versioning_followPages”)<BR>&gt;0 (“branch”) means
							the the whole branch is versioned (<I>full copy</I> of all
							tables), down to the level indicated by the value (1= 1 level
							down, 2= 2 levels down, etc.)<BR>The treeLevel is recorded in
							the field “t3ver_swapmode” and will be observed when the
							record is swapped during publishing.</P>
							<LI><P CLASS="western">[label] : Indicates the version label
							to apply. If not given, a standard label including version
							number and date is added.</P>
						</UL>
						<LI><P CLASS="western">“swap” : Indicates that the current
						online version should be swapped with another.<BR>Additional
						keys, specific for “swap” action:</P>
						<UL>
							<LI><P CLASS="western">[swapWith] : Indicates the uid of the
							record to swap current version with!</P>
							<LI><P CLASS="western">[swapIntoWS]: Boolean, indicates that
							when a version is published it should be swapped into the
							workspace of the offline record.</P>
						</UL>
						<LI><P CLASS="western">“clearWSID” : Indicates that the
						workspace of the record should be set to zero (0). This removes
						versions out of workspaces without publishing them.</P>
						<LI><P CLASS="western">“flush” : Completely deletes a
						version without publishing it.</P>
						<LI><P CLASS="western">“setStage” : Sets the stage of an
						element. <BR><I>Special feature: The id-key in the array can be
						a comma list of ids in order to perform the stageChange over a
						number of records. Also, the internal variable -&gt;generalComment
						(also available through tce_db.php as &quot;&amp;generalComment&quot;)
						can be used to set a default comment for all stage changes of
						an instance of tcemain.</I> <BR>Additional keys for this action
						is:</P>
						<UL>
							<LI><P CLASS="western">[stageId] : Values are: -1 (rejected),
							0 (editing, default), 1 (review), 10 (publish)</P>
							<LI><P CLASS="western">[comment] : Comment string that goes
							into the log.</P>
						</UL>
					</UL>
				</UL>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">Examples of Commands:</H5>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">54</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'delete'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Deletes tt_content record with uid=54</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">1203</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'copy'</FONT><FONT COLOR="#007700">] = -</FONT><FONT COLOR="#0000bb">303</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">//Copies page id=1203 to the position after page 303</FONT></FONT>
<FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">1203</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'move'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">303</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Moves page id=1203 to the first position in p. 303</FONT></PRE><H4 CLASS="western">
Data Array ($data):</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Syntax:</FONT></P>
<PRE CLASS="western">$data[ <I>tablename </I>][ <I>uid</I> ][ <I>fieldname</I> ] = <I>value</I></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Description
of keywords in syntax:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=38*>
	<COL WIDTH=43*>
	<COL WIDTH=174*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=15%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">tablename</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Name of the database table. Must be configured
				in $TCA array, otherwise it cannot be processed.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">uid</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">mixed</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The UID of the record that is modified. If the
				record already exists, this is an integer. If you're creating new
				records, use a random string prefixed with &quot;NEW&quot;, eg.
				&quot;NEW7342abc5e6d&quot;.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">fieldname</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="font-style: normal">Name of the
				database field you want to set a value for. Must be configure in
				$TCA[ <I>tablename</I> ]['columns']</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">value</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="font-style: normal; font-weight: normal">
				Value for &quot;fieldname&quot;. 
				</P>
				<P CLASS="western" STYLE="font-style: normal; font-weight: normal">
				<BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal; font-weight: normal">
				(Always make sure $this-&gt;stripslashes_values is false before
				using TCEmain.)</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<PRE CLASS="western"></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000"><B>Notice:</B> For FlexForms the data array of
the FlexForm field is deeper than three levels. The number of
possible levels for FleFforms is infinite and defined by the data
structure of the FlexForm. But FlexForm fields always end with a
&quot;regular value&quot; of course.</FONT></P>
<H5 CLASS="western">Examples of Data submission:</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
creates a new page titled &quot;The page title&quot; as the first
page inside page id 45:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'NEW9823be87'</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;title&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;The page title&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;subtitle&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;Other title stuff&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;pid&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;45&quot;</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This creates a new page titled &quot;The page
title&quot; right after page id 45 in the tree:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'NEW9823be87'</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;title&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;The page title&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;subtitle&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;Other title stuff&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;pid&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;-45&quot;</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This creates two new pages right after each
other, located right after the page id 45:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'NEW9823be87'</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;title&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;Page 1&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;pid&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;-45&quot;</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'NEWbe68s587'</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;title&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;Page 2&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;pid&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;-NEW9823be87&quot;</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice how the second &quot;pid&quot; value
points to the &quot;NEW...&quot; id placeholder of the first record.
This works because the new id of the first record can be accessed by
the second record. However it works only when the order in the array
is as above since the processing happens in that order!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
updates the page with uid=9834 to a new title, &quot;New title for
this page&quot;, and no_cache checked:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">9834</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;title&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;New title for this page&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;no_cache&quot; </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">&quot;1&quot;</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><H4 CLASS="western">
Clear cache</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TCE
also has an API for clearing the cache tables of TYPO3:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Syntax:</FONT></P>
<PRE CLASS="western">$tce-&gt;clear_cacheCmd($cacheCmd);</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=52*>
	<COL WIDTH=204*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">$cacheCmd values</P>
			</TH>
			<TH WIDTH=80%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">[integer]</P>
			</TD>
			<TD WIDTH=80%>
				<P CLASS="western">Clear the cache for the page id given.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&quot;all&quot;</P>
			</TD>
			<TD WIDTH=80%>
				<P CLASS="western">Clears all cache tables (cache_pages,
				cache_pagesection, cache_hash).</P>
				<P CLASS="western">Only available for admin-users unless
				expressly allowed by User TSconfig &quot;options.clearCache.all&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&quot;pages&quot;</P>
			</TD>
			<TD WIDTH=80%>
				<P CLASS="western">Clears all pages from cache_pages.</P>
				<P CLASS="western">Only available for admin-users unless
				expressly allowed by User TSconfig &quot;options.clearCache.pages&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&quot;temp_CACHED&quot;</P>
			</TD>
			<TD WIDTH=80%>
				<P CLASS="western">Clears the temp_CACHED fiels in typo3conf/</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Hook
for cache post processing</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can configure cache post processing with a user defined PHP function.
Configuration of the hook can be done from (ext_)localconf.php. An
example look like:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'t3lib/class.t3lib_tcemain.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'clearCachePostProc'</FONT><FONT COLOR="#007700">][]=</FONT><FONT COLOR="#dd0000">'myext_cacheProc-&gt;proc'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">require_once(</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'myext'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'class.myext_cacheProc.php'</FONT><FONT COLOR="#007700">);</FONT></PRE><H4 CLASS="western">
Flags in TCEmain</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are a few internal variables you can set prior to executing commands
or data submission. These are the most significant:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=45*>
	<COL WIDTH=29*>
	<COL WIDTH=182*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=18%>
				<P CLASS="western">Internal variable</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=71%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">-&gt;deleteTree</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">Boolean</P>
			</TD>
			<TD WIDTH=71%>
				<P CLASS="western">Sets whether a page tree branch can be
				recursively deleted.</P>
				<P CLASS="western">If this is set, then a page is deleted by
				deleting the whole branch under it (user must have
				deletepermissions to it all). If not set, then the page is
				deleted <I>only</I> if it has no branch. 
				</P>
				<P CLASS="western">Default is false.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">-&gt;copyTree</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">Integer</P>
			</TD>
			<TD WIDTH=71%>
				<P CLASS="western">Sets the number of branches on a page tree to
				copy.</P>
				<P CLASS="western">If 0 then branch is <I>not</I> copied. If 1
				then pages on the 1st level is copied. If 2 then pages on the
				second level is copied ... and so on. 
				</P>
				<P CLASS="western">Default is zero.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">-&gt;reverseOrder</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">Boolean</P>
			</TD>
			<TD WIDTH=71%>
				<P CLASS="western">If set, the data array is reversed in the
				order, which is a nice thing if you're creating a whole bunch of
				new records. 
				</P>
				<P CLASS="western">Default is zero.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">-&gt;copyWhichTables</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">list of strings (tables)</P>
			</TD>
			<TD WIDTH=71%>
				<P CLASS="western">This list of tables decides which tables will
				be copied. If empty then none will. If &quot;*&quot; then all
				will (that the user has permission to of course). 
				</P>
				<P CLASS="western">Default is &quot;*&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">-&gt;stripslashes_values</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=71%>
				<P CLASS="western">If set, then all values will be passed through
				stripslashes(). This has been the default since the birth of
				TYPO3 in times when input from POST forms were always escaped an
				needed to be unescaped. Today this is deprecated and values
				should be passed around without escaped characters.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>It is highly recommended to set this value
				to zero every time the class is used!</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you set this value to false you can pass
				values as-is to the class and it is most like that this is what
				you want. Otherwise you would have to pass all values through
				addslashes() first.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Default is (currently) &quot;1&quot; (true)
				but <I>might be changed in the future!</I></P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="3.3.3.Using t3lib_TCEmain in scripts|outline"></A>
Using t3lib_TCEmain in scripts</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It's
really easy to use the class &quot;t3lib_TCEmain&quot; in your own
scripts. All you need to do is include the class, build a $data/$cmd
array you want to pass to the class and call a few methods.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">First
of all they have to be run in the backend scope, mind you that! There
must be a global $BE_USER object.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
your script you simply insert this line to include the class:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#007700">require_once (</FONT><FONT COLOR="#0000bb">PATH_t3lib</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">&quot;class.t3lib_tcemain.php&quot;</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">When that is done you can create an instance of
t3lib_TCEmain. Here follows a few code listings with comments which
will provide you with enough knowledge to get started. It is assumed
that you have populated the $data and $cmd arrays correctly prior to
these chunks of code. The syntax for these two arrays is explained on
the previous pages.</FONT></P>
<H5 CLASS="western">Example: Submitting data</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the most basic example of how to submit data into the database. It
is four lines. Line 1 instantiates the class, line 2 defines that
values will be provided without escaped characters (recommended!),
line 3 registers the $data array inside the class and initializes the
class internally! Finally line 4 will execute the data submission.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $tce </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_TCEmain'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">stripslashes_values </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">start</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">,array());</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">process_datamap</FONT><FONT COLOR="#007700">();</FONT></FONT></PRE><H5 CLASS="western">
Example: Executing commands</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
most basic way of executing commands. Line 1 creates the object, line
2 defines that values will be provided without escaped characters
(recommended), line 3 registers the $cmd array inside the class and
initializes the class internally! Finally line 4 will execute the
commands.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $tce </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_TCEmain'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">stripslashes_values</FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">start</FONT><FONT COLOR="#007700">(array(),</FONT><FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">process_cmdmap</FONT><FONT COLOR="#007700">();</FONT></FONT></PRE><H5 CLASS="western">
Example: Clearing cache</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example the clear-cache API is used. No data is submitted, no
commands executed. Still you will have to initialize the class by
calling the start() method (which will initialize internal
variables).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice:
Clearing &quot;all&quot; cache will be possible only for users that
are &quot;admin&quot; or for users with specific permissions to do
so. </FONT>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $tce </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_TCEmain'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">start</FONT><FONT COLOR="#007700">(Array(),Array());</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clear_cacheCmd</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'all'</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><H5 CLASS="western">
Example: Complex data submission</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Imagine
the $data array something like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$data </FONT><FONT COLOR="#007700">= array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pages' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'NEW_1' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">456</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Title for page 1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'NEW_2' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">456</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Title for page 2'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This aims to create two new pages in the page
with uid &quot;456&quot;. In the follow code this is submitted to the
database. Notice how line 3 reverses the order of the array. This is
done because otherwise &quot;page 1&quot; is created first, then
&quot;page 2&quot; in the <I>same</I> PID meaning that &quot;page 2&quot;
will end up above &quot;page 1&quot; in the order. Reversing the
array will create &quot;page 2&quot; first and then &quot;page 1&quot;
so the &quot;expected order&quot; is preserved.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Apart
from this line 6 will send a &quot;signal&quot; that the page tree
should be updated at the earliest occasion possible. Finally, the
cache for all pages is cleared in line 7.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $tce </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_TCEmain'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">stripslashes_values </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">reverseOrder </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">start</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">,array());</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">process_datamap</FONT><FONT COLOR="#007700">();</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getSetUpdateSignal</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'updatePageTree'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clear_cacheCmd</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><H5 CLASS="western">
Example: Both data and commands executed with alternative user object</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this case it is shown how you can use the same object instance to
submit both data and execute commands if you like. The order will
depend on the order of line 4 and 5.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 3 the start() method is called, but this time with the third
possible argument which is an alternative BE_USER object. This allows
you to force another backend user account to create stuff in the
database. This may be useful in certain special cases. Normally you
should not set this argument since you want TCE to use the global
$BE_USER.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $tce </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_TCEmain'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">stripslashes_values </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">start</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$alternative_BE_USER</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">process_datamap</FONT><FONT COLOR="#007700">();</FONT></FONT>
<FONT COLOR="#000000">   5:</FONT><FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tce</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">process_cmdmap</FONT><FONT COLOR="#007700">();</FONT></PRE><H3 CLASS="western">
<A NAME="3.3.4.The &quot;tce_db.php&quot; API|outline"></A>The
&quot;tce_db.php&quot; API</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
script is a gateway for POST forms to class.t3lib_TCEmain. It has
historically been <I>the</I> script to which data was posted when you
wanted to update something in the database. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Today
it is used for editing by only a few scripts, actually only the
&quot;Quick Edit&quot; module in &quot;Web&gt;Page&quot; (frontend).
The standard forms you find in TYPO3 are normally rendered and
handled by &quot;alt_doc.php&quot; which includes t3lib_TCEmain on
its own.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
commands it is still used from various locations.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can send data to this file either as GET or POST vars where POST
takes precedence. The variable names you can use are:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=41*>
	<COL WIDTH=40*>
	<COL WIDTH=174*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=16%>
				<P CLASS="western">GP var name:</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">data</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Data array on the form
				[tablename][uid][fieldname] = value</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Typically it comes from a POST form which
				submits a form field like &lt;input
				name=&quot;data[tt_content][123][header]&quot; value=&quot;This
				is the headline&quot; /&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">cmd</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Command array on the form
				[tablename][uid][command] = value. This array may get additional
				data set internally based on clipboard commands send in CB var!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Typically this comes from GET vars passed to
				the script like &quot;&amp;cmd[tt_content][123][delete]=1&quot;
				which will delete Content Element with UID 123</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">cacheCmd</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Cache command sent to -&gt;clear_cacheCmd</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">redirect</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Redirect URL. Script will redirect to this
				location after performing operations (unless errors has occured)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">flags</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Accepts options to be set in TCE object.
				Currently it supports &quot;reverseOrder&quot; (boolean).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">mirror</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Example: [mirror][table][11] = '22,33' will
				look for content in [data][table][11] and copy it to
				[data][table][22] and [data][table][33]</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">prErr</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If set, errors will be printed on screen
				instead of redirection. Should always be used, otherwise you will
				see no errors if they happen.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">CB</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Clipboard command array. May trigger changes
				in &quot;cmd&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">vC</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Verification code</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">uPT</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Update Page Tree Trigger. If set and the
				manipulated records are pages then the update page tree signal
				will be set.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="3.3.5.Files: t3lib_extFileFunctions basics|outline"></A>
Files: t3lib_extFileFunctions basics</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">File
operations in TCE is handled by the class &quot;t3lib_extFileFunctions&quot;
which extends &quot;t3lib_basicFileFunctions&quot;. The instructions
for file manipulation is passed to this class as a multidimensional
array.</FONT></P>
<H4 CLASS="western">Files Array ($file):</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Syntax:</FONT></P>
<PRE CLASS="western">$file[ <I>command</I><I> </I>][ <I>index</I> ][ <I>key</I> ] = <I>value</I>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Description of keywords in syntax:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=38*>
	<COL WIDTH=43*>
	<COL WIDTH=174*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=15%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">command</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string (command keyword)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The command type you want to execute.</P>
				<P CLASS="western"><I>See table below for command keywords, keys
				and values</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">index</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Integer index in the array which separates
				multiple commands of the same type.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">key</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="font-style: normal">Depending on the
				command type. The keys will carry the information needed to
				perform the action. Typically a &quot;target&quot; key is used to
				point to the target directory or file while a &quot;data&quot;
				key carries the data.</P>
				<P CLASS="western"><I>See table below for command keywords, keys
				and values</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">value</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="font-style: normal">The value for the
				command</P>
				<P CLASS="western"><I>See table below for command keywords, keys
				and values</I></P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<PRE CLASS="western" STYLE="font-style: normal"></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Command keywords and values:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=39*>
	<COL WIDTH=43*>
	<COL WIDTH=174*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=15%>
				<P CLASS="western">Command</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Keys</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Value</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">delete</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = Absolute path to the
				file/folder to delete</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">copy</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
				<P CLASS="western">&quot;altName&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = Absolute path to the
				file/folder to copy</P>
				<P CLASS="western">&quot;target&quot; = Absolute path to the
				folder to copy to (destination)</P>
				<P CLASS="western">&quot;altName&quot; = (boolean): If set, a new
				filename is made by appending numbers/unique-string in case the
				target already exists.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">move</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
				<P CLASS="western">&quot;altName&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><FONT COLOR="#000000">(Exactly like copy, just
				replace the word &quot;copy&quot; with &quot;move&quot;)</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">rename</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = New name, max 30 characters
				alphanumeric</P>
				<P CLASS="western">&quot;target&quot; = Absolute path to the
				target file/folder</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">newfolder</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = Folder name, max 30
				characters alphanumeric</P>
				<P CLASS="western">&quot;target&quot; = Absolute path to the
				folder where to create it</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">newfile</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = New filename</P>
				<P CLASS="western">&quot;target&quot; = Absolute path to the
				folder where to create it</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">editfile</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = The new content</P>
				<P CLASS="western">&quot;target&quot; = Absolute path to the
				target file</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">upload</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
				<P CLASS="western">upload_$id</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = ID-number (points to the
				global var that holds the filename-ref 
				($GLOBALS[&quot;HTTP_POST_FILES&quot;][&quot;upload_&quot;.$id][&quot;name&quot;])</P>
				<P CLASS="western">&quot;target&quot; = Absolute path to the
				target folder (destination)</P>
				<P CLASS="western">upload_$id = File reference. $id must equal
				value of file[upload][...][data]!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">See
				t3lib_t3lib_extFileFunctions::func_upload()</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">unzip</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&quot;data&quot;</P>
				<P CLASS="western">&quot;target&quot;</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">&quot;data&quot; = Absolute path to the
				zip-file. (fileextension must be &quot;zip&quot;)</P>
				<P CLASS="western">&quot;target&quot; = The absolute path to the
				target folder (destination) (if not set, default is the same as
				the zip-file)</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
is unlikely that you will need to use this internally in your scripts
like you will need t3lib_TCEmain. It is fairly uncommon to need the
file manipulations in own scripts unless you make a special
application. Therefore the most typical usage of this API is from
tce_file.php and the core scripts that are activated by the &quot;File
&gt; List&quot; module.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">However,
if you need it this is an example (taken from tce_file.php) of how to
initialize the usage. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Initializing:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">fileProcessor </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_extFileFunctions'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">fileProcessor</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">init</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$FILEMOUNTS</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BE'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'fileExtensions'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">fileProcessor</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">init_actionPerms</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">user</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'fileoper_perms'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   5:</FONT> </FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">fileProcessor</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">start</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">file</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">fileProcessor</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">processData</FONT><FONT COLOR="#007700">();</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Line 2 makes an instance of the class and line
3 initializes the object with the filemounts of the current user and
the array of allow/deny file extensions in web-space and ftp-space
(see below). Then the file operation permissions are loaded from the
user object in line 4. Finally, the file command array is loaded in
line 6 (and internally additional configuration takes place from
$TYPO3_CONF_VARS!). In line 7 the command map is executed.</FONT></P>
<H4 CLASS="western">Web-space, Ftp-space and
$TYPO3_CONF_VARS['BE']['fileExtensions']</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
control of fileextensions goes in two catagories. Webspace and
Ftpspace. Webspace is folders accessible from a webbrowser (below
TYPO3_DOCUMENT_ROOT) and ftpspace is everything else.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
control is done like this: If an extension matches 'allow' then the
check returns true. If not and an extension matches 'deny' then the
check return false. If no match at all, returns true.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
list extensions comma-separated. If the value is a '*' every
extension is matched. If no fileextension, true is returned if
'allow' is '*', false if 'deny' is '*' and true if none of these
matches. This (default) configuration below accepts everything in
ftpspace and everything in webspace except php3 or php files:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BE'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'fileExtensions'</FONT><FONT COLOR="#007700">] = array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'webspace' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'allow'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'deny'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'php3,php'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ftpspace' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'allow'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'*'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'deny'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H3 CLASS="western"><A NAME="3.3.6.The &quot;tce_file.php&quot; API|outline"></A>
The &quot;tce_file.php&quot; API</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
script serves as the file administration part of the TYPO3 Core
Engine. It's a gateway for TCE (TYPO3 Core Engine) file-handling
through POST forms. It uses &quot;t3lib_extfilefunc&quot; for the
manipulation of the files.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
script is used from the File &gt; List module where you can rename,
create, delete etc. files and directories on the server.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can send data to this file either as GET or POST vars where POST
takes precedence. The variable names you can use are:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=41*>
	<COL WIDTH=40*>
	<COL WIDTH=174*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=16%>
				<P CLASS="western">GP var name:</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Data type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">file</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Array of file operations. See previous
				information about &quot;t3lib_extFileFunctions&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This could typically be a GET var like
				&quot;&amp;file[delete][0][data]=[absolute file path]&quot; or a
				POST form field like &quot;&lt;input type=&quot;text&quot;
				name=&quot;file[newfolder][0][data]&quot; value=&quot;&quot;/&gt;&lt;input
				type=&quot;hidden&quot; name=&quot;file[newfolder][0][target]&quot;
				value=&quot;[absolute path to folder to create in]&quot;/&gt;&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">redirect</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Redirect URL. Script will redirect to this
				location after performing operations.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">CB</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Clipboard command array. May trigger changes
				in &quot;file&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">vC</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Verification code</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western">overwriteExistingFiles</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If existing files should be overridden.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H2 CLASS="western"><A NAME="3.4.Hooks|outline"></A>Hooks</H2>
<H3 CLASS="western"><A NAME="3.4.1.The concept of &quot;hooks&quot;|outline"></A>
The concept of &quot;hooks&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Hooks
are basically places in the source code where a user function will be
called for processing if a such has been configured. Hooks provide a
way to extend functionality of TYPO3 and extensions easily and
without blocking for others to do the same. </FONT>
</P>
<H4 CLASS="western">Hooks vs. XCLASS extensions</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Hooks
are the recommended way of extending TYPO3 compared to extending the
PHP classes with a child class (see &quot;XCLASS extensions&quot;).
It is so because only one extension of a PHP class can exist at a
time while hooks may allow many different user processings to occur.
On the other hand hooks have to be implemented in the core before you
can use them while extending a PHP class via the XCLASS method allows
you to extend anything spontaneously.</FONT></P>
<H4 CLASS="western">Proposing hooks</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you need to extend something which have no hook yet, then you should
suggest implementing a hook. Normally that is rather easily done by
the author of the source you want to extend.</FONT></P>
<H4 CLASS="western">How a hook looks</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
two codelines below is an example of how a hook is used for
clear-cache post-processing. The objective of this need could be to
perform additional actions whenever the cache is cleared for a
specific page.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">require_once(</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'myext'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'class.myext_cacheProc.php'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'t3lib/class.t3lib_tcemain.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'clearCachePostProc'</FONT><FONT COLOR="#007700">][]=</FONT><FONT COLOR="#dd0000">'myext_cacheProc-&gt;proc'</FONT><FONT COLOR="#007700">;</FONT></FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Line 1 includes a class which contains the user
defined PHP code to be called by the hook. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
2 registers the class/method name from the included file with a hook
inside of &quot;t3lib_TCEmain&quot;. The hook will call the user
function after the clear-cache command has been executed. The user
function will receive parameters which allows it to see what
clear-cache action was performed and typically also an object
reference to the parent object. Then the user function can take
additional actions as needed.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
we take a look inside of t3lib_TCEmain we find the hook to be
activated like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Call post processing function for clear-cache:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'t3lib/class.t3lib_tcemain.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'clearCachePostProc'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_params </FONT><FONT COLOR="#007700">= array(</FONT><FONT COLOR="#dd0000">'cacheCmd'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#0000bb">$cacheCmd</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'t3lib/class.t3lib_tcemain.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'clearCachePostProc'</FONT><FONT COLOR="#007700">] as </FONT><FONT COLOR="#0000bb">$_funcRef</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">callUserFunction</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_funcRef</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$_params</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   6:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> }</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This is how hooks are typically constructed.
The main action happens in line 5 where the function
&quot;t3lib_div::callUserFunction()&quot; is called. The user
function is called with two arguments, an array with variable
parameters and the parent object. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 3 the contents of the parameter array is prepared. This is of
high interest to you because this is where you see what data is
passed to you and what data might possibly be passed by reference and
thereby possible to manipulate from your hook function.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Finally,
notice how the array
$TYPO3_CONF_VARS['SC_OPTIONS']['t3lib/class.t3lib_tcemain.php']['clearCachePostProc']
is traversed and for each entry the value is expected to be a
function reference which will be called. This allows many hooks  to
be called at the same place. The hooks can even rearrange the calling
order if they dare.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
syntax of a function reference (or object reference if
t3lib_div::getUserObj is used in the hook instead) can be seen in the
API documentation of t3lib_div.</FONT></P>
<H3 CLASS="western"><A NAME="3.4.2.Hook configuration|outline"></A>Hook
configuration</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
is no complete index of hooks in the core. But they are easy to
search for and find. And typically it comes quite naturally since you
will find the hooks in the code you want to extend - if they exists.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
index will list the main variable spaces for configuration of hooks.
By the names of these you can easily scan the source code to find
which hooks are available or might be interesting for you.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
index below also includes some variable spaces which does not only
carry hook configuration but might be used for other purposes as
well.</FONT></P>
<H4 CLASS="western">$TYPO3_CONF_VARS['EXTCONF']</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Configuration
space for extensions.</B> </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
will contain all kinds of configuration options for specific
extensions including possible hooks in them! What options are
available to you will depend on a search in the documentation for
that particular extension. </FONT>
</P>
<PRE CLASS="western">$TYPO3_CONF_VARS['EXTCONF'][ <I>extension_key </I>][ <I>sub_key</I> ] = <I>value</I></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>extension_key
	:</B> The unique extension key</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>sub_key
	:</B> Whatever the script defines. Typically it identifies the
	context of the hook</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>value
	:</B><SPAN STYLE="font-weight: normal"> I</SPAN>t is up to the
	extension what the values mean, if they are mere configuration or
	hooks or whatever and how deep the arrays go. Read the source code
	where the options are implemented to see. Or the documentation of
	the extension, if available.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
$TYPO3_CONF_VARS[&quot;EXTCONF&quot;] is the recommended place to put
hook configuration that are available inside your extensions!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
is an example of how the EXTCONF array is used inside an extension.
Notice, this example is <I>not</I> a hook (sorry, couldn't find a
better example) but it is based on the same principles. It is just an
example of configuration of additional &quot;root line fields&quot;
that can be used during indexing (line 8-12). It shows the
versatility of the EXTCONF array:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">getRootLineFields</FONT><FONT COLOR="#007700">(&amp;</FONT><FONT COLOR="#0000bb">$fieldArr</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$rl </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">rootLevel</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   3:</FONT> </FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fieldArr</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'rl0'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$rl</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fieldArr</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'rl1'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$rl</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fieldArr</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'rl2'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$rl</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> </FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_CONF_VARS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'EXTCONF'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'indexed_search'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addRootLineFields'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_CONF_VARS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'EXTCONF'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'indexed_search'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addRootLineFields'</FONT><FONT COLOR="#007700">] as </FONT><FONT COLOR="#0000bb">$fieldName </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$rootLineLevel</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$fieldArr</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$fieldName</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">intval</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$rl</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$rootLineLevel</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  11:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  12:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#000000">  13:</FONT><FONT COLOR="#007700"> }</FONT></PRE><H4 CLASS="western">
$TYPO3_CONF_VARS['SC_OPTIONS']</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Configuration
space for core scripts.</B> </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
array is created as an adhoc space for creating hooks from any
script. This will typically be used from the core scripts of TYPO3
which do not have a natural identifier like extensions have their
extension keys. </FONT>
</P>
<PRE CLASS="western">$TYPO3_CONF_VARS['SC_OPTIONS'][ <I>main_key</I> ][ <I>sub_key</I> ][ <I>index</I> ] = <I>function_reference</I></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<UL>
	<LI VALUE=1><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>main_key
	:</B> The relative path of a script (for output scripts it should be
	the &quot;script ID&quot; as found in a comment in the HTML header )</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>sub_key
	: </B>Whatever the script defines. Typically it identifies the
	context of the hook.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>index
	:</B> Integer index typically. Can be unique string if you have a
	reason to use that. Normally it has no greater significance since
	the value of the key is not used. The hooks normally traverse over
	the array and uses only the value (function reference)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>function_reference
	:</B> A function reference using the syntax of
	t3lib_div::callUserFunction() or t3lib_div::getUserObj() depending
	on implementation of the hook.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
above syntax is how a hook is typically defined but it might differ
and it might not be a hook at all, but just configuration. Depends on
implementation in any case.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
following example shows a hook from tslib_fe. In this case the
function t3lib_div::getUserObj() is used for the hook. The
function_reference is referring to the class name only since the
function returns an object instance of that class. The method name to
call is predefined by the hook, in this case
&quot;sendFormmail_preProcessVariables()&quot;. This method allows to
pass any number of variables along instead of the limited $params and
$pObj variables from t3lib_div::callUserFunction().</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Hook for preprocessing of the content for formmails:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'sendFormmail-PreProcClass'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'sendFormmail-PreProcClass'</FONT><FONT COLOR="#007700">] as </FONT><FONT COLOR="#0000bb">$_classRef</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_procObj </FONT><FONT COLOR="#007700">= &amp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getUserObj</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_classRef</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$EMAIL_VARS </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$_procObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">sendFormmail_preProcessVariables</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$EMAIL_VARS</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   6:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> }</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example we are looking at a special hook, namely the one for RTE
transformations. Well, maybe this is not a &quot;hook&quot; in the
normal sense, but the same principles are used. In this case the
&quot;index&quot; key is defined to be the transformation key name,
not a random integer since we do not iterate over the array as usual.
In this case t3lib_div::getUserObj() is also used.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$_classRef </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_CONF_VARS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'t3lib/class.t3lib_parsehtml_proc.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'transformation'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_procObj </FONT><FONT COLOR="#007700">= &amp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getUserObj</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_classRef</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_procObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">pObj </FONT><FONT COLOR="#007700">= &amp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_procObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">transformationKey </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$cmd</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$value </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$_procObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">transform_db</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   6:</FONT> }</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
classic hook also from tslib_fe. This is also based on
t3lib_div::callUserFunction() and it passes a reference to $this
along to the function via $_params. In the user defined function
$_params['pObj']-&gt;content is meant to be manipulated in some way.
The return value is insignificant - everything works by the reference
to the parent object.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Hook for post-processing of page content cached/non-cached:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'contentPostProc-all'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_params </FONT><FONT COLOR="#007700">= array(</FONT><FONT COLOR="#dd0000">'pObj' </FONT><FONT COLOR="#007700">=&gt; &amp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'contentPostProc-all'</FONT><FONT COLOR="#007700">] as </FONT><FONT COLOR="#0000bb">$_funcRef</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">callUserFunction</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_funcRef</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$_params</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   6:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> }</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">$TYPO3_CONF_VARS['TBE_MODULES_EXT']</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Configuration
space for backend modules.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Among
these configuration options you might find entry points for hooks in
the backend. This somehow overlaps the intention of &quot;SC_OPTIONS&quot;
above but this array is an older invention and slightly outdated. </FONT>
</P>
<PRE CLASS="western">$TBE_MODULES_EXT[ <I>backend_module_key</I> ][ <I>sub_key</I> ] = <I>value</I></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<UL>
	<LI VALUE=1><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>backend_module_key
	:</B> The backend module key for which the configuration is used.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>sub_key
	:</B> Whatever the backend module defines.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>value
	:</B> Whatever the backend module defines.</FONT></P>
</UL>
<PRE CLASS="western"></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The following example shows TBE_MODULES_EXT
being used for adding items to the Context Sensitive Menus
(Clickmenu) in the backend. The hook value is an array with a key
pointing to a file reference to class file to include. Later each
class is instantiated and a fixed method inside is called to do
processing on the array of menu items. This kind of hook is
non-standard in the way it is made.</FONT></P>
<PRE CLASS="western">
<FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting internal array of classes for extending the clickmenu:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">extClassArray </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TBE_MODULES_EXT'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'xMOD_alt_clickmenu'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'extendCMclasses'</FONT><FONT COLOR="#007700">];</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   3:</FONT> </FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Traversing that array and setting files for inclusion:</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">extClassArray</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">extClassArray </FONT><FONT COLOR="#007700">as </FONT><FONT COLOR="#0000bb">$extClassConf</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">$extClassConf</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'path'</FONT><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">include_once</FONT><FONT COLOR="#007700">[]=</FONT><FONT COLOR="#0000bb">$extClassConf</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'path'</FONT><FONT COLOR="#007700">];</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   8:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   9:</FONT> }</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The following code listings works in the same
way. First, a list of class files to include is registered. Then in
the second code listing the same array is traversed and each class is
instantiated and a fixed function name is called for processing.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting class files to include:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TBE_MODULES_EXT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'xMOD_db_new_content_el'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addElClasses'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">include_once </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">array_merge</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">include_once</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$TBE_MODULES_EXT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'xMOD_db_new_content_el'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addElClasses'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#000000">   4:</FONT><FONT COLOR="#007700"> }</FONT>

<FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// PLUG-INS:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TBE_MODULES_EXT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'xMOD_db_new_content_el'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addElClasses'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">reset</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TBE_MODULES_EXT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'xMOD_db_new_content_el'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addElClasses'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;while(list(</FONT><FONT COLOR="#0000bb">$class</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">)=</FONT><FONT COLOR="#0000bb">each</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TBE_MODULES_EXT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'xMOD_db_new_content_el'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addElClasses'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$modObj </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$class</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$wizardItems </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$modObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">proc</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$wizardItems</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#000000">   8:</FONT><FONT COLOR="#007700"> }</FONT></PRE><H3 CLASS="western">
<A NAME="3.4.3.Creating hooks|outline"></A>Creating hooks</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
are encouraged to create hooks in your sources of extensions if they
seem meaningful. Typically someone would request a hook somewhere.
Before you implement it, consider if it is the right place to put it
etc. On the one hand we want to have many hooks but not more than
needed. Redundant hooks or hooks which are implemented in the wrong
context is just confusing. So put a little thought into it first, but
be generous.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are two main methods of calling a user defined function in TYPO3. </FONT>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">t3lib_div::callUserFunction()
	- The classic way. Takes a file/class/method reference as value and
	calls that function. The argument list is fixed to a parameter array
	and a parent object. So this is the limitation. The freedom is that
	the reference defines the function name to call. This method is
	mostly useful for small-scale hooks in the sources.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">t3lib_div::getUserObject()
	- Create an object from a user defined file/class. The method called
	in the object is fixed by the hook, so this is the non-flexible
	part. But it is cleaner in other ways, in particular that you can
	even call many methods in the object and you can pass an arbitrary
	argument list which makes the API more beautiful. You can also
	define the objects to be singletons, instantiated only once in the
	global scope.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
follows some examples.</FONT></P>
<H5 CLASS="western">Hook made with t3lib_div::getUserObj()</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Hook for preprocessing of the content for formmails:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'sendFormmail-PreProcClass'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'sendFormmail-PreProcClass'</FONT><FONT COLOR="#007700">] as </FONT><FONT COLOR="#0000bb">$_classRef</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_procObj </FONT><FONT COLOR="#007700">= &amp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getUserObj</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_classRef</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$EMAIL_VARS </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$_procObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">sendFormmail_preProcessVariables</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$EMAIL_VARS</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">}</FONT></PRE><H5 CLASS="western">
Hook made with t3lib_div::callUserFunction()</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Call post processing function for constructor:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib_fe-PostProc'</FONT><FONT COLOR="#007700">]))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$_params </FONT><FONT COLOR="#007700">= array(</FONT><FONT COLOR="#dd0000">'pObj' </FONT><FONT COLOR="#007700">=&gt; &amp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib/class.tslib_fe.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tslib_fe-PostProc'</FONT><FONT COLOR="#007700">] as </FONT><FONT COLOR="#0000bb">$_funcRef</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">callUserFunction</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_funcRef</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$_params</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">}</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H2 CLASS="western"><A NAME="3.5.Variables and Constants|outline"></A>
Variables and Constants</H2>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">After
init.php has been included in the backend there is a set of
variables, constants and classes available to the parent script. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
column &quot;Avail. in FE&quot; is an indicator that tells you if the
constant, variable or class mentioned is also available to scripts
running under the frontend of the &quot;cms&quot; extension. </FONT>
</P>
<H3 CLASS="western"><A NAME="3.5.1.Constants|outline"></A>Constants</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Constants
normally define paths and database information. These values are
global and cannot be changed when they are first defined. This is why
constants are used for such vital information.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
constants are defined by either init.php or scripts included from
that script.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
Constants in italics <I>may</I> be set in a script prior to inclusion
of init.php so they are optional.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=57*>
	<COL WIDTH=39*>
	<COL WIDTH=133*>
	<COL WIDTH=27*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22%>
				<P CLASS="western">Constant</P>
			</TH>
			<TH WIDTH=15%>
				<P CLASS="western">Defined in</P>
			</TH>
			<TH WIDTH=52%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Avail. in FE</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_OS</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Operating systen; Windows = “WIN”, other =
				“” (presumed to be some sort of Unix)</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_MODE</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Mode of TYPO3: Set to either “FE” or “BE”
				depending on frontend or backend execution. So in &quot;init.php&quot;
				and &quot;thumbs.php&quot; this value is &quot;BE&quot;</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
				<P CLASS="western" ALIGN=CENTER>value = &quot;FE&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">PATH_thisScript</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Abs. path to current script.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_mainDir</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">This is the directory of the backend
				administration for the sites of this TYPO3 installation.
				Hardcoded to “typo3/”. Must be a subdirectory to the website.
				See elsewhere for descriptions on how to change the default admin
				directory, &quot;typo3/&quot;, to something else.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">PATH_typo3</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Abs. path of the TYPO3 admin dir (PATH_site +
				TYPO3_mainDir).</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">PATH_typo3_mod</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Relative path (from the PATH_typo3) to a
				properly configured module. Based on TYPO3_MOD_PATH.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">PATH_site</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Abs. path to directory with the frontend (one
				directory above PATH_typo3)</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">PATH_t3lib</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Abs. path to &quot;t3lib/&quot; (general TYPO3
				library) within the TYPO3 admin dir 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">PATH_typo3conf</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Abs. TYPO3 configuration path (local, not part
				of source)</P>
				<P CLASS="western">Must be defined in order for
				&quot;t3lib/config_default.php&quot; to return!</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_db</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Name of the database, for example
				&quot;t3_coreinstall&quot;. Is defined after the inclusion of
				&quot;typo3conf/localconf.php&quot; (same for the other TYPO3_*
				constants below</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_db_username</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Database username</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_db_password</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Database password</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_db_host</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Database hostname, eg. “localhost”</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_tables_script</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">By default &quot;t3lib/stddb/tables.php&quot;
				is included as the main table definition file. Alternatively this
				constant can be set to the filename of an alternative
				&quot;tables.php&quot; file. Must be located in &quot;typo3conf/&quot;</P>
				<P CLASS="western"><B>Depricated</B>. Make Extensions instead.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_extTableDef_script</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Name of a php-include script found in
				&quot;typo3conf/&quot; that contains php-code that further
				modifies the variables set by &quot;t3lib/stddb/tables.php&quot;</P>
				<P CLASS="western"><B>Depricated.</B> Make Extensions instead.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_languages</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Defines the system language keys in TYPO3s
				backend.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">TYPO3_DLOG</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">If true, calls to t3lib_div::devLog() can be
				made in both frontend and backend; This is event logging which
				can help to track debugging in general.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western"><I>TYPO3_MOD_PATH</I></P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[prior to init.php]</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Path to module relative to PATH_typo3 (as
				defined in the module configuration). Must be defined prior to
				&quot;init.php&quot;.</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western"><I>TYPO3_enterInstallScript</I></P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[prior to init.php]</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">If defined and set true the Install Tool is
				activated and the script exits after that. Used in
				&quot;typo3/install/index.php&quot;:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">define('TYPO3_enterInstallScript', '1');</PRE>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western"><I>TYPO3_PROCEED_IF_NO_USER</I></P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[prior to init.php]</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">If defined and set true the &quot;init.php&quot;
				script will return to the parent script <I>even if no backend
				user was authenticated!</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This constant is set by for instance the
				&quot;index.php&quot; script so it can include &quot;init.php&quot;
				and still show the login form:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">define(&quot;TYPO3_PROCEED_IF_NO_USER&quot;, 1);
require (&quot;init.php&quot;);</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">Please be very careful with this feature - use
				it only when you have total control of what you are doing!</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western"><I>TYPO3_cliMode</I></P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[prior to init.php]</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">Initiates CLI (Command Line Interface) mode.
				This is used when you want a shell executable PHP script to
				initialize a TYPO3 backend.</P>
				<P CLASS="western">For more details see section about “Initialize
				TYPO3 backend in a PHP shell script” in “Inside TYPO3”</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western"><I>TYPO3_version</I></P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=52%>
				<P CLASS="western">The TYPO3 version: 
				</P>
				<P CLASS="western">x.x.x for released versions, 
				</P>
				<P CLASS="western">x.x.x-dev for development versions leading up
				to releases</P>
				<P CLASS="western">x.x.x-bx for beta-versions</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H3 CLASS="western"><A NAME="3.5.2.Global variables|outline"></A>Global
variables</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
Variables in italics <I>may</I> be set in a script prior to inclusion
of &quot;init.php&quot; so they are optional.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
The variables from &quot;t3lib/stddb/tables.php&quot; are only
available in the frontend occasionally or partly. Please read more in
the documentation of the &quot;cms&quot; extension on this issue.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=52*>
	<COL WIDTH=45*>
	<COL WIDTH=130*>
	<COL WIDTH=30*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Global variable</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Defined in</P>
			</TH>
			<TH WIDTH=51%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=12%>
				<P CLASS="western">Avail. in FE</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$TYPO3_CONF_VARS</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">TYPO3 configuration array. Please refer to the
				source code of &quot;t3lib/config_default.php&quot; where each
				option is described in detail as comments. The same comments are
				also available in the Install Tool under the menu &quot;All
				Configuration&quot;</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$TYPO3_LOADED_EXT</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Array with all loaded extensions listed with a
				set of paths.  You can check if an extension is loaded by the
				function t3lib_extMgm::isLoaded($key) where $key is the extension
				key of the module.</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$TYPO3_DB</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">An instance of the TYPO3 DB wrapper class,
				t3lib_db.</P>
				<P CLASS="western">You have to use this object for all
				interaction with the database. 
				</P>
				<P CLASS="western">t3lib_db contains mysql wrapper functions so
				you easily swap all hardcoded MySQL calls with function calls to
				$GLOBALS['TYPO3_DB']-&gt;</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$EXEC_TIME</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Is set to &quot;time()&quot; so that the rest
				of the script has a common value for the script execution time.</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$SIM_EXEC_TIME</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Is set to $EXEC_TIME but can be altered later
				in the script if we want to simulate another execution-time when
				selecting from eg. a database  (used in the frontend for preview
				of future and past dates)</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$TYPO_VERSION</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western"><I>Deprecated - used constant “TYPO3_version”
				instead!</I></P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$CLIENT</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Array with browser information (based on
				HTTP_USER_AGENT). Array keys: 
				</P>
				<P CLASS="western">“BROWSER” = msie,net,opera or blank, 
				</P>
				<P CLASS="western">“VERSION” = browser version as double, 
				</P>
				<P CLASS="western">“SYSTEM” = win,mac,unix</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>YES</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$PARSETIME_START</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Time in milliseconds right after inclusion of
				the configuration.</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$PAGES_TYPES</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">See section on $TCA</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(occastionally)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$ICON_TYPES</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">See section on $TCA</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(occastionally)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$LANG_GENERAL_LABELS</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">See section on $TCA</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(occastionally)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$TCA</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">See section on $TCA</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">YES, partly</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$TBE_MODULES</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">The backend main/sub module structure. See
				section elsewhere plus sourcecode of
				&quot;class.t3lib_loadmodules.php&quot; which also includes some
				examples.</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(occastionally)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$TBE_STYLES</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(occastionally)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$T3_SERVICES</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Global registration of services.</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$T3_VAR</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">config_default.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Space for various internal global data storage
				in TYPO3. Each key in this array is a data space for an
				application. Keys currently defined for use is:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">['callUserFunction'] +
				['callUserFunction_classPool']: Used by
				t3lib_div::callUserFunction to store persistent objects.</P>
				<P CLASS="western">['getUserObj'] : User by t3lib_div::getUserObj
				to store persistent objects.</P>
				<P CLASS="western">['RTEobj'] : Used to hold the current RTE
				object if any. See t3lib_BEfunc.</P>
				<P CLASS="western">['ext'][<I>extension-key</I>] : Free space for
				extensions.</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$FILEICONS</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">t3lib/stddb/tables.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Assoc. array; keys are the type (eg. &quot;tif&quot;)
				and values are the filename (without path)</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(occastionally)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$WEBMOUNTS</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Array of uid's to be mounted in the page-tree</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(depends)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$FILEMOUNTS</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Array of filepaths on the server to be mountet
				in the directory tree</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(depends)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$BE_USER</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">init.php</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Backend user object</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(depends)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$temp_*</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Various temporary variables are allowed to use
				global variables prefixed $temp_</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">$typo_db*</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">[config_default.php but N/A!]</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Variables used inside of
				&quot;typo3conf/localconf.php&quot; to configure the database. 
				</P>
				<P CLASS="western"><B>Notice: </B>These values are unset again by
				&quot;config_default.php&quot;.</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER>-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western"><I>$TBE_MODULES_EXT</I></P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">[In ext_tables.php files of extensions]</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Used to store information about modules from
				extensions that should be included in &quot;function menus&quot;
				of real modules. See the Extension API for details.</P>
				<P CLASS="western">Unset in &quot;config_default.php&quot;</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western">(occasionally)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western"><I>$TCA_DESCR</I></P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">[tables.php files]</P>
			</TD>
			<TD WIDTH=51%>
				<P CLASS="western">Can be set to contain file references to local
				lang files containing TCA_DESCR labels. See section about Context
				Sensitive Help.</P>
				<P CLASS="western">Unset in &quot;config_default.php&quot;</P>
			</TD>
			<TD WIDTH=12%>
				<P CLASS="western" ALIGN=CENTER><BR>
				</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H2 CLASS="western"><A NAME="3.6.Backend User Object|outline"></A>Backend
User Object</H2>
<H3 CLASS="western"><A NAME="3.6.1.Checking user access for $BE_USER from PHP|outline"></A>
Checking user access for $BE_USER from PHP</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
backend user of a session is always available to the backend scripts
as the global variable $BE_USER. The object is created in init.php
and is an instance of the class &quot;t3lib_beUserAuth&quot; (which
extends &quot;t3lib_userAuthGroup&quot; which extends
&quot;t3lib_userAuth&quot;).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
addition to $BE_USER two other global variables are of interest -
$WEBMOUNTS and $FILEMOUNTS, each holding an array with the DB mounts
and File mounts of the $BE_USER.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
order to introduce how the $BE_USER object can be helpful to your
backend scripts/modules, this is a few examples:</FONT></P>
<H5 CLASS="western">Checking access to current backend module</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">$MCONF
is module configuration and the key $MCONF[&quot;access&quot;]
determines the access scope for the module. This function call will
check if the $BE_USER is allowed to access the module and if not, the
function will exit with an error message.</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">modAccess</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$MCONF</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT>
</PRE><H5 CLASS="western">
Checking access to any backend module</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you know the module key you can check if the module is included in
the access list by this function call:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">check</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;modules&quot;</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">&quot;web_list&quot;</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
access to the module &quot;Web&gt;List&quot; is checked.</FONT></P>
<H5 CLASS="western">Access to tables and fields?</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
same function -&gt;check() can actually check all the -&gt;groupLists
inside $BE_USER. For instance:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Checking
modify access to the table &quot;pages&quot;:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">check</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tables_modify'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Checking
selecting access to the table &quot;tt_content&quot;:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">check</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tables_select'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Checking
if a table/field pair is allowed explicitly through the &quot;Allowed
Excludefields&quot;:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">check</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;non_exclude_fields&quot;</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">&quot;:&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$field</FONT><FONT COLOR="#007700">);</FONT></PRE><H5 CLASS="western">
Is &quot;admin&quot;?</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you want to know if a user is an &quot;admin&quot; user (has complete
access), just call this method:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">isAdmin</FONT><FONT COLOR="#007700">();</FONT></PRE><H5 CLASS="western">
Read access to a page?</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
function call will return true if the user has read access to a page
(represented by its database record, $pageRec):</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doesUserHaveAccess</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pageRec</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Changing
the &quot;1&quot; for other values will check other permissions. Fx.
&quot;2&quot; will check id the user may edit the page and &quot;4&quot;
will check if the page can be deleted. </FONT>
</P>
<H5 CLASS="western">Is a page inside a DB mount?</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Access
to a page should not be checked only based on page permissions but
also if a page is found within a DB mount for ther user. This can be
checked by this function call ($id is the page uid):</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">isInWebMount</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$id</FONT><FONT COLOR="#007700">)</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H5 CLASS="western">Selecting readable pages from database?</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you wish to make a SQL statement which selects pages from the
database and you want it to be only pages that the user has read
access to, you can have a proper WHERE clause returned by this
function call:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getPagePermsClause</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Again
the number &quot;1&quot; represents the &quot;read&quot; permission;
&quot;2&quot; would represent &quot;edit&quot; permission and &quot;4&quot;
would be delete permission and so on. The result from the above query
could be this string:</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#007700">((</FONT><FONT COLOR="#0000bb">pages</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">perms_everybody </FONT><FONT COLOR="#007700">&amp; </FONT><FONT COLOR="#0000bb">1 </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">)OR(</FONT><FONT COLOR="#0000bb">pages</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">perms_userid </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">2 </FONT><FONT COLOR="#007700">AND </FONT><FONT COLOR="#0000bb">pages</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">perms_user </FONT><FONT COLOR="#007700">&amp; </FONT><FONT COLOR="#0000bb">1 </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">)OR(</FONT><FONT COLOR="#0000bb">pages</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">perms_groupid in </FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">) AND </FONT><FONT COLOR="#0000bb">pages</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">perms_group </FONT><FONT COLOR="#007700">&amp; </FONT><FONT COLOR="#0000bb">1 </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">))</FONT></PRE><H5 CLASS="western">
Saving module data</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
stores the input variable $compareFlags (an array!) with the key
&quot;tools_beuser/index.php/compare&quot;</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;$compareFlags </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">GPvar</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;compareFlags&quot;</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">pushModuleData</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;tools_beuser/index.php/compare&quot;</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$compareFlags</FONT><FONT COLOR="#007700">);</FONT></PRE><H5 CLASS="western">
Getting module data</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
gets the module data with the key &quot;tools_beuser/index.php/compare&quot;
(lasting only for the session)</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;$compareFlags </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getModuleData</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;tools_beuser/index.php/compare&quot;</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">&quot;ses&quot;</FONT><FONT COLOR="#007700">);</FONT></PRE><H5 CLASS="western">
Returning object script from TSconfig</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
function can return a value from the &quot;User TSconfig&quot;
structure of the user. In this case the value for
&quot;options.clipboardNumberPads&quot;:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getTSConfigVal</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;options.clipboardNumberPads&quot;</FONT><FONT COLOR="#007700">);</FONT></PRE><H5 CLASS="western">
Getting the username</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
full &quot;be_users&quot; record of a authenticated user is available
in $BE_USER-&gt;user as an array. This will return the &quot;username&quot;:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">user</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;username&quot;</FONT><FONT COLOR="#007700">]</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H5 CLASS="western">Get User Configuration value</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
internal -&gt;uc array contains options which are managed by the
User&gt;Setup module (extensions &quot;setup&quot;). These values are
accessible in the $BE_USER-&gt;uc array. This will return the current
state of &quot;Condensed mode&quot; for the user:</FONT></P>
<PRE CLASS="western">	<FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">uc</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'condensedMode'</FONT><FONT COLOR="#007700">]</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H2 CLASS="western"><A NAME="3.7.Using system log|outline"></A>Using
system log</H2>
<H3 CLASS="western"><A NAME="3.7.1.The log table (sys_log)|outline"></A>
The log table (sys_log)</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Writing
to the system log is done using the backend user object:</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#5555ff">$this</FONT>-&gt;BE_USER-&gt;writelog<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$type</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$action</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$error</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$details_nr</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$details</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$data</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$table</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$recuid</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$recpid</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$event_pid</FONT><FONT COLOR="#008000">,</FONT><FONT COLOR="#5555ff">$NEWid</FONT><FONT COLOR="#008000">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Here are description of the arguments to this
function call:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=28*>
	<COL WIDTH=26*>
	<COL WIDTH=24*>
	<COL WIDTH=178*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=11%>
				<P CLASS="western">Field</P>
			</TH>
			<TH WIDTH=10%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=10%>
				<P CLASS="western">Var</P>
			</TH>
			<TH WIDTH=69%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">tinyint</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$type</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Value telling which module in TYPO3 set the
				log entry. The type values are paired with an action-integer
				which is telling in more detail what the event was. Here type and
				action values are arranged hierarchically (type on first level,
				action on second level):</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western">1 : t3lib_TCEmain (“TYPO3 Core Engine”
					where database records are manipulated)</P>
					<UL>
						<LI><P CLASS="western">Action values are for new, updated,
						copy, move, delete etc.</P>
					</UL>
					<LI><P CLASS="western">2 : “tce_file” (File handling in
					fileadmin/ and absolute filemounts)</P>
					<UL>
						<LI><P CLASS="western">Action values are for various file
						handling types like upload, rename, edit etc.</P>
					</UL>
					<LI><P CLASS="western">3 : System (eg. sys_history save)</P>
					<LI><P CLASS="western">4 : Modules: This is the mode you may use
					for extensions having backend module functionality. Probably you
					would like to use BE_USER-&gt;simplelog() for your extensions.</P>
					<LI><P CLASS="western">254 : Personal settings changed</P>
					<LI><P CLASS="western">255 : Login or Logout action</P>
					<UL>
						<LI><P CLASS="western">1=login</P>
						<LI><P CLASS="western">2=logout</P>
						<LI><P CLASS="western">3=failed login (+ errorcode 3)</P>
						<LI><P CLASS="western">4=failure_warning_email sent</P>
					</UL>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">action</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">tinyint</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$action</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western"><I>See “type” above</I></P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">When not available,
				use value “0”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">error</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">tinyint</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$error</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Error level:</P>
				<UL>
					<LI><P CLASS="western">0 = message, a notice of an action that
					happened.</P>
					<LI><P CLASS="western">1 = error, typically a permission problem
					for the user</P>
					<LI><P CLASS="western">2 = System Error, something which should
					not happen for technical reasons.</P>
					<LI><P CLASS="western">3 = Security notice, like login failures</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">details_nr</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">tinyint</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$details_nr</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Number of “detail” message. This number
				should be unique for the combination of type/action</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">-1 is a temporary detail number you can use
				while developing and error messages are not fixed yet.</P>
				<P CLASS="western">0 is a value that means the message is not
				supposed to be translated</P>
				<P CLASS="western">&gt;=1 means the message is fixed and ready
				for translation.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">details</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">tinytext</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$details</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">The log message text (in english). By
				identification through type/action/details_nr this can be
				translated through the localization system.</P>
				<P CLASS="western">If you insert “%s” markers in the details
				message and set $data to an array the first 5 entries (keys 0-4)
				from $data will substitute the markers sequentially (using
				sprintf)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">log_data</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">tinyblob</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$data</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Data that follows the log entry. Can be an
				array. See “details” for more info.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">tablename</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">varchar(40)</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$table</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Table name. Special field used by
				tce_main.php. 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">recuid</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">int</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$recuid</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Record UID. Special field used by
				tce_main.php. 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">recpid</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">int</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$recpid</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Record PID. Special field used by
				tce_main.php. [OBSOLETE; not used anymore.]</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">event_pid</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">int</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$event_pid</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">The page ID (pid) where the event occurred.
				Used to select log-content for specific pages.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">NEWid</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">varchar(20)</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">$NEWid</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Special field used by tce_main.php. NEWid
				string of newly created records.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">tstamp</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">int</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">EXEC_TIME of event, UNIX time in seconds.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">uid</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">int</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Unique ID for log entry, automatically
				inserted</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">userid</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">int</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">User ID of backend user, automatically set for
				you</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">IP</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">varchar(39)</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">REMOTE_ADDR of client</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=11%>
				<P CLASS="western">workspace</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">int</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=69%>
				<P CLASS="western">Workspace ID</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Making logging simple</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">While
it is nice to have log message categorized and numbered during
development and sometimes beyond that point a simpler logging API is
necessary. Therefore you can also call this function:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm">BE_USER-&gt;simplelog<FONT COLOR="#008000">(</FONT><FONT COLOR="#5555ff">$message</FONT><FONT COLOR="#008000">,</FONT> <FONT COLOR="#5555ff">$extKey</FONT>=<FONT COLOR="#dd0000">''</FONT><FONT COLOR="#008000">,</FONT> <FONT COLOR="#5555ff">$error</FONT>=<FONT COLOR="#0000ff">0</FONT><FONT COLOR="#008000">)</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">All you need is to set $message to store a log
message. If you call it from an extension it is good practice to also
supply the extension key. Finally you can add the error number
(according to the table above) if you need to signal an error.</FONT></P>
<H2 CLASS="western"><A NAME="3.8.PHP Class Extension|outline"></A>PHP
Class Extension</H2>
<H3 CLASS="western"><A NAME="3.8.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Practically
all important scripts have their main code encapsulated in a class
(typically named SC_[scriptname] and instantiated as the global
object $SOBE) and<SPAN STYLE="font-style: normal"> almost all library
</SPAN>classes used in TYPO3 - both frontend and backend - can be
extended by user defined classes. Extension of TYPO3 PHP classes may
also be referred to as an &quot;XCLASS extension&quot;.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Extending
TYPO3s PHP classes is recommended mostly for special needs in
individual projects. This is due to the limitation that a class can
only be extended once. Thus, if many extensions try to extend the
same class, only one of them will succeed and in turn the others will
not function correctly.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So,
extending classes is a great option for individual projects where
special &quot;hacks&quot; are needed. But generally it is a poor way
of programming TYPO3 extensions in which case you should look for a
system hook or request a system hook to be made for your purpose if
generally meaningful.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Configuring
user-classes works like this:</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
	(ext_)localconf.php you configure for either frontend or backend
	that you wish to include a file with the extension of the class.
	This inclusion is usually done in the end of the class-file itself
	based on a lookup in TYPO3_CONF_VARS. </FONT>
	</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Whenever
	the class is instantiated as an object, the source code checks if a
	user-extension of that class exists. If so, then <I>that</I> class
	(or an extension of the extended class) is instantiated and not the
	“normal” (parent) class. <BR>Getting the correct instance of a
	class is done by using the function t3lib_div::makeInstance()
	instead of &quot;new ...&quot; when an object is created.</FONT></P>
</OL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">Example</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Say
you wish to make an addition to the stdWrap method found in the class
“tslib_cObj” (found in the class file
tslib/class.tslib_content.php). </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
first thing to do is to create the extension class. So you create a
file in the typo3conf/ directory named “class.ux_tslib_content.php”.
“ux” is a prefix meaning “user-extension”. This file may look
like this:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">&lt;?php<BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">/** <BR>* User-Extension of tslib_cObj class.<BR>*<BR>* @author&nbsp;&nbsp;&nbsp;&nbsp;Kasper Skårhøj &lt;kasper@typo3.com&gt;<BR>*/<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_tslib_cObj&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_cObj&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">stdWrap</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$conf</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// Call the real stdWrap function in the parent class:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">stdWrap</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$conf</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// Process according to my user-defined property:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">if&nbsp;(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$conf</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;userDefined_wrapInRed&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'&lt;font color=&quot;red&quot;&gt;'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'&lt;/font&gt;'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">?&gt;</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
next thing is to configure TYPO3 to include this class file as well
after the original file tslib/class.tslib_content.php:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;FE&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;XCLASS&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;tslib/class.tslib_content.php&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]=<BR>	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">PATH_typo3conf</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;class.ux_tslib_content.php&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
when the file “tslib/class.tslib_content.php” is included inside
of class.tslib_pagegen.php, the extension class is included
immediately from inside the “tslib/class.tslib_content.php” file
(this is from the bottom of the file):</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">if&nbsp;(</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"><FONT SIZE=1 STYLE="font-size: 8pt">defined</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">(</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000"><FONT SIZE=1 STYLE="font-size: 8pt">&quot;TYPO3_MODE&quot;</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">)&nbsp;&amp;&amp;&nbsp;<BR>	</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"><FONT SIZE=1 STYLE="font-size: 8pt">$TYPO3_CONF_VARS</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">[</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"><FONT SIZE=1 STYLE="font-size: 8pt">TYPO3_MODE</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">][</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000"><FONT SIZE=1 STYLE="font-size: 8pt">&quot;XCLASS&quot;</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">][</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000"><FONT SIZE=1 STYLE="font-size: 8pt">&quot;tslib/class.tslib_content.php&quot;</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">])&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;include_once(</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"><FONT SIZE=1 STYLE="font-size: 8pt">$TYPO3_CONF_VARS</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">[</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"><FONT SIZE=1 STYLE="font-size: 8pt">TYPO3_MODE</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">][</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000"><FONT SIZE=1 STYLE="font-size: 8pt">&quot;XCLASS&quot;</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">][</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000"><FONT SIZE=1 STYLE="font-size: 8pt">&quot;tslib/class.tslib_content.php&quot;</FONT></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><FONT SIZE=1 STYLE="font-size: 8pt">]);<BR>}</FONT></FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
last thing which remains is to instantiate the class ux_tslib_cObj
instead of tslib_cObj. This is done automatically, because everywhere
tslib_cObj is instantiated, it is first examined if ux_tslib_cObj
exists and if so, that class is instantiated instead!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is done by instantiating the object with &quot;t3lib_div::makeInstance()&quot;:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$cObj&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">= </FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_div::makeInstance</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;tslib_cObj&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Originally it looked like this:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$cObj&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;new&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_cObj</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Internally &quot;t3lib_div::makeInstance()&quot;
does this:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$cObj&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">= </FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">class_exists</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;ux_tslib_cObj&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">) ? new&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_tslib_cObj </FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">: new&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_cObj</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
</PRE><H4 CLASS="western">
IMPORTANT</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
setting up the file to include, in particular from t3lib/, notice the
difference between $TYPO3_CONF_VARS[&quot;<FONT COLOR="#ff0000">BE</FONT>&quot;][&quot;XCLASS&quot;][...]
and $TYPO3_CONF_VARS[&quot;<FONT COLOR="#ff0000">FE</FONT>&quot;][&quot;XCLASS&quot;][...].
The key “FE” is used when the class is included by a front-end
script (those initialized by tslib/index_ts.php and tslib/showpic.php
- both also known as index.php and showpic.php in the root of the
website), “BE” is used by backend scripts (those initialized by
typo3/init.php or typo3/thumbs.php). This feature allows you to
include a different extension when the (t3lib/-) class is used in the
frontend and in the backend.</FONT></P>
<H3 CLASS="western"><A NAME="3.8.2.Which classes_|outline"></A>Which
classes?</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Most
code in TYPO3 resides in classes and therefore anything in the system
can be extended. So you should rather say to yourself: In which
script (and thereby which class) is it that I'm going to
extend/change something. When you know which script, you simply open
it, look inside and somewhere you'll find the lines of code which are
responsible for the inclusion of the extension, typically in the
bottom of the script. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
exceptions to this rule is classes like &quot;t3lib_div&quot;,
&quot;t3lib_extMgm&quot; or &quot;t3lib_BEfunc&quot;. These classes
contain methods which are designed to be call non-instantiated, like
&quot;t3lib_div::fixed_lgd_cs()&quot;. Whether a class works on this
basis is normally noted in the header of the class file. When methods
in a class is called non-instantiated there is no way you can extend
that method/class.</FONT></P>
<H4 CLASS="western">Example - Adding a small feature in the interface</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Say
you wish to add a little section with help text in the bottom of the
“New” dialog:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m38c72f53.gif" NAME="Graphic4" ALIGN=LEFT WIDTH=363 HEIGHT=188 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
this is what you do:</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Find
	out that the script in question is “typo3/db_new.php”
	(right-click frame, select “Properties” and look at URL...:-)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Then
	examine the scripts for its classes and methods. In this case you'll
	find two classes in the file; “localPageTree” (extends
	t3lib_pageTree) and “SC_db_new”. The class “SC_db_new” is
	the so called “Script Class” - this will hold the code
	specifically for this script. <BR>You also find that the only code
	executed in the global scope is this:</FONT></P>
	<PRE CLASS="western">	<CODE CLASS="western"><FONT COLOR="#0000bb">$SOBE&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_div</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">makeInstance</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;SC_db_new&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>	</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$SOBE</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">init</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();<BR>	</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$SOBE</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">main</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();<BR>	</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$SOBE</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">printContent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();</FONT></CODE>
</PRE>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
	you examine the SC_db_new class you find that the main() method is
	the one you would like to extend. </FONT>
	</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Finally
	you find that immediately after the definition of the two classes
	there is three lines of code which will provide you with the final
	piece of knowledge you need:</FONT></P>
	<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#ff8000">// Include extension?<BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">if&nbsp;(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">defined</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;TYPO3_MODE&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;&amp;&amp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">TYPO3_MODE</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;XCLASS&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;typo3/db_new.php&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;include_once(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"><B>$TYPO3_CONF_VARS</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><B>[</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"><B>TYPO3_MODE</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><B>][</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000"><B>&quot;XCLASS&quot;</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><B>][</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000"><B>&quot;typo3/db_new.php&quot;</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><B>]</B></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>}</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
	</P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
	now you know that the key to use is “typo3/db_new.php” when you
	wish to define a script which should be included as the extension.</FONT></P>
</OL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
now after your investigations you do the trivial stuff:</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Create
	your extension class (here
	typo3conf/class.test.php)<BR><BR><CODE CLASS="western"><FONT COLOR="#0000bb">&lt;?php<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_SC_db_new&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">SC_db_new&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">main</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">()&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$doc</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">main</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">.=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$doc</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">section</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;HELP&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;-
	make a choice!&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">0</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">1</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">?&gt;</FONT></CODE></FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Configure
	your extension class in typo3conf/localconf.php</FONT></P>
	<PRE CLASS="western"><BR><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;BE&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;XCLASS&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;typo3/db_new.php&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">PATH_typo3conf</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;class.test.php&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE></PRE>
</OL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
is no “table of extendable classes” in this document because 1)
all classes are extendable and 2) the number of classes will grow as
TYPO3 is further developed and extensions are made and 3) finally you
cannot extend a class unless you know it exists and have analysed
some of its internal structure (methods / variables) - so you'll have
to dig into the source anyway!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Therefore;
If you wish to extend something, follow this suggestion for an
analysis of the situation and you'll end up with the knowledge needed
in order to extend that class and thereby extend TYPO3 <I>without</I>
loosing backwards compatibility with future updates. Great.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notes
on SC_* classes (script classes)</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
is one more thing to note about especially the SC_* classes in the
backend:</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Global
	vars:</B> They use a lot of variables from the global scope. This is
	due to historical reasons; The code formerly resided in the global
	scope and a quick conversion into classes demanded this approach.
	Future policy is to keep as many variables internal as possible and
	if any of these SC_* classes are developed further in the future,
	some of the globals might on that occasion be internalized.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Large
	methods:</B> There are typically a init(), main() and printContent()
	method in the SC-classes. Each of these, in particular the main()
	method may grow large. Processing stuff in the start and end of the
	methods is easy - you just call parent::[methodname]() from your
	extension. But if you want to extend or process something in the
	middle of one of these methods, it would be necessary to call a
	dummy method at that point in the parent class. Such a dummy method
	would then be used for processing in <I>your</I> class, but would
	not affect the general use of the parent class. Such dummy-method
	calls are not widely included yet, but will be as suggestions for
	them appears. And you are very welcome to give in such
	suggestions.<BR><BR>I'll just give an example to illustrate what I
	mean:</FONT></P>
	<PRE CLASS="western"><BR><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">SC_example&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">main</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">()&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$number&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">100</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;The number is &quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$number</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}</FONT></CODE><BR></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
	<FONT COLOR="#000000">This class prints the text “The number is
	100”. If you wish to do some calculations to the $number-variable
	before it is printed, you are forced to simply include the whole
	original main-method in your extension script. Here it would be no
	problem because the method is 2 codelines long. But it could be 200
	codelines! So what you do is that you suggest to the TYPO3
	development to call a “harmless” dummy method in the main()
	method...<BR></FONT><BR><BR>
	</P>
	<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#666666">class&nbsp;SC_example&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;main()&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$number&nbsp;=&nbsp;100;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$number&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">processNumber</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$number</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#666666">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;The number is &quot;.$number;<BR>&nbsp;&nbsp;&nbsp;&nbsp;}</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700"><BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">processNumber</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$theNumber</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$theNumber</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#666666">}</FONT></CODE><BR><BR></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
	<FONT COLOR="#000000">... and then you extend the class as follows:</FONT></P>
	<PRE CLASS="western"><BR><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_SC_example&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">SC_example&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">processNumber</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$theNumber</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$theNumber</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">&lt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">100&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">?&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;less than 100&quot;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">:&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;greater than 100&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}</FONT></CODE><BR></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
	<FONT COLOR="#000000">... and now the main() method would print “The
	number is greater than 100” instead.<BR><BR>Notice that you'll
	have to make such suggestions for dummy method calls because we will
	include them only as people need them.</FONT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"></P>
</OL>
<H3 CLASS="western"><A NAME="3.8.3.Extending methods|outline"></A>Extending
methods</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
extending a method like in the case above with stdWrap() please
observe that such a method might gain new parameters in the future
without further notice. For instance stdWrap is currently defined
like this:</FONT></P>
<PRE CLASS="western">	function stdWrap($content,$conf)	{</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">...
but maybe some day this method will have another parameter added, eg:</FONT></P>
<PRE CLASS="western">	function stdWrap($content,$conf<B>,$yet_a_parameter=0</B>)	{</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
means if you want to override stdWrap(), but still call the parent
class' method, you must extend your own method call from...:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">stdWrap</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$conf</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// Call the real stdWrap method in the parent class:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">stdWrap</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$conf</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000"><CODE CLASS="western"><FONT COLOR="#007700">	...<BR></FONT></CODE></FONT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">...
to:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">stdWrap</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$conf,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff0000">$yet_a_parameter=0</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// Call the real stdWrap method in the parent class:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">stdWrap</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$content</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$conf,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff0000">$yet_a_parameter</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">	...<BR></FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Also be aware of constuctors. If you have a
constructor in your extension class you must observe if there is a
constructor in the parent class which you should call first / after.
In case, you can do it by “parent::[original class name]”</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
instance the class tslib_fe is instantiated into the global object
$TSFE. This class has a constructor looking like this:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#ff8000">/** <BR> * Class constructor<BR> */<BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_fe</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$id</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$type</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$cHash</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$jumpurl</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// Setting some variables:<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">id&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$id</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">type&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$type</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">no_cache&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">?&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">1&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">:&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">0</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">cHash&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$cHash</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">jumpurl&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$jumpurl</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">TYPO3_CONF_VARS&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">clientInfo&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_div</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">clientInfo</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">uniqueString</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">md5</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">microtime</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">());<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">makeCacheHash</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();<BR>}</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
as you see, you probably want to call this method. But lets also say
you wish to make sure the $no_cache parameter is always set to 1 (for
some strange reason...). So you make an extension class like this
with a new constructor, ux_tslib_fe(), overriding  the $no_cache
variable and then calling the parent class constructor:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_tslib_fe&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_fe&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_tslib_fe</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$id</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$type</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$cHash</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$jumpurl</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">1</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_fe</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$id</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$type</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$cHash</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$jumpurl</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;}<BR>}</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H3 CLASS="western"><A NAME="3.8.4.User defined methods in classes|outline"></A>
User defined methods in classes</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><SPAN STYLE="font-weight: normal">Prefix
user defined methods and internal variables with “ux_”! </SPAN>Thus
you don't risk to choose a method name which may later be added to
the parent class in the TYPO3 distribution!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Example,
continued from above:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_tslib_fe&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_fe&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff00ff">$ux_fLPmode</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">1</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// If you &quot;feelLuckyPunk&quot; this is the no_cache value<BR>&nbsp;&nbsp;&nbsp;&nbsp;<BR> &nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_tslib_fe</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$id</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$type</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$cHash</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$jumpurl</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// setting no_cache?<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">-&gt;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_settingNoCache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// Calling parent constructor:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tslib_fe</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$id</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$type</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$no_cache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$cHash</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$jumpurl</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">/**<BR>&nbsp;&nbsp; * Setting the no_cache value based on user-input in GET/POST var, feelLuckyPunk<BR>&nbsp;&nbsp; */<BR>&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff00ff">ux_settingNoCache</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">()&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_div</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">GPvar</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;feelLuckyPunk&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;?&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff00ff">$this-&gt;ux_fLPmode</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">:&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">0</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;}<BR>}</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(User
defined methods and variables are in purple)</FONT></P>
<H3 CLASS="western"><A NAME="3.8.5.A few examples of extending the backend classes|outline"></A>
A few examples of extending the backend classes</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
concept of extending classes in the backend can come in handy in many
cases. First of all it's a brilliant way to make your own project
specific extensions to TYPO3 without spoiling the compatibility with
the distribution! This is a very important point! Stated another way:
By making an &quot;XCLASS extension&quot; you can change one method
in a TYPO3 class and next time you update TYPO3, your method is still
there - but all the other TYPO3 code has been updated! Great! </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Also
for development and experimental situations is great. Generally the
concept offers you quite a lot of freedom, because you are seriously
able to take action if you need something solved here and now which
cannot be fixed in the main distribution at the moment.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Anyway,
here's a few simple examples:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">1)
Say you wish to have the backend user time out after 30 seconds
instead of the default 6000.</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
	localconf.php, insert: <BR>
	$TYPO3_CONF_VARS[&quot;BE&quot;][&quot;XCLASS&quot;][&quot;t3lib/class.t3lib_beuserauth.php&quot;]<BR>
	=PATH_typo3conf.&quot;class.ux_myBackendUserExtension.php&quot;;</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Create
	the file “class.ux_myBackendUserExtension.php” in typo3conf/
	folder and put this content in:</FONT></P>
</OL>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">&lt;?php<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_t3lib_beUserAuth&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_beUserAuth&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$auth_timeout_field&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">30</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>}<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">?&gt;</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Of
course you need to know why it's the variable <CODE CLASS="western"><FONT COLOR="#0000bb">auth_timeout_field
</FONT></CODE>which must be set, but you are a bright person, so of
course you go directly to the file t3lib/class.t3lib_beuserauth.php,
open it and find that <CODE CLASS="western"><FONT COLOR="#007700">var&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$auth_timeout_field&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;6000;</FONT></CODE>
there!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
could also easily insert an IP-filter (which is already present
though...). Here you have to take a little adventure a bit further.
As you see in “class.t3lib_beuserauth.php” extends
“t3lib_userAuthGroup” which extends “t3lib_userAuth” the
method start() is the place where the users are authenticated. This
could quickly be exploited to make this IP filter for the backend:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">&lt;?php<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_t3lib_beUserAuth&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_beUserAuth&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$auth_timeout_field&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">30</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">start</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">()&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_div</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">cmpIP</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">getenv</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;REMOTE_ADDR&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">),&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;192.168.*.*&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;Wrong IP, you cannot be authenticated!&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">start</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">?&gt;</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
now only users with client IP numbers in the 192.168.*.* series will
gain access to the backend. If that is the case, notice how the
parent start() method is called and any result is returned. Thus your
overriding method is a wrapped for the original. Brilliant, right!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here's
another one:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">&lt;?php<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">ux_t3lib_TCEforms&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">extends&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_TCEforms&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">formWidth</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$size</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">48</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$textarea</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">0</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$size</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">round</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$size</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">*</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">1.5</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">formWidth</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$size</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$textarea</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">printPalette</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$palArr</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">reset</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$palArr</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(list(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$k</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)=</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">each</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$palArr</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$palArr</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$k</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;NAME&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">strtoupper</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$palArr</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$k</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;NAME&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">printPalette</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$palArr</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR><BR></FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">?&gt;</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">...
and configured in localconf.php as this:</FONT></P>
<PRE CLASS="western">$TYPO3_CONF_VARS[&quot;BE&quot;][&quot;XCLASS&quot;][&quot;t3lib/class.t3lib_tceforms.php&quot;]<BR>					=PATH_typo3conf.&quot;class.ux_myTCEformsExtension.php&quot;;</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
result is this; Normally the “General options” palette of the
forms in the backend looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m6672994c.png" NAME="Grafik16" ALIGN=LEFT WIDTH=565 HEIGHT=87 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">But
the extensions does two things: 1) All formfields have their width
multiplied with 1.5 so they are wider, 2) the titles of the
palette-fields are converted for uppercase. Looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m46bed367.png" NAME="Grafik15" ALIGN=LEFT WIDTH=642 HEIGHT=86 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So
as you see you can do really stupid details - in fact almost any
extension.</FONT></P>
<H3 CLASS="western"><A NAME="3.8.6.Warnings|outline"></A>Warnings</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are a few warnings about using XCLASS extensions:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Avoid
	using XCLASS extensions in your (public) extensions!</B><BR>A  PHP
	class can only be extended by <I>one</I> extension class at a time.
	Thus, having two extension classes set up, only the latter one will
	be enabled. There is no way to work around this technologically in
	PHP. However &quot;t3lib_div::makeInstance()&quot; supports
	&quot;cascaded&quot; extension classes, meaning that you can do
	&quot;ux_ux_someclass&quot; which will extend &quot;ux_someclass&quot;
	but this requires an internal awareness of the extension class
	&quot;ux_someclass&quot; in the first place.<BR>The conclusion is
	that XCLASS extensions are best suited for project development where
	you need a quick hack of something in the core which should still
	stay backwards compatible with TYPO3 core upgrades.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Check
	if child classes are instantiated</B><BR>Quite often people have
	been confused about extending for instance the &quot;tslib_menu&quot;
	class when they want to add a feature for &quot;TMENU&quot;. But
	actually the class to extend is &quot;tslib_tmenu&quot; which is an
	extension of &quot;tslib_menu&quot;. So make sure you are extending
	the <I>right</I> class name (and always make sure your extension
	class is included also).</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Strange
	opcode caching behaviors when you upgrade TYPO3 core</B><BR>When you
	upgrade the TYPO3 core and you have an extension which extends a
	core class, the upgraded core underneath might not be detected by
	opcode caches. In particular PHP-Accelerator is known for this
	behavior producing &quot;undefined function....&quot; errors. The
	solution is: Always clear &quot;/tmp/php_a_*&quot; files and restart
	your webserver after upgrading source.</FONT></P>
</UL>
<H2 CLASS="western"><A NAME="3.9.AJAX in the TYPO3 Backend|outline"></A>
AJAX in the TYPO3 Backend</H2>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
TYPO3 4.2 a new model for writing AJAX code in the TYPO3 Backend was
introduced. Although there were some parts in the TYPO3 Backend that
used AJAX already, they are now unified into a single interface that
handles errors and dispatches the different calls to their final
locations. This way it is ensured that e.g. a BE user is logged in
and all TYPO3 variables are loaded.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
whole architecture builds on top of successful techniques developers
already know. It's a mixture between the eID concept from the TYPO3
Frontend, the hooking idea we know from other places in TYPO3, piped
through a single small AJAX file &quot;typo3/ajax.php&quot; that
creates a PHP AJAX object to see if an error occurred or not. If
something went wrong, the X-JSON header is set to false and the
client-side AJAX request (an AJAX responder in the Prototype
Javascript framework) will know that there is an error.</FONT></P>
<H3 CLASS="western"><A NAME="3.9.1.In-depth presentation|outline"></A>
In-depth presentation</H3>
<H4 CLASS="western">Client-Side programming</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">On
the client-side we are using the Prototype JS library (located in
typo3/contrib/prototype/prototype.js). If you have used it already,
you know that you can make AJAX calls with AJAX.Request, AJAX.Updater
and AJAX.PeriodicalUpdater. We extended the library and hooked in
these objects, or better: in the callbacks users can define. If an
AJAX request is made to our server-side component (typo3/ajax.php),
everything developers need to do is to call this URL and add a
unique, already registered parameter for their ajaxID. Their defined
&quot;onComplete&quot; and &quot;onSuccess&quot; are only rendered if
the X-JSON header is set to true by the server-side script. If the
X-JSON header is set to false, the Responder checks if there is a
callback function named &quot;onT3Error&quot; and executes it instead
of the “onComplete” method. If the &quot;onT3Error&quot; method
is not defined, the default TYPO3 error handler will be displaying
the error in the TYPO3 backend. If the X-JSON header is set to false,
the &quot;onSuccess&quot; callback will not be executed as well as
but an error message will be shown in the notification area. This
behaviour is done automatically with every AJAX call to &quot;ajax.php&quot;
made through Prototype's AJAX classes. This responder is also only
active if &quot;typo3/js/common.js&quot; is added to the base script.</FONT></P>
<H4 CLASS="western">Server-side programming</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you look into &quot;typo3/ajax.php&quot;, it is only a small
dispatcher script. It checks for an ajaxID in the
TYPO3_CONF_VARS['BE']['AJAX'] array and tries to execute the function
pointer. The function has two parameters, where the first (an array)
is not used yet. The second parameter is the TYPO3 AJAX Object
(located in typo3/classes/typo3ajax.php) that is used to add the
content that should be returned as the server-response to the
Javascript part, or the error message that should be displayed. The
X-JSON header will be set depending on whether &quot;setError()&quot;
was called on this AJAX object. You can also specify if the object
should return the result in a valid XML object tree, as text/html
(default) or as a JSON object, see below.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;ajaxID&quot; is a unique identifier and can be used to override
the existing AJAX calls. Therefore you can extend existing AJAX calls
that already exist in the backend by redirecting it to your function.
But be aware of the side-effects of this feature: Other extensions
could overwrite this function as well (similar problem as with
XCLASSing or single inheritance in OOP).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Also,
for every TYPO3 request, you will now have a TYPO3_REQUESTTYPE
variable that can be used for bitwise comparison. You can now check
if you're in Backend or Frontend or in an valid AJAX request with</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">if (</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">TYPO3_REQUESTTYPE </FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">&amp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> TYPO3_REQUESTTYPE_AJAX</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">to see if you're calling through the new AJAX
interface.</FONT></P>
<H4 CLASS="western">Different Content Formats</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">As
with every AJAX response you can send it in different response
formats.</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">text/html
	- plain text</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">text/xml
	 - strict XML formatting</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">application/json
	- JSON notation</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can also specify the contentFormat in the AJAX object like this:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$ajaxObj-&gt;setContentFormat</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'json'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">For the keyword you can choose between &quot;plain&quot;
(default), &quot;xml&quot; and &quot;json&quot;, &quot;jsonbody&quot;
and &quot;jsonhead&quot;.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
are the specifics for each format.</FONT></P>
<H5 CLASS="western">Plain Text</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
content array in the backend will be concatenated and returned
uninterpreted.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
result will be available in the transport object as a string through
&quot;xhr.responseText&quot;.</FONT></P>
<H5 CLASS="western">XML</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
content needs to be valid XML and will be available in javascript as
&quot;xhr.responseXML&quot;.</FONT></P>
<H5 CLASS="western">JSON</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
content is put through the service in &quot;typo3/contrib/json/json.php&quot;
and is then available in JSON notation through the second parameter
in the onComplete / onSuccess methods, and additionally in the
&quot;responseText&quot; part of the transport object
(&quot;xhr.responseText&quot;). If it is set to &quot;jsonbody&quot;,
only the latter variable is filled, if &quot;jsonhead&quot; is set,
it is only in the second parameter. This is useful to save traffic
and you can use it with whatever format you like.</FONT></P>
<H3 CLASS="western"><A NAME="3.9.2.Developing with AJAX in the TYPO3 Backend|outline"></A>
Developing with AJAX in the TYPO3 Backend</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is a small guide for you to use this feature in your AJAX scripts.</FONT></P>
<H4 CLASS="western">How to choose the right ajaxID</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
ajaxID consists of two parts, the class name and the action name,
delimited by &quot;::&quot; (&quot;&lt;class&gt;::&lt;action&gt;&quot;).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Please
note that the ajaxID is just a system-wide identifier to register
your AJAX handler. Even if it looks like a static function call, it
won't be executed and has no technical dependencies. But it is
required for all developers to use a common naming scheme as
described above, since it might prevent from using identical names in
different extensions.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Some
good examples for an ajaxID:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">SC_alt_db_navframe::expandCollapse</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">t3lib_TCEforms_inline::processAjaxRequest</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">tx_myext_module1::executeSomething</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Some
bad examples for an ajaxID:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">search::findRecordByTitle</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">core::reloadReferences</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">inline::processAjaxRequest</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">updateRecordList</FONT></P>
</UL>
<H4 CLASS="western">Server-Side</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">1)
Register your unique ajaxID, at best prepended with your extension
ID, in the TYPO3 backend by adding the following line to your
&quot;ext_localconf.php&quot; (this way you can also overwrite
existing AJAX calls):</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'BE'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'AJAX'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'tx_myext::ajaxID'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">] =</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> </FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'filename:object-&gt;method'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">A working example would be:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'BE'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'AJAX'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'SC_alt_db_navframe::expandCollapse'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">] =</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> </FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'typo3/alt_db_navframe.php:SC_alt_db_navframe-&gt;ajaxExpandCollapse'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">2) Create a target method to do the logic on
the server-side: similarly to the existing hooking mechanism, as with
every &quot;callUserFunction&quot;, the target method (here:
ajaxExpandCollapse) will have two function parameters. The first one
is an array of params (not used right now), the second is the TYPO3
AJAX Object (see typo3/classes/class.typo3ajax.php for all available
methods). You should use this to set the content you want to output
or to write the error message if something went wrong. </FONT>
</P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">public function</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> ajaxExpandCollapse</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$params, &amp;$ajaxObj</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">) {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this-&gt;init</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">();</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// do the logic...</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">if (</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">empty</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$this-&gt;tree</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)) {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$ajaxObj-&gt;setError</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'An error occurred'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">} else  {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// the content is an array that can be set through $key / $value pairs as parameter</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$ajaxObj-&gt;addContent</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'tree'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">, </FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'The tree works...'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">}</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">}</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">So, the server-side part is now complete. Let's
move over to the client-side.</FONT></P>
<H4 CLASS="western">Client-part</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">3)
In order for you to use client-side AJAX Javascript you have to add
these two lines of PHP code to your PHP script (available in
template.php, your template document):</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">$this-&gt;doc-&gt;loadJavascriptLib</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'contrib/prototype/prototype.js'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#0000bb">$this-&gt;doc-&gt;loadJavascriptLib</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'js/common.js'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">4) With prototype on the client side, it's
quite simple to add a new AJAX request in Javascript:</FONT></P>
<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">new</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> Ajax.Request</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'ajax.php'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">, {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">method</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">:</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> </FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'get'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">parameters</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">:</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> </FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'ajaxID=SC_alt_db_navframe::expandCollapse'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">onComplete</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">:</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> </FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">xhr, json</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">) {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// display results, should be &quot;The tree works&quot;</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">}.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">bind</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">),</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">onT3Error</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">:</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb"> </FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">xhr, json</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">) {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#ff8000">// display error message, will be &quot;An error occurred&quot; if an error occurred</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">}.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">bind</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">this</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">});</FONT></CODE>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">You can see, that it's almost the same, except
that we introduce a new callback function &quot;onT3Error&quot;,
which is optional. It is called if the method &quot;setError&quot; on
the server-side was called. Otherwise &quot;onComplete&quot; will be
called. If you do not define &quot;onT3Error&quot;, then the error
message will be shown in the TYPO3 notification area in the backend.
Our AJAX responders also work with the &quot;onSuccess&quot;
callback, but the onT3Error is only executed with &quot;onComplete&quot;.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
should be all. Please note that our TYPO3 BE AJAX mechanism works
best with the prototype JS library. If you want to create similar
approaches for other JS frameworks, have a look at
&quot;typo3/js/common.js&quot;.</FONT></P>
<H2 CLASS="western"><A NAME="3.10.Various examples|outline"></A>Various
examples</H2>
<H3 CLASS="western"><A NAME="3.10.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
follow pages will present some examples of how you can use the APIs
of core libraries. Remember, ultimately the source is the
documentation and the only point here is to show examples. Whenever
you would like to use core features that are not shown here you
should search in the core and system extensions for implementations
that can work as an example for you.</FONT></P>
<H4 CLASS="western">Debugging with debug()</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
very common tool used by TYPO3 developers is the debug() function. It
basically prints out the content of a variable in a nicely formatted
table. There are extensions available which extends the view from the
debug() function to something more fancy. Here I will just present
the basic version.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Use
the debug() function whenever you want to look &quot;inside&quot; an
array or parameters passed to a user processing function. Usually it
makes it very easy to understand the parameters. For instance, lets
say you call a script with the GET parameter string
&quot;?id=123&amp;test[key]=A&amp;test[key2]=B&quot;. How will the
GET vars look to your application inside? Well, using the debug
function makes that easy:</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_GET</FONT><FONT COLOR="#007700">(),</FONT><FONT COLOR="#dd0000">'GET variables:'</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The output in the browser will look like:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m2a8eefb8.png" NAME="Graphic99" ALIGN=LEFT WIDTH=105 HEIGHT=82 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
that the debug() function is a wrapper for t3lib_div::debug() and the
difference is that debug() (defined in &quot;t3lib/config_default.php&quot;)
will only output information if your IP addresse is within a certain
range typical for internal networks.</FONT></P>
<H3 CLASS="western"><A NAME="3.10.2.Rendering page trees|outline"></A>
Rendering page trees</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
your backend modules you might like to show information or perform
processing for a part of the page tree. There is a whole family of
libraries in the core for making trees from records, static page
trees or page trees that can be browsed (open/close nodes). </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this simple example I will show how to get the HTML for a static page
tree, using the class &quot;t3lib_pageTree&quot; (child of
&quot;t3lib_treeView&quot;). The output will look like this (missing
the normal TYPO3 styles though):</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_448e09aa.png" NAME="Graphic100" ALIGN=LEFT WIDTH=242 HEIGHT=155 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
PHP code that generates this looks like:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">require_once(</FONT><FONT COLOR="#0000bb">PATH_t3lib</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'class.t3lib_pagetree.php'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   2:</FONT> </FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Initialize starting point of page tree:</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$treeStartingPoint </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">1135</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$treeStartingRecord </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getRecord</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$treeStartingPoint</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$depth </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> </FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Initialize tree object:</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$tree </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_pageTree'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tree</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">init</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'AND '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BE_USER'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">getPagePermsClause</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">));</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  11:</FONT> </FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Creating top icon; the current page</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$HTML </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIconImage</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$treeStartingRecord</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#dd0000">'align=&quot;top&quot;'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tree</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">tree</FONT><FONT COLOR="#007700">[] = array(</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'row' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$treeStartingRecord</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'HTML'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#0000bb">$HTML</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  18:</FONT> </FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Create the tree from starting point:</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$tree</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getTree</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$treeStartingPoint</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$depth</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  21:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">#debug($tree-&gt;tree);</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  22:</FONT> </FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  23:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;// Put together the tree HTML:</FONT>
<FONT COLOR="#000000">  24:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$output </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  25:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&nbsp;&nbsp;bgcolor=&quot;#999999&quot;&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  26:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;b&gt;Icon / Title:&lt;/b&gt;&lt;/td&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  27:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;b&gt;Page UID:&lt;/b&gt;&lt;/td&gt;</FONT>
<FONT COLOR="#000000">  28:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  29:<FONT COLOR="#007700"> foreach(</FONT><FONT COLOR="#0000bb">$tree</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">tree </FONT><FONT COLOR="#007700">as </FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  30:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$output</FONT><FONT COLOR="#007700">.=</FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  31:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr bgcolor=&quot;#cccccc&quot;&gt;</FONT>
<FONT COLOR="#000000">  32:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td nowrap=&quot;nowrap&quot;&gt;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'HTML'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'row'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">]).</FONT><FONT COLOR="#dd0000">'&lt;/td&gt;</FONT></FONT>
<FONT COLOR="#000000">  33:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$data</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'row'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">]).</FONT><FONT COLOR="#dd0000">'&lt;/td&gt;</FONT></FONT>
<FONT COLOR="#000000">  34:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  35:</FONT> }</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  36:</FONT> </FONT>
<FONT COLOR="#000000">  37:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$output </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;table border=&quot;0&quot; cellspacing=&quot;1&quot; cellpadding=&quot;0&quot;&gt;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$output</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'&lt;/table&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT></PRE>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
	line 1 the class is included. <BR>Notice how the constant
	&quot;PATH_t3lib&quot; is used to set the path for &quot;t3lib/&quot;.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	4-5 sets up the starting point. You need a page id for that and
	additionally you must select that page record. <BR>Notice how
	another important API function, t3lib_BEfunc::getRecord(), is used
	to get the record array for the page!</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	6 defines that the page tree will go 2 levels down from the starting
	point.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	9-10 initializes the class. <BR>Notice how the BE_USER object is
	called to get an SQL where clause that will ensure that only pages
	that are accessible for the user will be shown in the tree! <BR>Notice
	how t3lib_div::makeInstance() is used to create the object. This is
	required by the TYPO3 CGL.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	13-17 sets up the starting point page in the tree. This must be done
	externally if you would like your tree to include the root page
	(which is not always the case).<BR>Notice how line 13 calls the
	function t3lib_iconWorks::getIconImage() to get the correct icon
	image for the pages table record! Also, $GLOBALS['BACK_PATH'] is
	used to make sure the icon has a correct &quot;back-path&quot; to
	the location where the icon is on the server.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	20 renders the page tree from the starting point and $depth levels
	down (at least 1 level)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	rendered page tree is stored in a data array inside of the tree
	object. We need to traverse the tree data to create the tree in
	HTML. This gives us the chance to organize the tree in a table for
	instance. That is very useful if you need to show additional
	information for each page.</FONT></P>
	<UL>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Lines
		24-28 renders a table row with headings for the tree.</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Lines
		29-35 traverses the tree data and for each element a table row will
		be rendered with the icon/title and an additional cell containing
		the uid.</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
		37 wraps the table rows in a table tag.</FONT></P>
	</UL>
</UL>
<H4 CLASS="western">Local extensions of the page tree classes</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you search in the source for other places where this class is used
you will often find that the class is extended locally in those
scripts. This is because it is possible to override certain functions
that generate for instance the icon or wraps the title in some way.</FONT></P>
<H3 CLASS="western"><A NAME="3.10.3.Accessing the clipboard|outline"></A>
Accessing the clipboard</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can easily access the internal clipboard in TYPO3 from your backend
modules. </FONT>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">require_once(</FONT><FONT COLOR="#0000bb">PATH_t3lib</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'class.t3lib_clipboard.php'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   2:</FONT> </FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Clipboard is initialized:</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$clipObj </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_clipboard'</FONT><FONT COLOR="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Start clipboard</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">initializeClipboard</FONT><FONT COLOR="#007700">();&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Initialize - reads the clipboard content from the user session</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clipData</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	1 includes the clipboard library</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	4-5 initializes it.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	6 outputs the content of the internal variables, -&gt;clipData. That
	will look like what you see below:</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m5d0b3bb6.png" NAME="Graphic101" ALIGN=LEFT WIDTH=391 HEIGHT=183 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
tells us what objects are registered on the &quot;normal&quot; tab
(page record with id 1146 in &quot;copy&quot; mode) and the numeric
tabs (can contain more than one element). The current clipboard (Pad
2 active) looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m42487208.png" NAME="Graphic103" ALIGN=LEFT WIDTH=323 HEIGHT=162 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
correct way of accessing clipboard content is to the method,
elFromTable(), in the clipboard object. </FONT>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">elFromTable</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'_FILE'</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#dd0000">'Files available:'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">elFromTable</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#dd0000">'Page records:'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">setCurrentPad</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'normal'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;echo </FONT><FONT COLOR="#dd0000">'Changed to &quot;normal&quot; pad...'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">elFromTable</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'_FILE'</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#dd0000">'Files available:'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">elFromTable</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#dd0000">'Page records:'</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Here we first try to get all files and then all
page records on the current pad (which is pad 2). Then we change to
the &quot;Normal&quot; pad, call the elFromTable() method again and
output the results. The output shows that in the first attempt we get
the list of files but no page records while in the second attempt
after having changed to the normal pad we will get no files but the
page record on the normal pad in return:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m24d190a6.png" NAME="Graphic102" ALIGN=LEFT WIDTH=415 HEIGHT=195 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Setting elements on the clipboard</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is too complicated to describe in detail. The following codelisting
is from the Web &gt; List module where selections for the clipboard
is posted from a form and registered. </FONT>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Clipboard actions are handled:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$CB </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_GET</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'CB'</FONT><FONT COLOR="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// CB is the clipboard command array</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">cmd</FONT><FONT COLOR="#007700">==</FONT><FONT COLOR="#dd0000">'setCB'</FONT><FONT COLOR="#007700">) {</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// CBH is all the fields selected for the clipboard, CBC is the checkbox fields which were </FONT><FONT COLOR="#ff8000">checked. By merging we get a full array of checked/unchecked elements</FONT></FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// This is set to the 'el' array of the CB after being parsed so only the table in question is registered.</FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$CB</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'el'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$dblist</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">cleanUpCBC</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">array_merge</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_POST</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'CBH'</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">_POST</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'CBC'</FONT><FONT COLOR="#007700">)),</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">cmd_table</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">}</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">MOD_SETTINGS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'clipBoard'</FONT><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$CB</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'setP'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#dd0000">'normal'</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// If the clipboard is NOT shown, set the pad to 'normal'.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$dblist</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">setCmd</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$CB</FONT><FONT COLOR="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Execute commands.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$dblist</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">cleanCurrent</FONT><FONT COLOR="#007700">();&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Clean up pad</FONT></FONT>
<FONT COLOR="#0000bb">$dblist</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">clipObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">endClipboard</FONT><FONT COLOR="#007700">();&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Save the clipboard content</FONT></PRE><H3 CLASS="western">
<A NAME="3.10.4.Adding Context Sensitive Menu items|outline"></A>Adding
Context Sensitive Menu items</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
the CSM is being generated in the &quot;alt_clickmenu.php&quot;
script an array with the elements is created. Before the array is
passed over to the final rendering function that will create the menu
HTML, the array will be passed in turns to external processing
scripts. These scripts are configured in this global array:</FONT></P>
<PRE CLASS="western">$GLOBALS['TBE_MODULES_EXT']['xMOD_alt_clickmenu']['extendCMclasses'];</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Each
script will then have a chance to manipulate the content of the array
and add/remove items as the script wants. This is what makes it
possible to add custom options to CSM.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
extensions &quot;extra_page_cm_options&quot; adds a lot of CSM
options. The extension has an &quot;ext_tables.php&quot; file and it
contains code that adds an entry in the array mentioned above:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#0000bb">&lt;?php</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">defined </FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'TYPO3_MODE'</FONT><FONT COLOR="#007700">)) &nbsp;&nbsp;&nbsp;&nbsp;die (</FONT><FONT COLOR="#dd0000">'Access denied.'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">TYPO3_MODE</FONT><FONT COLOR="#007700">==</FONT><FONT COLOR="#dd0000">'BE'</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TBE_MODULES_EXT'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'xMOD_alt_clickmenu'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'extendCMclasses'</FONT><FONT COLOR="#007700">][]=array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'name' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'tx_extrapagecmoptions'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'path' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'class.tx_extrapagecmoptions.php'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700">}</FONT>
<FONT COLOR="#0000bb">?&gt;</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The value of the &quot;path&quot; key is
pointed to the absolute path of the class file that contains code for
manipulation of the CSM array. This file must contain a class by the
name of &quot;name&quot; and inside that class a &quot;main()&quot;
method that will be called for manipulation. The basic skeleton looks
like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#ff8000">/**</FONT>
<FONT COLOR="#ff8000"> * Class, adding extra context menu options</FONT>
<FONT COLOR="#ff8000"> *</FONT>
<FONT COLOR="#ff8000"> * @author&nbsp;&nbsp;&nbsp;&nbsp;Kasper Skaarhoj &lt;kasper@typo3.com&gt;</FONT>
<FONT COLOR="#ff8000"> * @package TYPO3</FONT>
<FONT COLOR="#ff8000"> * @subpackage tx_extrapagecmoptions</FONT>
<FONT COLOR="#ff8000"> */</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">class </FONT><FONT COLOR="#0000bb">tx_extrapagecmoptions </FONT><FONT COLOR="#007700">{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * Adding various standard options to the context menu.</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * This includes both first and second level.</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; *</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @param&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The calling object. Value by reference.</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @param&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array with the currently collected menu items to show.</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @param&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Table name of clicked item.</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @param&nbsp;&nbsp;&nbsp;&nbsp;integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UID of clicked item.</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modified $menuItems array</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">main</FONT><FONT COLOR="#007700">(&amp;</FONT><FONT COLOR="#0000bb">$backRef</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$menuItems</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$uid</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global </FONT><FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$LANG</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$localItems </FONT><FONT COLOR="#007700">= array();&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Accumulation of local items.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">...</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$menuItems </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">array_merge</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$menuItems</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$localItems</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$menuItems</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The &quot;extra_page_cm_options&quot; is a
slightly special since it produces additional CSM elements by calls
back to the parent object where rendering functions exists. This is
due to historical reasons. Better examples of handcrafted menu items
can be found in extensions such as &quot;templavoila&quot; (1st level
additions for specific table) and &quot;impexp&quot; (2nd level
addition). Finally, the best way to initiate adding elements is using
the Kickstarter Wizard which contains an options for creating CSMs:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_54bd14b6.png" NAME="Graphic116" ALIGN=LEFT WIDTH=669 HEIGHT=516 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Implementing Context Sensitive Menus</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you want to implement a CSM for an element in your own backend
modules you have to do two things:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Include
	standard JavaScript and HTML code in the HTML document for all CSM
	instances.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Wrap
	the icon / element title with a link that opens the CSM.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
standard JavaScript and HTML can be fetched from the backend document
template object. In a typical backend module environment this object
is available as $this-&gt;doc and these four lines will do the trick:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting up the context sensitive menu:</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$CMparts </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getContextMenuCode</FONT><FONT COLOR="#007700">();</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">bodyTagAdditions </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$CMparts</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">];</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">JScode</FONT><FONT COLOR="#007700">.=</FONT><FONT COLOR="#0000bb">$CMparts</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">];</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">postCode</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#0000bb">$CMparts</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">];</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">These lines must be executed <I>before</I>
calling &quot;$this-&gt;doc-&gt;startPage()&quot;.</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	2 asks the template object to generate the standard content. It is
	returned in an array.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	3 adds event handlers for the &lt;body&gt; tag:</FONT></P>
	<PRE CLASS="western">onmousemove=&quot;GL_getMouse(event);&quot; onload=&quot;initLayer();&quot;
</PRE>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	4 adds JavaScript functions in the &lt;head&gt; of the HTML output</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	5 adds the &lt;div&gt; layers in the bottom of the page:</FONT></P>
	<PRE CLASS="western">&lt;div id=&quot;contentMenu0&quot; style=&quot;z-index:1; position:absolute;visibility:hidden&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;contentMenu1&quot; style=&quot;z-index:2; position:absolute;visibility:hidden&quot;&gt;&lt;/div&gt;</PRE>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">CSM for database elements</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Linking
icons to open the CSM is easy:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Get icon with CSM:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$icon </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_iconworks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIconImage</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tx_templavoila_datastructure'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#dd0000">' align=&quot;top&quot;'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$content</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">wrapClickMenuOnIcon</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$icon</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'tx_templavoila_datastructure'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'uid'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In this example the first line creates an &lt;img&gt;
tag with the icon of a record from the table
&quot;tx_templavoila_datastructure&quot;. The variable $row must be
the record array of an element from this database table.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
second line wraps the icon ($icon) in a link that will open the CSM
over it. This is done by calling &quot;template::wrapClickMenuOnIcon()&quot;
with $icon HTML, table name and element uid. The fourth argument is a
boolean you should set if your script is shown in the list frame of
the backend. This will tell &quot;alt_clickmenu.php&quot; which
generates the HTML content that it should be written back to the list
frame and not the navigation frame for instance.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Result:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m2e077eb.png" NAME="Graphic115" ALIGN=LEFT WIDTH=214 HEIGHT=185 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">CSM for files</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Activating
a CSM for a file is also easy. As for database elements it requires
that the standard content is added to the HTML document. From that
point you just call the same function,
&quot;template::wrapClickMenuOnIcon()&quot; but set the second
argument to the absolute path of the file (and keep the third
argument, the uid, blank).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SOBE'</FONT><FONT COLOR="#007700">]-&gt;</FONT><FONT COLOR="#0000bb">doc</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">wrapClickMenuOnIcon</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$theIcon</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$path</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice, that in this case the document template
object used is the global variable $SOBE which is normally available
in backend modules as well. You might also use the default instance
found in $TBE_TEMPLATE. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
more information see the inline documentation of the function
wrapClickMenuOnIcon(). It is found in the file &quot;template.php&quot;
in the typo3/ folder.</FONT></P>
<H3 CLASS="western"><A NAME="3.10.5.Parsing HTML: t3lib_parsehtml|outline"></A>
Parsing HTML: t3lib_parsehtml</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
class is very handy for various processing needs of HTML. In the
future it might be obsolete if the &quot;tidy&quot; extension becomes
standard in PHP but for now there are no native features in PHP which
lets us parse HTML.</FONT></P>
<H4 CLASS="western">Extracting blocks from an HTML document</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the first example it is shown how we can extract parts of an HTML
document.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">require_once(</FONT><FONT COLOR="#0000bb">PATH_t3lib</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'class.t3lib_parsehtml.php'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   2:</FONT> </FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$testHTML </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   4:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   5:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;IMG src=&quot;welcome.gif&quot;&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   6:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Line 1&lt;/p&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   7:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Line &lt;B class=&quot;test&quot;&gt;2&lt;/B&gt;&lt;/p&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   8:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Line &lt;b&gt;&lt;i&gt;3&lt;/i&gt;&lt;/p&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   9:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;img src=&quot;test.gif&quot; /&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  10:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&lt;br/&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  11:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TABLE&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  12:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  13:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Another line here&lt;/td&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  14:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  15:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/TABLE&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  16:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  17:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&lt;B&gt;Text outside div tag&lt;/B&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  18:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  19:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  20:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Another line here&lt;/td&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  21:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  22:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;</FONT>
<FONT COLOR="#000000">  23:<FONT COLOR="#dd0000"> '</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  24:</FONT> </FONT>
<FONT COLOR="#000000">  25:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Splitting HTML into blocks defined by &lt;div&gt; and &lt;table&gt; tags</FONT></FONT>
<FONT COLOR="#000000">  26:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$parseObj </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_parsehtml'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  27:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$result </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">splitIntoBlock</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'div,table'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$testHTML</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  28:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$result</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'Splitting by &lt;div&gt; and &lt;table&gt; tags'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  29:</FONT><FONT COLOR="#007700"> </FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	1 includes the library.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	3-23 loads the HTML sample code into a variable.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	36 creates an instance of the parser-class. <BR>Notice how
	t3lib_div::makeInstance() is used (required).</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	27 splits the HTML content into an array dividing it by &lt;div&gt;
	or &lt;table&gt; tags. </FONT>
	</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	28 outputs the result array with the debug() function:</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_7aee4679.png" NAME="Graphic104" ALIGN=LEFT WIDTH=181 HEIGHT=302 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">As
you can see the HTML source has been divided so the &lt;div&gt;
section and the &lt;table&gt; is found in key 1 and 3. The keys of
the extracted content is always the odd keys while the even keys are
the &quot;outside&quot; content.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
that the table <I>inside</I> of the &lt;div&gt; section was not
&quot;found&quot;. So when you split content like this you get only
elements on the same block-level in the source. You have to traverse
the content recursively to find all tables - or just split on &lt;table&gt;
only (which will not give you tables nested inside of tables though).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Extracting single tags</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can split the content by tag as well. This is done in the next
example. Here all &lt;img&gt; and &lt;br&gt; tags are found:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">  30:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Splitting HTML into blocks defined by &lt;img&gt; and &lt;br&gt; tags</FONT></FONT>
<FONT COLOR="#000000">  31:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$result </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">splitTags</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'img,br'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$testHTML</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  32:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$result</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'Extracting &lt;img&gt; and &lt;br&gt; tags'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  33:</FONT> </FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
31 performs the splitting operation. This is the output:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_62366076.png" NAME="Graphic105" ALIGN=LEFT WIDTH=191 HEIGHT=369 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Again,
all the odd keys in the array contains the tags that were found. If
you wanted to do processing on this content you just traverse the
array, process all odd keys and implode the array again. A code
listing for that might look like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">foreach(</FONT><FONT COLOR="#0000bb">$result </FONT><FONT COLOR="#007700">as </FONT><FONT COLOR="#0000bb">$intKey </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$HTMLvalue</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Find all ODD keys:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$intKey</FONT><FONT COLOR="#007700">%</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$result</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$intKey</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#dd0000">'--'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$result</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$intKey</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'--'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">}</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$newContent </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">implode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$result</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><H4 CLASS="western">
Cleaning HTML content</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can also do processing on the HTML content by the HTMLcleaner()
method. This code listings shows a basic example of how you can
configure it. There are a lot of features hidden in the $tagCfg array
and you should refer to the inline documentation of the method in the
class.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">  34:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Cleaning HTML:</FONT></FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$tagCfg </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">array_flip</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">explode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">','</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'b,img,div,br,p'</FONT><FONT COLOR="#007700">));</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tagCfg</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'b'</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000">  37:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'nesting' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  38:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'remap' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'strong'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  39:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowedAttribs' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT></FONT>
<FONT COLOR="#000000">  40:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  41:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$tagCfg</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'p'</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000">  42:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fixAttrib' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">  43:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'class' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">  44:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'set' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'bodytext'</FONT></FONT>
<FONT COLOR="#000000">  45:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  46:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  47:</FONT> );</FONT>
<FONT COLOR="#000000">  48:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$result </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">HTMLcleaner</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$testHTML</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$tagCfg</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">FALSE</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">FALSE</FONT><FONT COLOR="#007700">, array(</FONT><FONT COLOR="#dd0000">'xhtml' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">));</FONT></FONT>
<FONT COLOR="#000000">  49:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">debug</FONT><FONT COLOR="#007700">(array(</FONT><FONT COLOR="#0000bb">$result</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#dd0000">'Cleaning to XHTML, removing non-allowed tags and attributes'</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	35 initializes the $tagCfg array by setting the five allowed tags as
	keys. Only these tag names are allowed! All others are removed
	(HTMLcleaner() can be configured to keep all unknown tags though).</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	36-40 configures additional options for the &quot;b&quot; tag. First
	of all correct nesting is required. This means that the single &lt;b&gt;
	tag in one of the paragraphs will be removed. Then the &quot;remap&quot;
	key is set which means that all occurencies of &lt;b&gt; tags will
	be substituted with &lt;strong&gt; tags instead. Finally the allowed
	attributes are set to false which means that any attributes set for
	&lt;b&gt; tags are removed.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	41-47 configures additional options for the &quot;p&quot; tag. In
	this case it just hardcodes that the attribute &quot;class&quot;
	must exist and it must have the value &quot;bodytext&quot;.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	48 calls the HTMLcleaner() method - and notice the extra options
	being set where &quot;xhtml&quot; cleaning is enabled. This will
	convert all tag an attribute names to lowercase and &quot;close&quot;
	tags like &lt;img&gt; and &lt;br&gt; to &lt;img.../&gt; and &lt;br
	/&gt;</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the output:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_784146bf.png" NAME="Graphic106" ALIGN=LEFT WIDTH=296 HEIGHT=269 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Advanced call back processing</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
code listing shows how you can register call back functions for
recursive processing of an HTML source:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">class </FONT><FONT COLOR="#0000bb">user_processing </FONT><FONT COLOR="#007700">{</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;function </FONT><FONT COLOR="#0000bb">process</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">parseObj </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">makeInstance</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'t3lib_parsehtml_proc'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   4:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$outStr </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">splitIntoBlockRecursiveProc</FONT><FONT COLOR="#007700">(</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'div|table|blockquote|caption|tr|td|th|h1|h2|h3|h4|h5|h6|ol|ul'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'callBackContent'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'callBackTags'</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  12:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$outStr</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  14:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  15:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;function </FONT><FONT COLOR="#0000bb">callBackContent</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$level</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  18:</FONT> </FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Fixing &lt;P&gt;</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pSections </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">splitTags</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'p'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  21:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</FONT><FONT COLOR="#0000bb">$pSections </FONT><FONT COLOR="#007700">as </FONT><FONT COLOR="#0000bb">$k </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$v</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  22:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pSections</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$k</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">ereg_replace</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'[[:space:]]+'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">' '</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$pSections</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$k</FONT><FONT COLOR="#007700">]));</FONT></FONT>
<FONT COLOR="#000000">  23:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!(</FONT><FONT COLOR="#0000bb">$k</FONT><FONT COLOR="#007700">%</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  24:</FONT> </FONT>
<FONT COLOR="#000000">  25:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">$k </FONT><FONT COLOR="#007700">&amp;&amp; !</FONT><FONT COLOR="#0000bb">strstr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">strtolower</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pSections</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$k</FONT><FONT COLOR="#007700">]), </FONT><FONT COLOR="#dd0000">'&lt;/p&gt;'</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  26:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pSections</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$k</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pSections</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$k</FONT><FONT COLOR="#007700">]).</FONT><FONT COLOR="#dd0000">'&lt;/p&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  27:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  28:</FONT> </FONT>
<FONT COLOR="#000000">  29:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pSections</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">$k</FONT><FONT COLOR="#007700">].=</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  30:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  31:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#000000">  32:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$str </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">implode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$pSections</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  33:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  34:</FONT> </FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$str </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">indentLines</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#0000bb">$level</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  37:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</FONT>
<FONT COLOR="#000000">  38:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$str </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  39:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  40:</FONT> </FONT>
<FONT COLOR="#000000">  41:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$str</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  42:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  43:</FONT> </FONT>
<FONT COLOR="#000000">  44:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;function </FONT><FONT COLOR="#0000bb">callBackTags</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$level</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  45:</FONT> </FONT>
<FONT COLOR="#000000">  46:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">substr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_name'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">)==</FONT><FONT COLOR="#dd0000">'h'</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  47:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_end'</FONT><FONT COLOR="#007700">].=</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  48:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'content'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'content'</FONT><FONT COLOR="#007700">]);</FONT></FONT>
<FONT COLOR="#000000">  49:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Removing the &lt;hx&gt; tags if they content nothing when tags are stripped:</FONT></FONT>
<FONT COLOR="#000000">  50:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">strlen</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">strip_tags</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'content'</FONT><FONT COLOR="#007700">]))))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  51:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_start'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_end'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  52:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'add_level'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  53:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'content'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  54:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  55:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#000000">  56:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elseif (</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_name'</FONT><FONT COLOR="#007700">]==</FONT><FONT COLOR="#dd0000">'div' </FONT><FONT COLOR="#007700">|| </FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_name'</FONT><FONT COLOR="#007700">]==</FONT><FONT COLOR="#dd0000">'blockquote'</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  57:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_start'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_end'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  58:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'add_level'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  59:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</FONT>
<FONT COLOR="#000000">  60:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_start'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">indentLines</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_start'</FONT><FONT COLOR="#007700">]),</FONT><FONT COLOR="#0000bb">$level</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  61:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_end'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">parseObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">indentLines</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">trim</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tag_end'</FONT><FONT COLOR="#007700">]),</FONT><FONT COLOR="#0000bb">$level</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#0000bb">chr</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  62:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#000000">  63:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$tags</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  64:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  65:</FONT> }</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In the method &quot;process()&quot; processing
is started. Like when splitting HTML content you define a list of
tags to split by. Each of these will be processed by the call back
functions &quot;callBackContent&quot; and &quot;callBackTags&quot;
for processing of both the content between the splitted tags and the
tags themselves.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
how it is all within the same class which is a requirement for the
call back functions.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">I'll
not explain this listing in further detail. Explore it yourself if
you are interested in call back processing of HTML sources.</FONT></P>
<H3 CLASS="western"><A NAME="3.10.6.Links to edit records|outline"></A>
Links to edit records</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Quite
often in your backend modules you might like to create a link to edit
a record. This is easily done with an API function call to
t3lib_BEfunc::editOnClick(). This script will create an
onclick-JavaScript event linking you to the &quot;alt_doc.php&quot;
script in the &quot;PATH_typo3&quot; directory.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
you need to do is prepare GET parameters for the &quot;alt_doc.php&quot;
script. Please look inside of &quot;alt_doc.php&quot; for more
details of possible GET vars you can use and what they mean. In this
example I have shown the most typical options.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
result of the code listing will be three links like these:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m41db1ace.png" NAME="Graphic107" ALIGN=LEFT WIDTH=372 HEIGHT=87 BORDER=0><BR CLEAR=LEFT><FONT COLOR="#000000">The
code listing looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $editUid </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">1135</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$editTable </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   3:</FONT> </FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Edit whole record:</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$params </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&amp;edit['</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editTable</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">']['</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editUid</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">']=edit'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$output</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;#&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">editOnClick</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">])).</FONT><FONT COLOR="#dd0000">'&quot;&gt;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;img'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">skinImg</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#dd0000">'gfx/edit2.gif'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;11&quot; height=&quot;12&quot;'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' title=&quot;Edit me&quot; border=&quot;0&quot; alt=&quot;&quot; /&gt;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'Edit record '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editUid</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">' from the &quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editTable</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'&quot; table'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;/a&gt;&lt;br/&gt;&lt;br/&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  10:</FONT> </FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Edit only &quot;title&quot; and &quot;hidden&quot; fields from record:</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$params </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&amp;edit['</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editTable</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">']['</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editUid</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">']=edit&amp;columnsOnly=title,hidden'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$output</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;#&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">editOnClick</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">])).</FONT><FONT COLOR="#dd0000">'&quot;&gt;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'Edit &quot;title&quot; and &quot;hidden&quot; fields from record '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editUid</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">' from the &quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editTable</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'&quot; table'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;/a&gt;&lt;br/&gt;&lt;br/&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  16:</FONT> </FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Create new &quot;Content Element&quot; record in PID 1135</FONT></FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$params </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&amp;edit[tt_content]['</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editUid</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">']=new&amp;defVals[tt_content][header]=New%20Element'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$output</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;#&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">t3lib_BEfunc</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">editOnClick</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$params</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">])).</FONT><FONT COLOR="#dd0000">'&quot;&gt;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'Create new Content Element inside page '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$editUid</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  21:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;/a&gt;&lt;br/&gt;'</FONT><FONT COLOR="#007700">;</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H4 CLASS="western">Editing a record</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 5 you see the basic GET parameter you need to set up to edit a
record. You need to know the database table name, record uid in
advance. The syntax is &quot;&amp;edit[ <I>tablename</I> ][ <I>uid</I>
]=edit&quot;. You can specify as many tables and uids you like and
you will get them all in one single form! The &quot;uid&quot;
variable can even be a comma list of uids (short way of editing more
records from the same table at once).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
lines 5-9 produces a link which shows this form:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7a615165.png" NAME="Graphic108" ALIGN=LEFT WIDTH=506 HEIGHT=258 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Editing only a few fields from a record</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Lines
11-15 creates the same link but with additional information that only
the field names &quot;title&quot; and &quot;hidden&quot; should be
edited! That is done by adding the GET parameters
&quot;&amp;columnsOnly=title,hidden&quot;. This means the form will
look like this:</FONT></P>
<H4 CLASS="western"><IMG SRC="12_html_m423cc7be.png" NAME="Graphic109" ALIGN=LEFT WIDTH=525 HEIGHT=192 BORDER=0><BR CLEAR=LEFT></H4>
<H4 CLASS="western">Creating a form for new elements</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Lines
17-21 creates a link which will make a new content element inside the
page with &quot;pid&quot; 1135. The syntax for creating new records
is &quot;&amp;edit[ <I>table_name_of_new_record</I> ][ <I>pid_reference</I>
]=new&quot;. The pid reference is special: If it is a negative value
it points to another record from the same table <I>after which</I>
the new record should be created. If it is positive or zero it just
points to the page id where the record should be created (as the top
element).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Another
feature is that a custom default value for the header field is
automatically passed along. This is done by the additional GET
parameter &quot;&amp;defVals[tt_content][header]=New%20Element&quot;
and you can see how the Header field is pre-filled with this value
below.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
result of the &quot;create new&quot; will be this form.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7cb931c6.png" NAME="Graphic110" ALIGN=LEFT WIDTH=441 HEIGHT=214 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="3.10.7.Support for custom tables in the Page module|outline"></A>
Support for custom tables in the Page module</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the Web &gt; Page module you can have listings of other records than
Content Elements and guest book items. If you want your custom table
to be listed there you can configure it using the
$TYPO3_CONF_VARS[&quot;EXTCONF&quot;]['cms'] array. This is a
configuration option offered from within the Page module.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example the Mininews extension is configured for listing in the
Page module. It would look like this (here a single item only is
shown):</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_4f829648.png" NAME="Graphic111" ALIGN=LEFT WIDTH=434 HEIGHT=326 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration required is as simple as this, put into
(ext_)localconf.php:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'EXTCONF'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'cms'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'db_layout'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'addTables'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'tx_mininews_news'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fList' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'name;title;email;company,image,title'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">TRUE</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The &quot;fList&quot; key value is a list of
field names separated first by &quot;;&quot; (semi colon) and then by
comma. The semicolon separates table columns while the comma allows
you to list more than one field to be displayed inside a single
column.</FONT></P>
<H3 CLASS="western"><A NAME="3.10.8.Adding elements to the Content Element Wizard|outline"></A>
Adding elements to the Content Element Wizard</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
content element wizard helps people to select the most common kinds
of content elements in a one-click operation, thus saving them to
know about setting the content element type etc.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m79e21471.png" NAME="Graphic20" ALIGN=LEFT WIDTH=401 HEIGHT=264 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
script is a part of the “cms” extension.</FONT></P>
<H4 CLASS="western">Adding elements under the “Plugins” header</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you want to add elements in the wizard under the plugins header there
is native support in the script for this.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Basically,
what you do is to set content in the global variable
$TBE_MODULES_EXT['xMOD_db_new_content_el']['addElClasses']. The keys
in this array must be class names and the values is the absolute path
of the class. When the script is run the class files will be included
during initialization. Then, during the building of the array of
wizard elements the default wizard array is passed to the class you
have configured through the method proc() in your class.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
details the most easy thing will be to look into the script in the
function wizardArray() - this will make it clear to you how it works.</FONT></P>
<H5 CLASS="western">Example</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">As
an example of how this works from an extension you can take a look at
the extension tt_guest. This extension adds itself in the plugin
category by inserting these lines in its ext_tables.php file:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">if&nbsp;(</FONT><FONT COLOR="#0000bb">TYPO3_MODE</FONT><FONT COLOR="#007700">==</FONT><FONT COLOR="#dd0000">&quot;BE&quot;</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_MODULES_EXT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;xMOD_db_new_content_el&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;addElClasses&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;tx_ttguest_wizicon&quot;</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">&quot;class.tx_ttguest_wizicon.php&quot;</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In the file class.tx_ttguest_wizicon.php you
will find a class looking like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#ff8000">/**</FONT>
<FONT COLOR="#ff8000"> * Class, containing function for adding an element to the content element wizard.</FONT>
<FONT COLOR="#ff8000"> * </FONT>
<FONT COLOR="#ff8000"> * @author&nbsp;&nbsp;&nbsp;&nbsp;Kasper Skaarhoj &lt;kasper@typo3.com&gt;</FONT>
<FONT COLOR="#ff8000"> * @package TYPO3</FONT>
<FONT COLOR="#ff8000"> * @subpackage tx_ttguest</FONT>
<FONT COLOR="#ff8000"> */</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">class&nbsp;</FONT><FONT COLOR="#0000bb">tx_ttguest_wizicon&nbsp;</FONT><FONT COLOR="#007700">{</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * Processing the wizard-item array from db_new_content_el.php</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * </FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @param&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wizard item array</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wizard item array, processed (adding a plugin for tt_guest extension)</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function&nbsp;</FONT><FONT COLOR="#0000bb">proc</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$wizardItems</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</FONT><FONT COLOR="#0000bb">$LANG</FONT><FONT COLOR="#007700">;</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Include the locallang information.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$LL&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">includeLocalLang</FONT><FONT COLOR="#007700">();</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Adding the item:</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$wizardItems</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'plugins_ttguest'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_guest'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'guestbook.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#0000bb">$LANG</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getLLL</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'plugins_title'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$LL</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'description'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#0000bb">$LANG</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">getLLL</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'plugins_description'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$LL</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'&amp;defVals[tt_content][CType]=list&amp;defVals[tt_content][list_type]=3&amp;defVals[tt_content][select_key]='</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">rawurlencode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'GUESTBOOK, POSTFORM'</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT><FONT COLOR="#0000bb">$wizardItems</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>

<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * Include locallang file for the tt_guest book extension (containing the description and title for the element)</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * </FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LOCAL_LANG array</FONT>
<FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function&nbsp;</FONT><FONT COLOR="#0000bb">includeLocalLang</FONT><FONT COLOR="#007700">()&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include(</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_guest'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'locallang.php'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</FONT><FONT COLOR="#0000bb">$LOCAL_LANG</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700">}</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">As you can see this class modifies the wizard
array with an additional item. This is how you can also add / modify
elements in the array using this API.</FONT></P>
<H3 CLASS="western"><A NAME="3.10.9.Using custom permission options|outline"></A>
Using custom permission options</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TYPO3
(3.7.0+) offers extension developers to register their own permission
options to be automatically managed by TYPO3s user group access
lists. The options can be grouped in categories. A custom permission
option is always a checkbox (on/off). The scope of such options is
for use in the backend of TYPO3 only.</FONT></P>
<H4 CLASS="western">Registering a header and options</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
configure options in the global variable
$TYPO3_CONF_VARS['BE']['customPermOptions']. You can read the comment
inside “config_default.php” regarding the syntax of the array.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
example shows how three options are registered under a new category:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BE'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'customPermOptions'</FONT><FONT COLOR="#007700">] = array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tx_coreunittest_cat1' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'header' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'[Core Unittest] Category 1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'key1' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'Key 1 header'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'key2' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'Key 2 header'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'key3' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'Key 3 header'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The result is that these options appear in the
group access lists like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m53be43c4.png" NAME="Graphic46" ALIGN=LEFT WIDTH=381 HEIGHT=144 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can also add icons, a description and use references to locallang
values. Such a detailed configuration could look like this (also just
an example):</FONT></P>
<PRE CLASS="western"><FONT COLOR="#007700">...</FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">'tx_coreunittest_cat2' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'header' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_test.php:test_header'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'keyA' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'Key a header'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'icon_ok.gif'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'This is a description....'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'keyB' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_test.php:test_item'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'../typo3/gfx/icon_ok2.gif'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_test.php:test_description'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'key3' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'Key 3 header'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'EXT:coreunittest/ext_icon.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">)</FONT>
<FONT COLOR="#007700">...</FONT></PRE><H4 CLASS="western">
Evaluating the options</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Checking
if a custom permission option is set you simply call this API
function in the user object:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$BE_USER</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">check</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'custom_options'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$catKey</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">':'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$itemKey</FONT><FONT COLOR="#007700">)</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">$catKey is the category in which the option
resides. From the example above this would be “tx_coreunittest_cat1”</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">$itemKey
is the key of the item in the category you are evaluating. From the
example above this could be “key1”, “key2” or “key3”
depending on which one of them you want to evaluated.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
function returns true if the option is set, otherwise false.</FONT></P>
<H4 CLASS="western">Keys in the array</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
is good practice to use the extension keys prefixed with “tx_” on
the first level of the array. This will help to make sure you do not
pick a key which someone else picked as well!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Also
you should never pick a key containing any of the characters “,:|”
since they are reserved delimiter characters.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H1 CLASS="western"><A NAME="4.Table Configuration Array, $TCA|outline"></A>
</SPAN>Table Configuration Array, $TCA</H1>
<H2 CLASS="western"><A NAME="4.1.Introduction|outline"></A>Introduction</H2>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
chapter of the document aims to describe the global array, $TCA, in
TYPO3. The array describes the database tables that TYPO3 can operate
on. Since the database is a central element in TYPO3 this array is a
backbone in the system.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
following pages will describe all the features of the $TCA array in
details.</FONT></P>
<H3 CLASS="western"><A NAME="4.1.1.What is $TCA_|outline"></A>What is
$TCA?</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
global array in TYPO3 defines the editable database tables and the
relationship between them and how the fields in tables are rendered
in backend forms and processed in the TCE and so on. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
array is highly extendable through extensions and in fact only four
tables are configured by default in TYPO3. These four tables - those
which are required for any TYPO3 installation - is configured in the
file &quot;t3lib/stddb/tables.php&quot;. The tables are:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">the
	&quot;pages&quot; table containing the page tree of TYPO3</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">the
	&quot;be_users&quot; table containing backend users</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">the
	&quot;be_groups&quot; table containing backend user groups</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">the
	&quot;sys_filemounts&quot; table containing file mounts for backend
	users.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
other tables are configured in extensions.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
file &quot;t3lib/stddb/tables.php&quot; contains not only the $TCA
definition. You can also find other global core variables defined
there. For instance $PAGES_TYPES, $ICON_TYPES and
$LANG_GENERAL_LABELS which are also used in relation to $TCA but much
less important and probably not relavant for you to use. There are
more details on these arrays further ahead in this document.</FONT></P>
<H3 CLASS="western"><A NAME="4.1.2.Extending the $TCA array|outline"></A>
Extending the $TCA array</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is done by extensions and typically the information added to the
table is stored in extension files named &quot;ext_tables.php&quot;.
Please see the Extension API description for details about this.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">An
example could look like this (from the extension &quot;mininews&quot;,
file &quot;ext_tables.php&quot;):</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#ff8000">// Defining a new column for the mininews extension (goes into the tt_content table)</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$tempColumns&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_frontpage_list&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;exclude&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;label&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;LLL:EXT:mininews/locallang_db.php:tt_content.tx_mininews_frontpage_list&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;config&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;type&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;select&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;items&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">&quot;LLL:EXT:mininews/locallang_db.php:tt_content.tx_mininews_frontpage_list.I.0&quot;</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">&quot;0&quot;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">&quot;LLL:EXT:mininews/locallang_db.php:tt_content.tx_mininews_frontpage_list.I.1&quot;</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">&quot;1&quot;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  11:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  12:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  13:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  14:</FONT> );</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  15:</FONT> </FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">// Make sure to load all of &quot;tt_content&quot;:</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">loadTCA</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;tt_content&quot;</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  18:</FONT> </FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">// ... then add the column for mininews which was defined above:</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addTCAcolumns</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;tt_content&quot;</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$tempColumns</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  21:</FONT> </FONT>
<FONT COLOR="#000000">  22:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">// ... and finally add the new column definition to the list of fields shown for the mininews plugin:</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  23:</FONT> // (This also removes the presence of the normally shown fields, &quot;layout&quot; and &quot;select_key&quot;)</FONT>
<FONT COLOR="#000000">  24:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tt_content&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;types&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;list&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;subtypes_excludelist&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">&quot;_pi1&quot;</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#dd0000">&quot;layout,select_key&quot;</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  25:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tt_content&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;types&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;list&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;subtypes_addlist&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">&quot;_pi1&quot;</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_frontpage_list;;;;1-1-1&quot;</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  26:</FONT> </FONT>
<FONT COLOR="#000000">  27:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">// Now, define a new table for the extension. Name: &quot;tx_mininews_news&quot;</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  28:</FONT> // Only the &quot;ctrl&quot; section is defined since the rest of the config is in the &quot;tca.php&quot; file, loaded dynamically when needed.</FONT>
<FONT COLOR="#000000">  29:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">  30:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ctrl&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">  31:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;title&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;LLL:EXT:mininews/locallang_db.php:tx_mininews_news&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  32:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;label&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;title&quot;</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">  33:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;tstamp&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;tstamp&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  34:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;crdate&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;crdate&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;cruser_id&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;cruser_id&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;default_sortby&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ORDER BY datetime DESC&quot;</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">  37:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;delete&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;deleted&quot;</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">  38:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;enablecolumns&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">  39:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;disabled&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;hidden&quot;</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">  40:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;starttime&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;starttime&quot;</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">  41:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;endtime&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;endtime&quot;</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">  42:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;fe_group&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;fe_group&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  43:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  44:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;dynamicConfigFile&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">&quot;tca.php&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  45:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;iconfile&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">&quot;icon_tx_mininews_news.gif&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  46:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  47:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;feInterface&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">  48:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;fe_admin_fieldList&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;hidden, starttime, endtime, fe_group, datetime, title, teaser, full_text, front_page&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  49:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  50:</FONT> );</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  51:</FONT> </FONT>
<FONT COLOR="#000000">  52:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">// Then, make sure records from this table is allowed on regular pages:</FONT></FONT>
<FONT COLOR="#000000">  53:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">allowTableOnStandardPages</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  54:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">// ... and allowed to be added in the &quot;Insert Record&quot; content element type:</FONT></FONT>
<FONT COLOR="#000000">  55:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addToInsertRecords</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Here line 1-25 is about adding a column to the
table &quot;tt_content&quot; which was in fact added by the extension
&quot;cms&quot;</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Then
line 27-55 shows how a totally new table is added for the extension
&quot;mininews&quot;.</FONT></P>
<H3 CLASS="western"><A NAME="4.1.3.Main levels in the $TCA array|outline"></A>
Main levels in the $TCA array</H3>
<H4 CLASS="western">The table entries (first level)</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">On
the &quot;first level&quot; of the $TCA array you will find key
values which matches with database table names:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;...
);
<FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;...
);
<FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tx_myext'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;...
);
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Here three tables, &quot;pages&quot;,
&quot;tt_content&quot; and &quot;tt_myext&quot; is shown as examples.</FONT></P>
<H4 CLASS="western">The structure of a table entry (second/third
level)</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Each
table is defined by an array which configures how the system handles
the table, both for display and processing in the backend (the
frontend is mostly independent of the TCA except from some features
in the [ctrl] section). </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">On
this &quot;second level&quot; (configuring a single table) the
structure is as follows:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#000000"><I><B>tablename</B></I></FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ctrl'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'interface'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'feInterface'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'columns'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#000000"><I><B>fieldname_1</B></I></FONT><FONT COLOR="#dd0000">'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#000000"><I><B>fieldname_2</B></I></FONT><FONT COLOR="#dd0000">'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'palettes'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....
&nbsp;&nbsp;&nbsp;&nbsp;),
);
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">(The bold/italic strings in blacks indicate
that here actual table/fieldnames are used as keys)</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
table describes each of the sections. Over the next pages you will
see each section described in detail with all features.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=35*>
	<COL WIDTH=221*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Section</P>
			</TH>
			<TH WIDTH=86%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">ctrl</P>
			</TD>
			<TD WIDTH=86%>
				<P CLASS="western"><B>The table</B></P>
				<P CLASS="western">The &quot;ctrl&quot; section contains
				properties for the table in general. 
				</P>
				<P CLASS="western">These are basically devided in two main
				categories; 
				</P>
				<UL>
					<LI><P CLASS="western">properties which affect how the table is
					<I>displayed</I> and handled in the backend <I>interface</I> .
					<BR>This includes which icon, what name, which columns contains
					the title value, which column defines the type value etc.</P>
					<LI><P CLASS="western">properties which determines how it is
					processed by the system (TCE).<BR>This includes publishing
					control, &quot;deleted&quot; flag, if the table can only be
					edited by admin-users, may only exist in the tree root etc.</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">interface</P>
			</TD>
			<TD WIDTH=86%>
				<P CLASS="western"><B>The backend interface handling</B></P>
				<P CLASS="western">The &quot;interface&quot; section contains
				properties related to the tables display in the backend, mostly
				the Web&gt;List module. 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">feInterface</P>
			</TD>
			<TD WIDTH=86%>
				<P CLASS="western"><B>Frontend Editing </B>
				</P>
				<P CLASS="western">The &quot;feInterface&quot; section contains
				properties related to Front End editing of the table, mostly
				related to the feAdmin_lib. 
				</P>
				<P CLASS="western">Is depricated in the sense that it will still
				exist, but will not be (and should not be) extended further.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">columns</P>
			</TD>
			<TD WIDTH=86%>
				<P CLASS="western"><B>The individual fields</B></P>
				<P CLASS="western">The &quot;columns&quot; section contains
				configuration for each table <I>field</I> (also called &quot;column&quot;)
				which can be edited by the backend.</P>
				<P CLASS="western">The configuration includes both properties for
				the display in the backend as well as the processing of the
				submitted data.</P>
				<P CLASS="western">Each field can be configured as a certain
				&quot;type&quot; (eg. checkbox, selector, input field, text area,
				file or db-relation field, user defined etc.) and for each type a
				separate set of additional properties applies. These properties
				are clearly explained for each type.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">types</P>
			</TD>
			<TD WIDTH=86%>
				<P CLASS="western"><B>The form layout for editing</B></P>
				<P CLASS="western">The &quot;types&quot; section defines how the
				fields in the table (configured in the &quot;columns&quot;
				section) should be arranged inside the editing form; in which
				order, with which &quot;palettes&quot; (see below) and with which
				possible additional features applied.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">palettes</P>
			</TD>
			<TD WIDTH=86%>
				<P CLASS="western"><B>The palette fields order</B></P>
				<P CLASS="western">A palette is just a list of fields which will
				be arranged horizontally side-by-side. But the main idea is that
				these fields can be displayed in the top-frame of the backend
				interface on request so they don't display inside the main form.
				In this way they are kind of hidden fields which are brought
				forth either by clicking an icon in the main form or (more
				usually) when you place the cursor in a form field of the main
				form).</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Glossary</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Before
you read on, lets just refresh the meaning of a few concepts
mentioned on the next pages:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>TCE:</B>
	Short for &quot;TYPO3 Core Engine&quot;. Also referred to as
	&quot;TCEmain&quot;. This class (class.t3lib_tcemain) should ideally
	handle all updates to records made in the backend of TYPO3. The
	class will handle all the rules which may be applied to each table
	correctly. It will also handle logging, versioning, history/undo
	features, copying/moving/deleting etc.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>&quot;list
	of&quot;: </B>Typically used like &quot;list of fieldnames&quot;.
	Whenever &quot;list of&quot; is used it means <I>a list of strings
	separated by comma and with NO space between the values</I>.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>field
	name:</B> The name of a field from a database table. Another word
	for the same is &quot;column&quot; but it is used more rarely,
	however meaning the exact same thing when used.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>record
	type:</B> A record can have different types, expressed by the value
	of a certain field in the record. This field is defined by the
	[ctrl][type] value and it affects also which fields
	(&quot;types&quot;-configuration) is used to display possible form
	fields.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>(LS):</B>
	&quot;LanguageSplitted&quot; - meaning that </FONT>
	</P>
	<UL>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">the
		value can be a plain string which will be splitted by the &quot;|&quot;
		token where each part corresponds to a language as found in the
		constant &quot;TYPO3_languages&quot; (obsolete concept!
		Depricated!)</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">or
		the string can fetch a value from a locallang file by prefixing the
		string with &quot;LLL:&quot; (please see the description of
		[ctrl][title] for details).</FONT></P>
	</UL>
</UL>
<H4 CLASS="western">The [ctrl] section vs. the other sections</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
almost the whole system the [ctrl] section of the $TCA entry for a
table plays a crucial role. For <I>all</I> tables configured in $TCA
this section <I>must</I> exist in $TCA. The other sections (except
[feInterface]) can optionally be stored in another file. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
feature allows scalability since hundreds of tables can be configured
with their complete [ctrl]-sections while leaving a relatively small
memory footprint since they don't define all the other sections by
default (eg. the &quot;columns&quot; section can group quite large!).
Please see the [ctrl]-property &quot;dynamicConfigFile&quot; and the
section &quot;<A HREF="#Loading%20the%20full%20$TCA%20dynamically%7Coutline">Loading
the full $TCA dynamically</A>&quot; for details.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">However
this means that:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
	can always depend on accessing information in the [ctrl] section,
	eg. $TCA['your_table_name']['ctrl']</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">But
	<I>before</I> you can depend on information in any other section
	(except [feInterface]) you should:</FONT></P>
	<UL>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">1)
		Call t3lib_loadTCA('your_table_name'); (This will dynamically load
		the full content of the TCA section for the table)</FONT></P>
		<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">2)
		Then access the information, eg.
		$TCA['your_table_name']['columns']['your_field_name']</FONT></P>
	</UL>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">See
more information in the section about handling after the $TCA array
reference section.</FONT></P>
<H2 CLASS="western"><A NAME="4.2.$TCA array reference|outline"></A>$TCA
array reference</H2>
<H3 CLASS="western"><A NAME="4.2.1.['ctrl'] section|outline"></A>['ctrl']
section</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;ctrl&quot; section contains properties for the table in
general.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
properties are basically divided into two main categories:</FONT></P>
<UL>
	<LI VALUE=1><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">properties
	which affect how the table is <I>displayed</I> and handled in the
	backend <I>interface</I> . <BR>This includes which icon, what name,
	which columns contains the title value, which column defines the
	type value etc.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">properties
	which determines how it is processed by the system (TCE).<BR>This
	includes publishing control, &quot;deleted&quot; flag, if the table
	can only be edited by admin-users, may only exist in the tree root
	etc.</FONT></P>
</UL>
<H4 CLASS="western">Reference for the ['ctrl'] section:</H4>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=174*>
	<COL WIDTH=17*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=7%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">title</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(LS)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Contains the <I>system name</I> of the table.
				Is used for display in the backend.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">For instance the &quot;tt_content&quot; table
				is of course named &quot;tt_content&quot; technically. However in
				the backend display it will be shown as &quot;Pagecontent&quot;
				when the backend language is english. When another language is
				chosen, like Danish, then the label &quot;Sideindhold&quot; is
				shown instead. This value is managed by the &quot;title&quot;
				value.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">You can insert plain text values, you can also
				add values for many languages by the obsolete concept of
				&quot;language-splitting&quot; (where you separate each language
				label by a vertical bar, &quot;|&quot;) but <I>please don't</I>!
				In modern times it is always recommended to put the label values
				into an external file/array (local_lang files) and let the
				&quot;title&quot; field contain a <I>reference</I> to that value.
				See the example below. You should also have a look at the
				localization section in &quot;<A HREF="#Localization%7Coutline">Inside
				TYPO3</A>&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><FONT COLOR="#808080">$TCA['static_template']&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;'ctrl'&nbsp;=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'label'&nbsp;=&gt;&nbsp;'title',</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tstamp'&nbsp;=&gt;&nbsp;'tstamp',</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_tca.php:static_template'</FONT><FONT COLOR="#007700">,</FONT>
</PRE><P CLASS="western">
				In the above example the &quot;LLL:&quot; prefix tells the system
				to look up a label from the localization engine. The next prefix
				&quot;EXT:cms&quot; will look for the data source in the
				extension with the key &quot;cms&quot;. In that extension the
				file &quot;locallang_tca.php&quot; will contain a $LOCAL_LANG
				array inside of which the label key &quot;static_template&quot;
				should contain the value, one for each language TYPO3 offers.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">label</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><B>Required!</B></P>
				<P CLASS="western">Points to the fieldname of the table which
				should be used as the &quot;title&quot; when the record is
				displayed in the system.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Note:</B> label_userFunc overrides this
				property (but it is still required).</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western" STYLE="font-weight: normal">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">label_alt</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Comma-separated list of fieldnames, which are
				holding alternative values to the value from the field pointed to
				by &quot;label&quot; (see above) if that value is empty. May not
				be used consistently in the system, but should apply in most
				cases.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ctrl'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'header'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label_alt'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'subheader,bodytext'</FONT><FONT COLOR="#007700">,</FONT></PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">See t3lib_BEfunc::getRecordTitle()</P>
				<P CLASS="western">Also see &quot;label_alt_force&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Note:</B> label_userFunc overrides this
				property.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">label_alt_force</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If set, then the &quot;label_alt&quot; fields
				are always shown in the title separated by comma.</P>
				<P CLASS="western">See t3lib_BEfunc::getRecordTitle()</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Note:</B> label_userFunc overrides this
				property.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western"><FONT COLOR="#000000">label_userFunc</FONT></P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western"><FONT COLOR="#000000">string</FONT></P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Function
				or method reference. This can be used whenever the label or
				label_alt options don't offer enough flexibility, e.g. when you
				want to look up another table to create your label. The result of
				this function overrules the “label”, “label_alt” or
				“label_alt_force” settings.</FONT></P>
				<P LANG="en-GB" CLASS="western"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
				you want to call a function, just enter the function name. The
				function name must be prefixed &quot;user_&quot; or &quot;tx_&quot;.</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
				you want to call a method in a class, enter
				&quot;[classname]-&gt;[methodname]&quot;. The class name must be
				prefixed &quot;user_&quot; or &quot;tx_&quot;.</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Two
				arguments will be passed to the function/method: The first
				argument is an array which contains the following information
				about the record for which to get the title:</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<PRE LANG="en-GB" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=1 STYLE="font-size: 8pt"><CODE CLASS="western"><FONT COLOR="#0000bb">$params</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'table'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$table</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE></FONT></FONT>
<CODE CLASS="western"><FONT COLOR="#0000bb">$params</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'row'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$row</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
</PRE><P CLASS="western">
				<SPAN LANG="en-GB">The resulting title must be written to
				</SPAN><CODE CLASS="western"><FONT COLOR="#0000bb">$params</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'title'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]</FONT></CODE><SPAN LANG="en-GB">
				which is passed by reference.</SPAN></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
				second argument is a reference to the parent object.</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice:
				You must include the class manually on beforehand! (e.g. include
				it in your ext_tables.php file)</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Example:</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">in
				ext_tables.php:</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<PRE LANG="en-GB" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=1 STYLE="font-size: 8pt"><CODE CLASS="western"><FONT COLOR="#007700">include_once(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">t3lib_extMgm</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">::</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">extPath</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'myext'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">).</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'class.tx_myext_title.php'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">);</FONT></CODE></FONT></FONT></PRE><P LANG="en-GB" CLASS="western">
				<BR>
				</P>
				<PRE LANG="en-GB" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=1 STYLE="font-size: 8pt"><CODE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;tx_myext_table&quot;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT></CODE></FONT></FONT>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">&quot;ctrl&quot;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'title'&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&gt;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'LLL:EXT:myext/locallang_db.xml:tx_myext_table'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'label'&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&gt;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'name'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'label_userFunc'&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">=&gt;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'tx_myext_title-&gt;getRecordTitle'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,<BR>&nbsp;&nbsp;&nbsp;&nbsp;),<BR>);</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000">in your extension folder
				class.tx_myext_title.php:</FONT></P>
				<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#007700">class&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tx_myext_title&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">function&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">getRecordTitle</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$params</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">,&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$pObj</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">)&nbsp;{</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$params</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'title'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'Whatever...'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">}</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">}</FONT></CODE></PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><FONT COLOR="#000000">Display</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which defines the &quot;record
				type&quot;.</P>
				<P CLASS="western">The value of this field determines which one
				of the 'types' configurations are used for displaying the fields
				in the TCEforms. It will probably also affect how the record is
				used in the context where it belongs.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The most widely known usage of this feature is
				the Content Elements where the &quot;Type:&quot; selector is
				defined as the &quot;type&quot; field and when you change that
				selector you will also get another rendering of the form:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_71d3f47e.png" NAME="Graphic3" ALIGN=LEFT WIDTH=328 HEIGHT=282 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western">It is also used by the &quot;doktype&quot;
				field in the &quot;pages&quot; table.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">Here we will create an imaginary example to
				explain what the &quot;type&quot; property does. Imagine a table
				with four user editable fields:</P>
				<UL>
					<LI><P CLASS="western">One field, &quot;displaytype&quot;, is a
					selectorbox with two values: &quot;1&quot; with the label
					&quot;Regular display&quot; and &quot;2&quot; with the label
					&quot;Regular display + link&quot;</P>
					<LI><P CLASS="western">Then three other fields, &quot;title&quot;,
					&quot;description&quot; and &quot;title_link&quot;</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">We want the form in the backend to display
				only the fields &quot;title&quot; and &quot;description&quot;
				when the &quot;displaytype&quot; selector has the value &quot;1&quot;
				(&quot;Regular display&quot;). When the selector is set to value
				&quot;2&quot; (&quot;Regular display + link&quot;) we want the
				form to show all three fields.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This is done by first setting the
				&quot;displaytype&quot; field as the <I>type</I> field in [ctrl]
				section:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'displaytype'</FONT><FONT COLOR="#007700">,</FONT>
</PRE><P CLASS="western">
				Then in the &quot;types&quot; section of the $TCA configuration
				(see later) we set up the fields for display:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'title, description'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'2'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'title, description, title_link'</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT></PRE><P CLASS="western">
				The backend will select the &quot;showitem&quot; list for
				...[&quot;types&quot;][2] when the field &quot;displaytype&quot;
				contains the value two. And likewise when &quot;displaytype&quot;
				is 1, then the first list is used to display fields in the
				backend.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">hideTable</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Hide this table in record listings.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">requestUpdate</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">This is a list of fields additional to the
				type field which will request the user to update the form due to
				some content having change and which til affect the layout. For
				example you could add any of the subtype fields you might have
				configured.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">iconfile</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Pointing to the icon file to use for the
				table.</P>
				<P CLASS="western">Icons should be dimensioned 18x16 pixels (the
				last two right-most pixel columns in the width should preferably
				be empty) and of the GIF or PNG file type.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The value of the option can be any of these:</P>
				<UL>
					<LI><P CLASS="western"><B>If there is a slash ( / ) in the
					value:</B> It must be a relative filepath pointing to the icon
					file relative to the typo3/ (admin) folder. You may start that
					path with '../' if you like to get your icon from a folder in
					the PATH_site path.</P>
					<P CLASS="western">For extensions, see example below.</P>
					<LI><P CLASS="western"><B>If there is just a filename:</B> It
					must exist in the &quot;typo3/gfx/i/&quot; folder.</P>
					<LI><P CLASS="western"><B>If empty/not given:</B> The default
					icon for a table is defined as &quot;gfx/i/[table_name].gif&quot;.
					(This is an obsolete approach to use since the content of the
					&quot;gfx/i/&quot; folder should not be changed.)</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example: How to assign an icon from an
				extension</B></P>
				<P CLASS="western" STYLE="font-weight: normal">In the
				ext_tables.php files of your extension you normally define the
				&quot;ctrl&quot; section of the tables you have added to the
				system. Here you can add a local icon from the extension like
				this:</P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ctrl&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;iconfile&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">&quot;icon_tx_mininews_news.gif&quot;</FONT><FONT COLOR="#007700">,</FONT></PRE><P CLASS="western" STYLE="font-weight: normal">
				<BR>
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">typeicon_column</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, whose value decides <I>alternative
				icons</I> for the table (The default icon is the one defined with
				the 'iconfile' value.)</P>
				<P CLASS="western">An icon in the 'typeicons' array may override
				the default icon if an entry is found for the key having the
				value of the field pointed to by &quot;typeicon_column&quot;
				(this feature).</P>
				<P CLASS="western"><B>Notice:</B> These options
				(&quot;typoicon_column&quot; and &quot;typeicons&quot;) does not
				work for the pages-table, which is configured by the PAGES_TYPES
				array.</P>
				<P CLASS="western">Related &quot;typeicons&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This feature is used by for instance the
				&quot;tt_content&quot; table (Content Elements) where each type
				of content element has its own icon.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">See &quot;typeicons&quot;</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">typeicons</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">(See &quot;typeicon_column&quot;)<BR><BR>
				</P>
				<P CLASS="western"><B>Example of configuration (from the
				&quot;tt_content&quot; table):</B></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'typeicon_column'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'typeicons'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'header'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_header.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'textpic'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_textpic.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'image'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_image.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bullets'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_bullets.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_table.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'splash'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_news.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uploads'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_uploads.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'multimedia'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_mm.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'menu'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_menu.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'list'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_list.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'mailform'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_form.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'search'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_search.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'login'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_login.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'shortcut'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_shortcut.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_script.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'div'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_div.gif'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'html'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_html.gif'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT>
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">thumbnail</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which contains the value for any
				thumbnails of the records .</P>
				<P CLASS="western">This could be a type of the &quot;group&quot;
				type containing a list of file names.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">For the &quot;tt_content&quot; table this
				option points to the field &quot;image&quot; which contains the
				list of images that can be attached to the content element:</P>
				<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'thumbnail'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'image'</FONT><FONT COLOR="#007700">,</FONT>
</PRE><P CLASS="western">
				The effect of the field can be see in listings in eg. the &quot;List&quot;
				module:</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m36b71bea.png" NAME="Graphic5" ALIGN=LEFT WIDTH=447 HEIGHT=126 BORDER=0><BR CLEAR=LEFT><BR><BR>
				</P>
				<P CLASS="western">(You might have to enable &quot;Show
				Thumbnails by default&quot; in the Setup module first to see this
				display).</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">selicon_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which contains the thumbnail image
				used to represent the record visually wherever it is shown in
				TCEforms as a foreign reference selectable from a selectorbox.</P>
				<P CLASS="western">Only images of the ordinary web format, like
				gif,png,jpeg,jpg, is allowed. No scaling is done.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">You should consider this a feature where you
				can attach an &quot;icon&quot; to a record which is typically
				selected as a reference in other records. For example a
				&quot;category&quot;. In such a case this field points out the
				icon image which will then be shown. This feature can thus enrich
				the visual experience of selecting the relation in other forms.</P>
				<P CLASS="western">The feature is seldom used.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Related: &quot;selicon_field_path&quot;</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">selicon_field_path</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The path prefix of the value from
				'selicon_field'. This must be similar to the upload_path of that
				field (and thereby redundant).</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">sortby</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which is used to manage the <I>order</I>
				the records. 
				</P>
				<P CLASS="western">The field will contain an integer value which
				positions it at the correct position between other records from
				the same table on the current page. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>NOTICE: </B>The field should <I>not</I> be
				editable by the user since the TCE will manage the content
				automatically in order to manage the order of records. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This feature is used by eg. the &quot;pages&quot;
				table and &quot;tt_content&quot; table (Content Elements) in
				order to control the manually determined listing order of those
				records.</P>
				<P CLASS="western">Typically the fieldname &quot;sorting&quot; is
				dedicated to this feature.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Related: &quot;default_sortby&quot;</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display/Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">default_sortby</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If a fieldname for &quot;sortby&quot; is
				defined, then this is ignored. 
				</P>
				<P CLASS="western">Otherwise this is used as the 'ORDER BY'
				statement to sort the records in the table when listed in TBE. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>A few examples: </B>
				</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">&quot;default_sortby&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ORDER BY title&quot;</FONT><FONT COLOR="#007700">,</FONT>

<FONT COLOR="#dd0000">&quot;default_sortby&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ORDER BY tstamp DESC&quot;</FONT><FONT COLOR="#007700">,</FONT>

<FONT COLOR="#dd0000">&quot;default_sortby&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ORDER BY parent,crdate DESC&quot;</FONT><FONT COLOR="#007700">,</FONT>
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">mainpalette</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">comma seperated list of integers (pointing to
				multiple palette keys)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Points to the palette-number(s) that should
				always be shown in the bottom of the TCEform.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">For many records you can find the last section
				of the form looking something like this:</P>
				<P CLASS="western"><IMG SRC="12_html_7ad90f77.png" NAME="Graphic6" ALIGN=LEFT WIDTH=447 HEIGHT=79 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western">This box displays the fields from the &quot;main
				palette&quot;. In the case above (table: &quot;tt_content&quot;)
				the main palette is &quot;1&quot; configured like this in  $TCA
				for &quot;tt_content&quot;:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'palettes' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT>
<FONT COLOR="#007700">    </FONT><FONT COLOR="#dd0000">'1' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'hidden,starttime,endtime,fe_group'</FONT><FONT COLOR="#007700">),</FONT>
</PRE><P CLASS="western">
				And in the &quot;ctrl&quot; section it looks like this:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'mainpalette' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">,</FONT>
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">canNotCollapse</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If set, then the &quot;Show secondary options&quot;
				check box will not affect this table - no matter what, all fields
				and palettes are displayed in the main form at all times. Just
				like if the check box was always set.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_m2898c0d4.png" NAME="Graphic8" ALIGN=LEFT WIDTH=232 HEIGHT=59 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">tstamp</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which is automatically updated to
				the current timestamp (UNIX-time in seconds) each time the record
				is updated/saved in the system.</P>
				<P CLASS="western">Typically the field name &quot;tstamp&quot; is
				used for the time stamp value.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">This example shows the configuration for the
				&quot;fe_users&quot; table and how the tstamp, crdate and
				cruser_id fields have been configured:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#808080">$TCA['fe_users']&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;'ctrl'&nbsp;=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'label'&nbsp;=&gt;&nbsp;'username',</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'crdate'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'crdate'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'cruser_id'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'cruser_id'</FONT><FONT COLOR="#007700">,</FONT>
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">crdate</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which is automatically set to the
				current timestamp when the record is created. Is never modified
				again.</P>
				<P CLASS="western">Typically the field name &quot;crdate&quot; is
				used for the time stamp value.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">cruser_id</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which is automatically set to the
				uid of the backend user (be_users) who originally created the
				record. Is never modified again.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">rootLevel</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">[0, 1, -1]</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Determines where a record may exist in the
				page tree. There are three options depending on the value:</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western"><B>0 (false): Can only exist in the page
					tree.</B> <BR>Records from this table <I>must</I> belong to a
					page (have a positive &quot;pid&quot; field value). Thus records
					cannot be created in the root of the page tree (where &quot;admin&quot;
					users are the only ones allowed to create records anyways).</P>
					<LI><P CLASS="western"><B>1 (true): Can only exist in the
					root.</B><BR>Records must have a &quot;pid&quot;-field value
					equal to zero. The consequence is that only admin can edit this
					record.</P>
					<LI><P CLASS="western"><B>-1: Can exist in both page tree and
					root.</B><BR>Records can belong either to a page (positive &quot;pid&quot;
					field value) or exist in the root of the page tree (where the
					&quot;pid&quot; field value will be 0 (zero)) <BR><B>Notice:</B>
					that the -1 value will still select foreign_table records for
					selectox boxes only from root (pid=0)</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Notice: The setting for &quot;rootLevel&quot;
				is ignored for records in the &quot;pages&quot; table (they are
				hardcoded to be allowed anywhere, equal to a &quot;-1&quot;
				setting of rootLevel)</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc. /</P>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">readOnly</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Records may not be changed. This makes a table
				&quot;static&quot;.</P>
				<P CLASS="western">In TYPO3 the most well-known static table is
				&quot;static_template&quot; which contains pre-configured
				TypoScript code snippets. But you can also find a number of
				extensions which contains static table information like
				zip-codes, airport codes, country, currency codes etc. 
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc. /</P>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">adminOnly</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Records may be changed <I>only</I> by
				&quot;admin&quot;-users (having the &quot;admin&quot; flag set). 
				</P>
				<P CLASS="western">Examples from the &quot;cms&quot; extension
				are the tables &quot;sys_template&quot; and &quot;static_template&quot;
				(the latter is also &quot;readOnly&quot;).</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc. / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">editlock</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which – if set – will prevent
				all editing of the record for non-admin users.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The field should be configured as a checkbox
				type. Non-admins could be allowed to edit the checkbox but if
				they set it, they will effectively lock the record so they cannot
				edit it again – and they need an Admin-user to remove the lock.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If this feature is used on the pages table it
				will also prevent editing of records on that page (except other
				pages)! Also, no new records (including pages) can be created on
				the page.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This flag is cleared when a new copy or
				version of the record is created.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">origUid</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string 
				</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which will contain the UID of the
				original record in case a record is created as a copy or new
				version of another record.</P>
				<P CLASS="western">Is used when new versions are created from
				elements and enables the backend to display a visual comparison
				between a new version and its original.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">delete</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which indicates if a record is
				considered deleted or not. 
				</P>
				<P CLASS="western">If this feature is used, then records are not
				really deleted, but just marked 'deleted' by setting the value of
				the fieldname to &quot;1&quot;. And in turn the whole system <I>must</I>
				strictly respect the record as deleted. This means that any SQL
				query must exclude records where this field is true.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This is a very common feature.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc. / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">enablecolumns</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Specifies which <I>publishing control features</I>
				are automatically implemented for the table.</P>
				<P CLASS="western">This includes that records can be &quot;disabled&quot;
				or &quot;hidden&quot;, have a starting and/or ending time and be
				access controlled so only a certain front end user group can
				access them</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">In the frontend libraries the enableFields()
				function automatically detects which of these fields are
				configured for a table and returns the proper WHERE clause SQL
				code for creating select queries.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">There are the keys in the array you can use.
				Each of the values must be a field name in the table which should
				be used for the feature:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>&quot;disabled&quot;:</B> defining
				hidden-field of record</P>
				<P CLASS="western"><B>&quot;starttime&quot;:</B> defining
				starttime-field of record</P>
				<P CLASS="western"><B>&quot;endtime&quot;:</B> defining
				endtime-field of record</P>
				<P CLASS="western"><B>&quot;fe_group&quot;:</B> defining
				fe_group-field of record</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> In general these fields does
				<I>not </I>affect the access or display in the backend! They are
				primarily related to the frontend. However the icon of records
				having these features enabled will normally change as these
				examples show:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">[INSERT IMAGE]</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">See also the &quot;delete&quot; feature which
				is related, but is active for both frontend and backend.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">Typically the &quot;enablecolumns&quot; could
				be configured like this (here for the &quot;tt_content&quot;
				table):</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'enablecolumns'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'disabled'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'hidden'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'starttime'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'starttime'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'endtime'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'endtime'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fe_group'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'fe_group'</FONT><FONT COLOR="#007700">,</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc. / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">hideAtCopy</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If set, and the &quot;disabled&quot; field
				from &quot;enablecolumns&quot; (see below) is specified, then
				records will be disabled/hidden when they are copied.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">prependAtCopy</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(LS)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">This string will be prepended the records
				title field when the record is inserted on the same PID as the
				original record (thus you can distinguish them). 
				</P>
				<P CLASS="western">Usually the value is something like &quot;
				(copy %s)&quot; which tells that it was a copy that was just
				inserted (The token &quot;%s&quot; will take the copy number).</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">copyAfterDuplFields</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The fields in this list will automatically
				have the value of the same field from the 'previous' record
				transferred when they are <I>copied or moved</I>  to the position
				<I>after</I> another record from same table.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'copyAfterDuplFields'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'colPos,sys_language_uid'</FONT><FONT COLOR="#007700">,</FONT>
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">setToDefaultOnCopy</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">These fields are restored to the default value
				of the record when they are copied.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;sys_action&quot;</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ctrl&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;setToDefaultOnCopy&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;assign_to_groups&quot;</FONT><FONT COLOR="#007700">,</FONT>
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">useColumnsForDefaultValues</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">When a new record is created, this defines the
				fields from the 'previous' record that should be used as default
				values. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'sys_filemounts'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ctrl'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'useColumnsForDefaultValues'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'path,base'</FONT><FONT COLOR="#007700">,</FONT>
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">shadowColumnsForNewPlaceholders</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">When a new element is created in a draft
				workspace a placeholder element is created in the Live workspace.
				Certain values of the draft element can be necessary to transfer
				to the live element, such as sys_language_uid typically. This
				list of fields will define which values are &quot;shadowed&quot;
				to the Live record.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">All fields listed for this option must be
				defined in $TCA[&lt;table&gt;]&quot;[columns&quot;] as well.</P>
				<P CLASS="western">Further, fields which are listed in
				transOrigPointerField, languageField, label and type are
				automatically added to this list of fields and do not have to
				re-appear in the list.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ctrl'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'shadowColumnsForNewPlaceholders'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'sys_language_uid,l18n_parent,colPos'</FONT><FONT COLOR="#007700">,</FONT></PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">is_static</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">This marks a table to be &quot;static&quot;.</P>
				<P CLASS="western">A &quot;static table&quot; means that it
				should not be updated for individual databases because it is
				meant to be centrally updated and distributed. For instance
				static tables could contain country-codes used in many systems. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The foremost property of a static table is
				that the uid's used are the SAME across systems. Import/Export of
				records expect static records to be common for two systems.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example (also including the features
				&quot;rootLevel&quot;, &quot;readOnly&quot; and &quot;adminOnly&quot;
				above):</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#808080">$TCA['static_template']&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;'ctrl'&nbsp;=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'label'&nbsp;=&gt;&nbsp;'title',</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tstamp'&nbsp;=&gt;&nbsp;'tstamp',</FONT>
<FONT COLOR="#808080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'title'&nbsp;=&gt;&nbsp;'LLL:EXT:cms/locallang_tca.php:static_template',</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'readOnly'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Prevents the table from being altered</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'adminOnly'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Only admin, if any</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'rootLevel'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'is_static'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Used by import/export</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">fe_cruser_id</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which is used to store the uid of a
				front-end user if he is created the record through fe_adminLib 
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">FE</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">fe_crgroup_id</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which is used for storing the uid
				of a fe_group record, where the members of that record are
				allowed to edit through fe_adminLib .</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">FE</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">fe_admin_lock</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname, which points to the fieldname which
				- as a boolean - will prevent any editing by the fe_adminLib, if
				set. Say if the &quot;fe_cruser_id&quot; field matches the
				current fe_user normally the field is editable. But with this
				option, you could make a check-box in the backend that would lock
				this option.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">FE</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">languageField</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><B>Localization access control.</B></P>
				<P CLASS="western">Fieldname, which contains the pointer to the
				language of the records content.  Languages for a record is
				defined by an integer pointing to a “sys_language” record
				(found in the page tree root). 
				</P>
				<P CLASS="western">Backend users can be limited to have edit
				access for only certain of these languages and if this option is
				set, edit access for languages will be enforced for this table.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Pointers to a language has this value range:</P>
				<P CLASS="western"><B>-1</B> : (ALL) The record does not
				represent any specific language. Localization access control is
				never carried out for such a record. Typically this is used if
				the record has content (such as flexforms in itself containing
				the localization or a plugin with general purpose) which
				internally contain localized values – hence making such a flag
				for the container record futile.</P>
				<P CLASS="western"><B>0</B> : The default language of the system.
				Localization access control applies.</P>
				<P CLASS="western"><B>Values &gt; 0</B> : Points to a uid of a
				sys_language record representing a possible language for
				translation. Localization access control applies.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The fieldname pointed to should be a single
				value selector box (maxitems &lt;=1) saving its value into an
				integer field in the database.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">transOrigPointerField</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="font-weight: normal">Fieldname, which
				contains the uid of the record which this record is a translation
				of. If this value is found being set together with
				“languageField” then TCEforms will show the default
				translation value under the fields in the main form. This is very
				neat if translators are to see what they are translating of
				course...</P>
				<P CLASS="western" STYLE="font-weight: normal">Must be configured
				in “columns”, at least as a passthrough type. 
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc / 
				</P>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">transOrigPointerTable</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (tablename)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" STYLE="font-weight: normal">Optional table
				name for the table where record uids in “transOrigPointerField”
				comes from. This is needed in very rare applications where the
				original language is found in another table of the database. In
				such cases the field names must match between the tables.</P>
				<P CLASS="western" STYLE="font-weight: normal">An example of this
				is the pages table and “pages_language_overlay”.</P>
				<P CLASS="western" STYLE="font-weight: normal"><I>WARNING: This
				is unsupported almost everywhere except for the “pages” table
				for which it was originally invented.</I></P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">transOrigDiffSourceField</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (fieldname)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname which will be updated with the value
				of the original language record whenever the translation record
				is updated. This information is later used to compare the current
				values of the default record with those stored in this field and
				if they differ there will be a display in the form of the
				difference visually. This is a big help for translators so they
				can quickly grasp the changes that happened to the default
				language text.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The field type  in the database should be a
				large text field (clob/blob).</P>
				<P CLASS="western">You don't have to configure this field in the
				“columns” section of TCA, but if you do, select the
				“passthrough” type. That will enable that the undo function
				also works on this field.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">transForeignTable</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (tablename)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Points to the table which holds translations
				of the records in this table. This feature must be used in pair
				with transOrigPointerTable but on separate tables of course:
				transForeignTable must point to the tablename for which
				transOrigPointerTable is set to point to the table which has 
				transForeignTable set. Example: The table “pages” has
				“transForeignTable“ set to “pages_language_overlay”
				because it holds the translations for pages. The table
				“pages_language_overlay” has “transOrigPointerTable” set
				to “pages”.</P>
				<P CLASS="western"><I>WARNING: This is still highly unsupported
				for all other tables than the “pages” table. If this is to
				work well for any table you wish to configure, some more work
				needs to get done!</I></P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">versioningWS</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean / version number</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If set, versioning is enabled for this table.
				If integer it indicates a version number of versioning features. 
				</P>
				<UL>
					<LI><P CLASS="western">Version 2: Support for moving elements
					was added. (“V2” is used to mark features)</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Versioning in TYPO3 is based on this scheme:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western">[Online version, pid&gt;=0] 1- * [Offline versions, pid=-1]</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">Offline versions are identified by having a
				pid value = -1 and they refer to their online version by the
				field “t3ver_oid”. Offline versions of the “Page” and
				“Branch” types (contrary to “Element” type) can have
				child records which points to the uid of their offline “root”
				version with their pid fields (as usual). These children records
				are typically copies of child elements of the online version of
				the offline root version, but are not considered “versions”
				of them in a technical sense, hence they don't point to them with
				their t3ver_oid field (and shouldn't). 
				</P>
				<P CLASS="western">In the backend “Offline” is labeled
				“Draft” while “Online” is labeled “Live”.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">In order for versioning to work on a table
				there are certain requirements; Tables supporting versioning must
				have these fields:</P>
				<UL>
					<LI><P CLASS="western">“<B>t3ver_oid”</B> - For offline
					versions; pointing back to online version uid. For online: 0
					(zero)</P>
					<LI><P CLASS="western">“<B>t3ver_id”</B> - Incremental
					integer (version number)</P>
					<LI><P CLASS="western">“<B>t3ver_label” </B>- Version label,
					eg. &quot;1.1.1&quot; or &quot;Christmas edition&quot;</P>
					<LI><P CLASS="western">“<B>t3ver_wsid”</B> - For offline
					versions: Workspace ID of version. For all workspace Ids apart
					from 0 (zero) there can be only one version of an element per
					ID. For online: 0 (zero) unless t3ver_state is set in which case
					it plays a role for previews in the backend (to no de-select
					placeholders for workspaces, see
					t3lib_BEfunc::versioningPlaceholderClause()) and for publishing
					of move-to-actions (see t3lib_BEfunc::getMovePlaceholder())</P>
					<LI><P CLASS="western">“<B>t3ver_state”</B> - Contains
					special states of a version used when new, deleted, moved
					content requires versioning. 
					</P>
					<UL>
						<LI><P CLASS="western">For an <B>online</B> version:</P>
						<UL>
							<LI><P CLASS="western">“1” or “2” means that it is a
							temporary placeholder for a new element (which is the offline
							version of this record)</P>
							<LI><P CLASS="western">“3” means it is a
							“move-to-location” placeholder and t3ver_move_id holds uid
							of online record (with an offline version) to move . Unlike
							for “1” and “2” there is <I>no offline version</I> of
							this record type! (V2 feature)</P>
							<LI><P CLASS="western">If “t3ver_state” has a value &gt;0
							it should never be shown in Live workspace. 
							</P>
						</UL>
						<LI><P CLASS="western">For an <B>offline</B> version:</P>
						<UL>
							<LI><P CLASS="western">“1” or “2” means that when
							published, the element must be deleted (placeholder for
							delete-action). 
							</P>
							<LI><P CLASS="western">&quot;-1&quot; means it is just an
							indication that the online version has the flag set to &quot;1&quot;
							(is a placeholder for new records.). This only affects
							display, not processing anywhere.</P>
							<LI><P CLASS="western">“4” means this version is a
							“move-pointer” for the online record and an online
							“move-to-location” (t3ver_state=3) record exists. (V2
							feature)</P>
						</UL>
					</UL>
					<LI><P CLASS="western">“<B>t3ver_stage”</B> - For custom
					workspaces elements go through a cycle where 0 (zero) represents
					the editing cycle, 1 represents review cycle and 10 represents
					ready for publishing.</P>
				</UL>
				<UL>
					<LI><P CLASS="western">“<B>t3ver_count”</B> -
					0/offline=draft/never published, 0/online=current,
					1/offline=archive, 1+=multiple online/offline occurences
					(incrementation happens when versions are swapped offline.)</P>
					<LI><P CLASS="western">“<B>t3ver_tstamp”</B> - Timestamp of
					last swap/publish action.</P>
					<LI><P CLASS="western">“<B>t3ver_move_id”</B> - For online
					records with t3ver_state=3 this indicates the online record to
					move to this location upon publishing of the offline version of
					the online record “t3ver_move_id” points to.</P>
				</UL>
				<UL>
					<LI VALUE=1><P CLASS="western">The fields <B>pid</B> and <B>uid
					</B>should have &quot;signed&quot; attributes in MySQL (so their
					content can be negative!)</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">SQL definitions:</P>
				<P CLASS="western">  t3ver_oid int(11) DEFAULT '0' NOT NULL,</P>
				<P CLASS="western">  t3ver_id int(11) DEFAULT '0' NOT NULL,</P>
				<P CLASS="western">  t3ver_wsid int(11) DEFAULT '0' NOT NULL,</P>
				<P CLASS="western">  t3ver_label varchar(30) DEFAULT '' NOT NULL,</P>
				<P CLASS="western">  t3ver_state tinyint(4) DEFAULT '0' NOT NULL,</P>
				<P CLASS="western">  t3ver_stage tinyint(4) DEFAULT '0' NOT NULL,</P>
				<P CLASS="western">  t3ver_count int(11) DEFAULT '0' NOT NULL,</P>
				<P CLASS="western">  t3ver_tstamp int(11) DEFAULT '0' NOT NULL,</P>
				<P CLASS="western">  t3ver_move_id int(11) DEFAULT '0' NOT NULL, 
				   (V2 requirement)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Special “t3ver_swapmode” field for
				pages</B></P>
				<P CLASS="western">When pages are versioned it is an option
				whether content and even the branch of the page is versioned.
				This is determined by the parameter “treeLevels” set when the
				page is versioned. “-1” means swap only record, 0 means
				record and content and &gt;0 means full branch. When the version
				is later published the swapping will happen accordingly.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">versioningWS_alwaysAllowLiveEdit</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If set, this table can always be edited live
				even in a workspace and even if “live editing” is not enabled
				in a custom workspace. For instance this is set by default for
				Backend user and group records since it is assumed that
				administrators like the flexibility of editing backend users
				without having to go to the Live workspace. 
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">versioning_followPages</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">(Only for other tables than “pages”)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If set, content from this table will get
				copied along when a new version of a page is created.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Tracking Originals</B></P>
				<P CLASS="western">It is highly recommended to use the “origUid”
				feature for tables whose records are copied with pages that are
				versioned with content or subtree since this will enable the
				possibility of content comparison between current and future
				versions.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">versioning</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">[OBSOLETE]</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">In version 3.7 and 3.8 this was used to
				activate versioning for a table. However large changes in the API
				made it easier to simply disable this feature and introduce
				“versioningWS”. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Migration:</B></P>
				<P CLASS="western">The migration is very easy: Simply set
				“versioningWS” instead of “versioning” for your table <I>AND
				upgrade the SQL fields as defined for “versioningWS”!</I></P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">dividers2tabs</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">This key defines the activation of tabs,
				according to the following values:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">0: disabled (default)</P>
				<P CLASS="western">1: activated, empty tabs are removed</P>
				<P CLASS="western">2: activated, empty tabs are disabled</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If Tabs are activated, all “--div--”
				fieldnames in the types configuration will be interpreted as
				starting a new tab in a tab-menu for the record. The second part
				after “--div--” will be the title of the tab then.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you place a “--div--” field as the very
				first element in the types configuration it will just be used to
				set the title of the first tab (which is by default “General”).</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you like to place the main palette on its
				own tab in the end, simply add “--div--” as the very last
				field.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">A types configuration for a table looks like
				this:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">&quot;types&quot; =&gt; Array (</P>
				<P CLASS="western">	&quot;0&quot; =&gt; Array(&quot;showitem&quot;
				=&gt; &quot;--div--;Basis valg, hidden;;1;;1-1-1, title;;;;2-2-2,
				type;;;;3-3-3, template, --div--;Frekvens, freq, time1, time2,
				time3, time4, time5, time6, time7, time8, --div--;Details,
				sourceurl, inputparser, position, dailysubpage, newpageishidden,
				notify_on_creation_email, logimportsonly&quot;)</P>
				<P CLASS="western">),</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This will render a tab menu for the record
				where the fields are distributed on the various pads:</P>
				<P CLASS="western"><IMG SRC="12_html_m5121aa56.png" NAME="Graphic118" ALIGN=LEFT WIDTH=447 HEIGHT=141 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western">Here another tab is activated and another part
				of the form is shown:</P>
				<P CLASS="western"><IMG SRC="12_html_m600f2ae5.png" NAME="Graphic117" ALIGN=LEFT WIDTH=447 HEIGHT=118 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">dynamicConfigFile</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Reference to the complete $TCA entry content.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Filename of the PHP file which contains the
				<I>full configuration</I> of the table in $TCA. The [ctrl] part
				(and [feInterface] if used) are always mandatory, but the rest
				may be placed in such a file in order to limit the amount of
				memory consumed by the $TCA array (when eg. the columns
				definitions are not needed).</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The format of the value is as follows:</P>
				<UL>
					<LI><P CLASS="western"><B>If an absolute path:</B> Well, its an
					absolute path... (this is used for extensions, see example
					below).</P>
					<LI><P CLASS="western"><B>If  prefixed with &quot;T3LIB:&quot;</B>
					This indicates that it's position is in t3lib/install/</P>
					<LI><P CLASS="western"><B>By default:</B> The value is a
					filename relative to &quot;typo3conf/&quot; 
					</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">This is the typical configuration in an
				extension where the file named &quot;tbl.php&quot; contains all
				configuration for the &quot;columns&quot;, &quot;types&quot; and
				&quot;palettes&quot;:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ctrl&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;dynamicConfigFile&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">&quot;tca.php&quot;</FONT><FONT COLOR="#007700">,</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;feInterface&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;fe_admin_fieldList&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;hidden, starttime, front_page&quot;</FONT><FONT COLOR="#007700">,</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;)
);
</PRE><P CLASS="western">
				In the file &quot;tca.php&quot; in the extension you will find
				this PHP code which completes the $TCA entry for the table:</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">&lt;?php</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">if&nbsp;(!</FONT><FONT COLOR="#0000bb">defined&nbsp;</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">&quot;TYPO3_MODE&quot;</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die&nbsp;(</FONT><FONT COLOR="#dd0000">&quot;Access denied.&quot;</FONT><FONT COLOR="#007700">);</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;ctrl&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;ctrl&quot;</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;interface&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;showRecordFieldList&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;hidden,starttime,front_page&quot;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;feInterface&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;tx_mininews_news&quot;</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">&quot;feInterface&quot;</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;columns&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;hidden&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;exclude&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;label&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">$LANG_GENERAL_LABELS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">&quot;hidden&quot;</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;config&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;type&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;check&quot;</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;default&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;0&quot;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#007700">... etc</FONT></PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">API</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">EXT[<I>extension_key</I>]</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">User defined content for extensions. You can
				use this as you like.</P>
				<P CLASS="western">Lets say you have an extension with the key
				&quot;myext&quot;, then you have the right to define properties
				for:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">...['ctrl']['EXT']['myext'] = ... (whatever
				you define)</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Ext.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H4 CLASS="western">Examples</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
are a few examples of configurations of the control section.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ctrl'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'sortby'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'sorting'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_tca.php:pages'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'doktype'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'delete'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'deleted'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'crdate'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'crdate'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'hideAtCopy'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'prependAtCopy'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.prependAtCopy'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'cruser_id'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'cruser_id'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'useColumnsForDefaultValues'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'doktype'</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The pages table has the configuration you see
above (found in t3lib/stddb/tables.php). Here are a few notes:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	3: When pages are displayed in the backend you will see the content
	from the field named &quot;title&quot; shown as the title of the
	page record.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	5: This configures the field &quot;sorting&quot; as the field which
	determines the order in which pages are displayed within each branch
	of the page tree.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	6: The title for the pages table as shown in the backend (eg.
	&quot;Pages&quot; in english, &quot;Sider&quot; in danish etc...) is
	defined here to come from a &quot;locallang&quot; file.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	7: Defines which field will be the &quot;type&quot; field. This
	determines the set of fields shown in the edit forms in the backend.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	10: Defines that pages should be hidden when copied.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
tt_content table (Content Elements) looks like this in the &quot;ctrl&quot;
section (sysext/cms/ext_tables.php):</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#ff8000">// ******************************************************************</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   2:</FONT> // This is the standard TypoScript content table, tt_content</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   3:</FONT> // ******************************************************************</FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#0000bb">$TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ctrl'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'header'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label_alt'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'subheader,bodytext'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'sortby'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'sorting'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tstamp'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_tca.php:tt_content'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'delete'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'deleted'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'prependAtCopy'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.prependAtCopy'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'copyAfterDuplFields'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'colPos,sys_language_uid'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'useColumnsForDefaultValues'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'colPos,sys_language_uid'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'enablecolumns'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'disabled'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'hidden'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'starttime'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'starttime'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'endtime'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'endtime'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fe_group'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'fe_group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  21:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  22:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'typeicon_column'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  23:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'typeicons'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000">  24:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'header'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_header.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  25:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'textpic'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_textpic.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  26:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'image'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_image.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  27:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bullets'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_bullets.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  28:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_table.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  29:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'splash'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_news.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  30:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uploads'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_uploads.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  31:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'multimedia'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_mm.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  32:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'menu'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_menu.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  33:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'list'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_list.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  34:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'mailform'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_form.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'search'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_search.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'login'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_login.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  37:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'shortcut'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_shortcut.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  38:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_script.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  39:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'div'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_div.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  40:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'html'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tt_content_html.gif'</FONT></FONT>
<FONT COLOR="#000000">  41:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  42:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'mainpalette'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  43:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'thumbnail'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'image'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  44:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'dynamicConfigFile'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'tbl_tt_content.php'</FONT></FONT>
<FONT COLOR="#000000">  45:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  46:</FONT> );</FONT></PRE>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	7: Here additional fields are defined to be used if no content is
	found in the &quot;header&quot; field (defined in line 6)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	16-21: The &quot;enablecolumns&quot; section is extensive for this
	table since it is a front end related table. Typically they use the
	&quot;enablecolumns&quot; a lot.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	22-41: For each content element type a new icon is defined. This
	helps the users to easily recognize which type of content element
	they are looking at when they see the element in a list of records.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	43: The column &quot;image&quot; is used to fetch any thumbnails
	there are to show for the record.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="4.2.2.['interface'] section|outline"></A>
['interface'] section</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Contains
configuration for display and listing in various parts of the core
backend:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=45*>
	<COL WIDTH=27*>
	<COL WIDTH=184*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=18%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=10%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=72%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">showRecordFieldList 
				</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=72%>
				<P CLASS="western">Defines which fields are shown in the
				show-item dialog. Eg. 'doktype,title,alias,hidden,....'</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">always_description 
				</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=72%>
				<P CLASS="western">If set, the description/helpicons are always
				shown regardless of the configuration of the user. Works only in
				TCEforms and for tables loaded via
				t3lib_BEfunc::loadSingleTableDescription()</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_m28654fbd.png" NAME="Graphic7" ALIGN=LEFT WIDTH=345 HEIGHT=81 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">maxDBListItems 
				</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=72%>
				<P CLASS="western">Max number of items shown in the List module</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">maxSingleDBListItems 
				</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=72%>
				<P CLASS="western">Max number of items shown in the List module,
				if this table is listed in Extended mode (listing only a single
				table)</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H5 CLASS="western">Example</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is how the &quot;pages&quot; table is configured for these settings
(in t3lib/stddb/tables.php):</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'interface'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'showRecordFieldList'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'doktype,title'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxDBListItems'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">30</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxSingleDBListItems'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">50</FONT></FONT>
<FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></PRE><H3 CLASS="western">
<A NAME="4.2.3.['feInterface'] section|outline"></A>['feInterface']
section</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;feInterface&quot; section contains properties related to Front
End Editing of the table, mostly related to the feAdmin_lib. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Is
depricated in the sense that it will still exist, but will not be
(and should not be) extended further.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=45*>
	<COL WIDTH=27*>
	<COL WIDTH=184*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=18%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=10%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=72%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">editableRecordFields 
				</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=72%>
				<P CLASS="western">List of fields, example: '*name, *type,
				biography, filmography'. Used for front-end edit module created
				by Rene Fritz &lt;r.fritz@colorcube.de&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=18%>
				<P CLASS="western">fe_admin_fieldList 
				</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=72%>
				<P CLASS="western">List of fields allowed for editing/creation
				with the fe_adminLib module, see media/scripts/fe_adminLib,
				example: 'pid,name,title,address'</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<PRE CLASS="western"></PRE><H3 CLASS="western">
<A NAME="4.2.4.['columns'][fieldname] section|outline"></A>['columns'][<I>fieldname</I>]
section</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;columns&quot; section contains configuration for each table
<I>field</I> (also called &quot;column&quot;) which can be edited by
the backend.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration includes both properties for the display in the backend
as well as the processing of the submitted data.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Each
field can be configured as a certain &quot;type&quot; (e.g. checkbox,
selector, input field, text area, file or db-relation field, user
defined etc.) and for each type a separate set of additional
properties applies. These properties are clearly explained below for
each type.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
table shows the keys of the ['columns'][<I>fieldname</I>] array:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=172*>
	<COL WIDTH=19*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=67%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=7%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">label</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(LS)</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western"><B>Required!</B></P>
				<P CLASS="western">The name of the field as it is shown in the
				interface:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_m493e47a8.png" NAME="Graphic9" ALIGN=LEFT WIDTH=295 HEIGHT=59 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western" STYLE="font-weight: normal">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">exclude</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">If set, all backend users are prevented from
				editing the field unless they are members of a backend usergroup
				with this field added as an &quot;Allowed Excludfield&quot; (or
				&quot;admin&quot; user).</P>
				<P CLASS="western">See <A HREF="#Access%20to%20tables%20and%20fields?%7Coutline">&quot;Inside
				TYPO3&quot; document about permissions</A>.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">l10n_mode</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (keyword)</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Localization mode.</P>
				<P CLASS="western">Only active if the ctrl-directive
				“languageField” is set.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The main relevance is when a record is
				localized by an API call in tcemain that makes a copy of the
				default language record. You can think of this process as copying
				all fields from the source record, except if a special mode
				applies as defined below:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Keywords are:</P>
				<UL>
					<LI><P CLASS="western"><B>exclude</B> – Field will not be
					shown in TCEforms if this record is a localization of the
					default language. (Works basically like a display
					condition.)<BR>Excluded fields will not be copied when a
					language-copy is made.<BR>May have frontend implications similar
					to “mergeIfNotBlank”.</P>
					<LI><P CLASS="western"><B>mergeIfNotBlank</B> – Field will be
					editable but if the field value is blank the value from the
					default translation is used (this can be very useful for images
					shared from the default record). Requires frontend support.<BR>In
					the backend the effect is that the field content is not copied
					when a new “localization copy” is made.</P>
					<LI><P CLASS="western"><B>noCopy</B> – Like mergeIfNotBlank
					but without the implications for the frontend; The field is just
					not copied.</P>
					<LI><P CLASS="western"><B>prefixLangTitle</B> – The field will
					get copied, but the content is prefixed with the title of the
					language. Works only for field types like “text” and “input”</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">(Doesn't apply to flexform fields.)</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">l10n_display</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">list of keywords</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Localization display.</P>
				<P CLASS="western">see: <I>l10n_mode</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This option can be used to define the language
				related field rendering. This has nothing to do with the
				processing of language overlays and data storage but the display
				of form fields.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Keywords are:</P>
				<UL>
					<LI VALUE=1><P CLASS="western"><B>hideDiff</B><SPAN STYLE="font-weight: normal">
					– The diff</SPAN>erences to the default language field will
					not be  displayed.</P>
					<LI><P CLASS="western"><B>defaultAsReadonly</B><SPAN STYLE="font-weight: normal">
					– This ren</SPAN>ders the field as read only field with the
					content of the default language record. The field will be
					rendered even if 'l10n_mode' is set to 'exclude'. While
					'exclude' define the field not to be  translated this option
					activate display of the default data.</P>
				</UL>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">l10n_cat</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(keyword)</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Localization category.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Keywords:</B> text,media</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">When localization mode is set for a TCEforms,
				it must be either of these values. Only the fields that have
				l10n_cat set to the localization mode is show. Used to limit
				display so only most relevant fields are shown to translators. It
				doesn't prevent editing of other fields if records are edited
				outside localization mode, it merely works as a display
				condition.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">It is also used in localization export
				(pending at this moment).</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">config</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Contains the actual configuration properties
				of the fields display and processing behavior. 
				</P>
				<P CLASS="western">The possibilities for this array depend on the
				value of the array key &quot;type&quot; within the array. Each
				valid value for &quot;type&quot; is shown below in a separate
				table.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> For <I>all</I> configuration
				types, the 
				</P>
				<UL>
					<LI><P CLASS="western">&quot;default&quot; key in the array can
					be used to set the default value of the field.</P>
					<LI><P CLASS="western">“softref” key in the array can be
					used to attach “soft reference parsers”. See under
					“Additional TCA features” for information about softref
					keys. The syntax for this value is
					“key1,key2[parameter1;parameter2;...],...”.</P>
					<LI><P CLASS="western">“type” key is used to denote the
					field type from a set of keywords, eg. input, text, check,
					select, group, user. These are documented in individual sections
					below. Notice: The value of the 'form_type' key overrides this
					during form rendering, see below.</P>
					<LI><P CLASS="western">“form_type” key is used to set an
					alternative field type which is used when the field is drawn in
					the form but not when processed elsewhere in the system.</P>
					<LI><P CLASS="western">“readOnly” key is used to render the
					form in a way that the user can see the values but cannot edit
					them. The rendering is similar to the editable variants but not
					neccesarily the same and might differ in layout and
					size.<BR><B>Notice: </B>Read only rendering might not be
					implemented by user defined form items!</P>
				</UL>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">-</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">displayCond</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Contains a condition rule for whether to
				display the field or not.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">A rule is a string divided into several parts
				by &quot;:&quot; (colons).</P>
				<P CLASS="western">The first part is the rule-type and the
				subsequent parts will depend on the rule type.</P>
				<P CLASS="western">Currently these rule values can be used:</P>
				<UL>
					<LI><P CLASS="western"><B>FIELD</B> : This evaluates based on
					another fields value in the record. 
					</P>
					<UL>
						<LI><P CLASS="western">Part 1 is the fieldname</P>
						<LI><P CLASS="western">Part 2 is the evaluation type. These are
						the possible options:</P>
						<UL>
							<LI><P CLASS="western"><B>REQ</B> : Requires the field to have
							a  &quot;true&quot; value. False values are &quot;&quot;
							(blank string) and 0 (zero) or if the field does not exist at
							all. All else is true.<BR>For the REQ evaluation type Part3 of
							the rules string must be the string &quot;true&quot; or
							&quot;false&quot;. If &quot;true&quot; then the rules returns
							&quot;true&quot; if the evaluation is true. If &quot;false&quot;
							then the rules returns &quot;true&quot; if the evaluation is
							false.</P>
							<LI><P CLASS="western"><B>&gt; / &lt; / &gt;= / &lt;=</B> :
							Evaluates if the field value is greater than, less than the
							value in &quot;Part 3&quot;</P>
							<LI><P CLASS="western"><B>= / !=</B> : Evaluates if the field
							value is equal to value in &quot;Part 3&quot; (or not, if the
							negation flag, &quot;!&quot; is prefixed)</P>
							<LI><P CLASS="western"><B>IN / !IN</B> : Evaluates if the
							field value is in the comma list equal to value in &quot;Part
							3&quot; (or not, if the negation flag, &quot;!&quot; is
							prefixed)</P>
							<LI><P CLASS="western"><B>- / !-</B> : Evaluates if the field
							value is in the range specified by value in &quot;Part 3&quot;
							([min] - [max]) (or not, if the negation flag, &quot;!&quot;
							is prefixed)</P>
						</UL>
					</UL>
					<LI><P CLASS="western"><B>EXT</B> : This evaluates based on
					current status of extensions.</P>
					<UL>
						<LI><P CLASS="western">Part 1 is the extension key</P>
						<LI><P CLASS="western">Part 2 is the evaluation type:</P>
						<UL>
							<LI><P CLASS="western"><B>LOADED</B> : Requires the extension
							to be loaded if Part3 is &quot;true&quot; and reversed if
							Part3 is &quot;false&quot;.</P>
						</UL>
					</UL>
					<LI><P CLASS="western"><B>REC</B> : This evaluates based on the
					current record (doesn't make sense for flexform fields)</P>
					<UL>
						<LI><P CLASS="western">Part 1 is the type.</P>
						<UL>
							<LI><P CLASS="western"><B>NEW</B> : Requires the record to be
							new if Part2 is &quot;true&quot; and reversed if Part2 is
							&quot;false&quot;.</P>
						</UL>
					</UL>
					<LI><P CLASS="western"><B>HIDE_L10N_SIBLINGS</B> : (FlexForms
					only) This evaluates based on whether the field is a value for
					the default language or an alternative language. Works only for
					&lt;langChildren&gt;=1, otherwise it has no effect.</P>
					<UL>
						<LI><P CLASS="western">Part 1: Keywords: “except_admin” =
						will still show field to admin users</P>
					</UL>
					<LI><P CLASS="western"><B>HIDE_FOR_NON_ADMINS: </B><SPAN STYLE="font-weight: normal">This
					will hide the field for all non-admin users while admins can see
					it. Useful for FlexForm container fields which are not supposed
					to be edited directly via the FlexForm but rather through
					TemplaVoilas Page module for instance.</SPAN></P>
					<LI><P CLASS="western"><B>VERSION: </B>
					</P>
					<UL>
						<LI><P CLASS="western">Part 1 is the type:</P>
						<UL>
							<LI><P CLASS="western"><B>IS</B> : Part 2 is “true” or
							“false”: If true, the field is shown only if the record is
							a version (pid == -1)</P>
						</UL>
					</UL>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">For FlexForm elements the fields are tags on
				same level. If &lt;langChildren&gt; is enabled, then the value of
				other fields on same level is taken from the same language.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">This example will require the field named
				&quot;tx_templavoila_ds&quot; to be true, otherwise the field for
				which this rule is set will not be displayed:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western">	'displayCond' =&gt; 'FIELD:tx_templavoila_ds:REQ:true',
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000">This example requires the extension
				&quot;static_info_tables&quot; to be loaded, otherwise the field
				is not displayed. (This is useful if the field makes a look-up on
				a table coming from another extension!)</FONT></P>
				<PRE CLASS="western">	'displayCond' =&gt; 'EXT:static_info_tables:LOADED:true',</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">defaultExtras</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">In the “types” configuration of a field
				you can specify on position 4 a string of &quot;extra
				configuration&quot;. This string will be the default string of
				extra options for a field regardless of types configuration. For
				instance this can be used to create an RTE field without having
				to worry about special configuration in “types” config.</P>
				<P CLASS="western">This is also the way by which you can enable
				the RTE for FlexForm fields.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example value:</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">richtext[cut|copy|paste|formatblock|textcolor|bold|italic|underline|left|center|right|orderedlist|unorderedlist|outdent|indent|link|table|image|line|chMode]:rte_transform[mode=ts_css|imgpath=uploads/tx_mininews/rte/]</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<PRE CLASS="western">


</PRE><H3 CLASS="western">
<A NAME="4.2.5.['columns'][fieldname]['config'] / TYPE: &quot;input&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;input&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
type &quot;input&quot; generates an &lt;input&gt; field, possibly
with additional features applied.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m1aeb50d0.png" NAME="Graphic10" ALIGN=LEFT WIDTH=521 HEIGHT=197 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=174*>
	<COL WIDTH=17*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=7%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><I>[Must be set to &quot;input&quot;]</I></P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">size</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Abstract value for the width of the &lt;input&gt;
				field. To set the input field to the full width of the form area,
				use the value 48. Default is 30.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">max</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Value for the &quot;maxlength&quot; attribute
				of the &lt;input&gt; field. 
				</P>
				<P CLASS="western">If the form element edits a varchar(40) field
				in the database you should also set this value to 40.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">default</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The default value</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">eval</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">list of keywords</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Configuration of field evaluation.</P>
				<P CLASS="western">Some of these evaluation keywords will trigger
				a JavaScript pre-evaluation in the form. Other evaluations will
				be performed in the backend.</P>
				<P CLASS="western">The eval-functions will be executed in the
				list-order. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Keywords:</P>
				<UL>
					<LI><P CLASS="western"><B>required</B> : A non-empty value is
					required in the field (otherwise the form cannot be saved).</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>trim</B> :
					The value in the field will have whitespaces around it trimmed
					away.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>date</B> :
					The field will evaluate the input as a date, automatically
					converting the input to a UNIX-time in seconds. The display will
					be like &quot;12-8-2003&quot; while the database value stored
					will be &quot;1060639200&quot;.</P>
					<LI><P CLASS="western"><SPAN STYLE="font-style: normal"><B>datetime</B></SPAN><SPAN STYLE="font-style: normal">
					: The field will evaluate the input as a date with time
					(detailed to hours and minutes), automatically converting the
					input to a UNIX-time in seconds. The display will be like &quot;16:32
					12-8-2003&quot; while the database value will be &quot;1060698720&quot;.</SPAN></P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>time</B> :
					The field will evaluate the input as a timestamp in seconds for
					the current day (with a precision of minutes). The display will
					be like &quot;23:45&quot; while the database will be &quot;85500&quot;.</P>
					<LI><P CLASS="western"><SPAN STYLE="font-style: normal"><B>timesec</B></SPAN><SPAN STYLE="font-style: normal">
					: The field will evaluate the input as a timestamp in seconds
					for the current day (with a precision of seconds). The display
					will be like &quot;23:45:13&quot; while the database will be
					&quot;85513&quot;.</SPAN></P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>year</B> :
					Evaluates the input to a year between 1970 and 2038. If you need
					any year, then use &quot;int&quot; evaluation instead.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>int</B> :
					Evaluates the input to an integer. 
					</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>upper</B> :
					Converts to uppercase (only A-Z plus a selected set of Western
					European special chars).</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>lower</B> :
					Converts the string to lowercase (only A-Z plus a selected set
					of Western European special chars).</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>alpha</B> :
					Allows only a-zA-Z characters.</P>
					<LI><P CLASS="western"><SPAN STYLE="font-style: normal"><B>num</B></SPAN><SPAN STYLE="font-style: normal">
					: </SPAN>Allows only 0-9 characters in the field.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>alphanum</B>
					: Same as &quot;alpha&quot; but allows also &quot;0-9&quot;</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>alphanum_x</B>
					: Same as &quot;alphanum&quot; but allows also &quot;_&quot; and
					&quot;-&quot; chars.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>nospace</B>
					: Removes all occurrences of space characters (chr(32))</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>md5</B> :
					Will convert the inputted value to the md5-hash of it (The
					JavaScript MD5() function is found in typo3/md5.js)</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>is_in</B> :
					Will filter out any character in the input string which is <I>not</I>
					found in the string entered in the key &quot;is_in&quot; (see
					below). 
					</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>password</B>
					: Will show &quot;*******&quot; in the field after entering the
					value and moving to another field. Thus passwords can be
					protected from display in the field. <B>Notice</B> that the
					value during <I>entering it</I> is visible!</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>double2</B>
					: Converts the input to a floating point with 2 decimal
					positions, using the &quot;.&quot; (period) as the decimal
					delimited (accepts also &quot;,&quot; for the same).</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>unique</B>
					: Requires the field to be unique for the <I>whole </I>table.
					(Evaluated on the server only). NOTICE: When selecting on
					unique-fields, make sure to select using “AND pid&gt;=0”
					since the field CAN contain duplicate values in other versions
					of records (always having PID = -1). This also means that if you
					are using versioning on a table where the unique-feature is used
					you cannot set the field to be truely unique in the database
					either!</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>uniqueInPid</B>
					: Requires the field to be unique for the current PID (among
					other records on the same page). (Evaluated on the server only)</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>tx_* </B>:
					User defined form evaluations. See below.</P>
				</UL>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">All the above
				evaluations (unless noted) are done by JavaScript with the
				functions found in the script t3lib/jsfunc.evalfield.js</P>
				<P CLASS="western" STYLE="font-style: normal">&quot;(TCE)&quot; 
				means the evaluation is done in the TCE on the server. The class
				used for this is t3lib_TCEmain.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">Setting the field to evaluate the input to a
				date returned to the database in UNIX-time (seconds)</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'date'</FONT><FONT COLOR="#007700">,</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000">Trimming the value for white space before
				storing in the database (important for varchar fields!)</FONT></P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'trim'</FONT><FONT COLOR="#007700">,</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000">By this configuration the field will be
				stripped for any space characters, converted to lowercase, only
				accepted if filled in and on the server the value is required to
				be unique for all records from this table:</FONT></P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'nospace,lower,unique,required'</FONT></PRE><P CLASS="western">
				<B>User defined form evaluations:</B></P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
				can supply your own form evaluations in an extension by creating
				a class with two functions, one which returns the JavaScript code
				for client side validation called returnFieldJS() and one which
				does the server side validation called evaluateFieldValue().</FONT></P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
				function evaluateFieldValue() has 3 arguments:</FONT></P>
				<UL>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>$value</B>
					:The field value to be evaluated.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>$is_in</B>
					: The is_in value of the field configuration from TCA.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><B>&amp;$set</B>
					: Boolean defining if the value is written to the database or
					not. Must be passed by reference and changed if needed.</P>
				</UL>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Example:</FONT></P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">class.tx_exampleextraevaluations_extraeval1.php:</FONT></P>
				<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">&lt;?php</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">class </FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">tx_exampleextraevaluations_extraeval1 </FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">{</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">	function </FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">returnFieldJS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">() {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">		return </FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#dd0000">			return value + &quot; [added by JS]&quot;;</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#dd0000">		'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">	}</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">	function </FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">evaluateFieldValue</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">(</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$value</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">, </FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$is_in</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">, &amp;</FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$set</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">) {</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">		return </FONT></CODE><CODE CLASS="western"><FONT COLOR="#0000bb">$value</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">.</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">' [added by PHP]'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">	}</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#007700">}</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000"><CODE CLASS="western"><FONT COLOR="#0000bb">?&gt;</FONT></CODE></FONT></P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">ext_localconf.php</FONT></P>
				<PRE CLASS="western"><CODE CLASS="western"><FONT COLOR="#0000bb">&lt;?php</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#ff8000">// here we register &quot;tx_exampleextraevaluations_extraeval1&quot;</FONT></CODE>
<CODE CLASS="western"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">[</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'tce'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'formevals'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">][</FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'tx_exampleextraevaluations_extraeval1'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">] = </FONT></CODE><CODE CLASS="western"><FONT COLOR="#dd0000">'EXT:example_extraevaluations/ class.tx_exampleextraevaluations_extraeval1.php'</FONT></CODE><CODE CLASS="western"><FONT COLOR="#007700">;</FONT></CODE></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000"><CODE CLASS="western"><FONT COLOR="#0000bb">?&gt;</FONT></CODE></FONT></P>
				<P CLASS="western"><FONT COLOR="#000000"><SPAN STYLE="background: transparent">Feel
				free to download the </SPAN><A HREF="http://typo3.org/fileadmin/dl/T3X_example_extraevaluations-0_4_0-z-200603260125.t3x"><SPAN STYLE="background: transparent">example
				extension</SPAN></A><SPAN STYLE="background: transparent"> as a
				T3X file.</SPAN></FONT></P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">is_in</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If the evaluation type &quot;is_in&quot; (see
				above, under key &quot;eval&quot;) is used for evaluation, then
				the characters in the input string should be found in this string
				as well.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">checkbox</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">If defined (even empty), a checkbox is placed
				<I>before</I> the input field. 
				</P>
				<P CLASS="western">If a value other than the value of 'checkbox'
				(this value) appears in the input-field the checkbox is checked.</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western">'checkbox' =&gt; '123',</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">If you set this value then entering &quot;12345&quot;
				in the field will render this:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_m7f53fc89.png" NAME="Graphic11" ALIGN=LEFT WIDTH=149 HEIGHT=35 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western">But if you either uncheck the checkbox or just
				enter the value &quot;123&quot; you will an empty input field and
				no checkbox set - however the value of the field <I>will be</I>
				&quot;123&quot;:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_77ac5e2c.png" NAME="Graphic12" ALIGN=LEFT WIDTH=149 HEIGHT=35 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This feature is useful for date-fields for
				instance. In such cases the checkbox will allow people to quickly
				remove the date setting (equal to setting the date to zero which
				actually means 1-1 1970 or something like that).</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example listing:</B></P>
				<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'input'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'8'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'max'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'20'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'date'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'checkbox'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'0'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000">Will create a field like this below.
				Checking the checkbox will insert the date of the current day.
				Unchecking the checkbox will just remove the value and silently
				sent a zero to the server (since the value of the key &quot;checkbox&quot;
				is set to &quot;0&quot;).</FONT></P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_40135f68.png" NAME="Graphic13" ALIGN=LEFT WIDTH=149 HEIGHT=35 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">range</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">An array which defines an integer range within
				which the value must be.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Keys:</B></P>
				<P CLASS="western">&quot;lower&quot;: Defines the lower integer
				value.</P>
				<P CLASS="western">&quot;upper&quot;: Defines the upper integer
				value.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">You can specify both or only one of them.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> This feature is evaluated <I>on
				the server only</I> so any regulation of the value will have
				happend after saving the form.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">Limits an integer to be within the range 10 to
				1000:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'int'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'range'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#dd0000">'lower'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'upper'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1000</FONT><FONT COLOR="#007700">),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<FONT COLOR="#000000">In this example the upper limit is set to
				the last day in year 2020 while the lowest possible value is set
				to the date of yesterday.</FONT></P>
				<PRE CLASS="western"><FONT COLOR="#000000"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'range'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'upper'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">mktime</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">12</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">31</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">2020</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'lower'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">mktime</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">date</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'m'</FONT><FONT COLOR="#007700">)-</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">date</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'d'</FONT><FONT COLOR="#007700">),</FONT><FONT COLOR="#0000bb">date</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'Y'</FONT><FONT COLOR="#007700">))</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT></PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">wizards 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">[See section later for options]</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
follows some code listings as examples:</FONT></P>
<H5 CLASS="western">Example: A &quot;date&quot; field</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the typical configuration for a date field, like &quot;starttime&quot;:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'starttime'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exclude'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.starttime'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'input'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'8'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'max'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'20'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'date'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'checkbox'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'0'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</PRE><H5 CLASS="western">
Example: A &quot;username&quot; field</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example the field is for entering a username (from &quot;fe_users&quot;).
A number of requirements are imposed onto the field, namely that it
must be unique within the page where the record is stored, must be in
lowercase and without spaces in it:</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'username'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_tca.php:fe_users.username'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'input'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'20'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'max'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'50'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'nospace,lower,uniqueInPid,required'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</PRE><H5 CLASS="western">
Example: A typical input field</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is just a very typical configuration which sets the size and a
character limit to the field. In addition the input value is trimmed
for surrounding whitespace which is a very good idea when you enter
values into varchar fields.</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'name'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exclude'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.name'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'input'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'40'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'trim'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'max'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'80'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
</PRE><H5 CLASS="western">
Example: Required values</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
the field is required to be filled in:</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_tca.php:fe_groups.title'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'input'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'20'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'max'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'20'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'eval'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'trim,required'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
</PRE><H3 CLASS="western">
<A NAME="4.2.6.['columns'][fieldname]['config'] / TYPE: &quot;text&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;text&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
field type generates a &lt;textarea&gt; field or inserts a RTE (Rich
Text Editor).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Such
a field looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m4811e2c8.png" NAME="Graphic14" ALIGN=LEFT WIDTH=480 HEIGHT=182 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=173*>
	<COL WIDTH=18*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=7%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><I>[Must be set to &quot;text&quot;]</I></P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">cols</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Abstract value for the width of the &lt;textarea&gt;
				field. To set the textarea to the full width of the form area,
				use the value 48. Default is 30.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">rows</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">The number of rows in the textarea. May be
				corrected for harmonization between browsers. Will also
				automatically be increased if the content in the field is found
				to be of a certain length, thus the field will automatically fit
				the content.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Default is 5. Max value is 20.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">wrap</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">[&quot;off&quot;, &quot;virtual&quot;]</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Determines the wrapping of the textarea field.
				There are two options:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>&quot;virtual&quot;</B>: (Default) The
				textarea will automatically wrap the lines like it would be
				expected for editing a text.</P>
				<P CLASS="western"><B>&quot;off&quot;</B>: The textarea will <I>not
				</I>wrap the lines as you would expect when editing some kind of
				code.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> If the string &quot;nowrap&quot;
				is found among options in the fields extra configuration from the
				&quot;types&quot; listing this will override the setting here to
				&quot;off&quot;.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">This configuration will create a textarea
				useful for entry of code lines since it will not wrap the lines:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;config&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;type&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;text&quot;</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;cols&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;40&quot;</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;rows&quot;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;15&quot;</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'wrap'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'off'</FONT><FONT COLOR="#007700">,</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
</PRE>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">default</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Default value</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">wizards</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">[See section later for options]</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
follows some code listings as examples:</FONT></P>
<H5 CLASS="western">Example: A quite normal field</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the typical configuration for a textare field:</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'message'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:sys_note/locallang_tca.php:sys_note.message'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'text'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'cols'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'40'</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'rows'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'15'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
</PRE><H3 CLASS="western">
<A NAME="4.2.7.['columns'][fieldname]['config'] / TYPE: &quot;check&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;check&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
type creates checkbox(es). Such elements might look like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_44f1c221.png" NAME="Graphic15" ALIGN=LEFT WIDTH=450 HEIGHT=170 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can also configure checkboxes to appear in an array:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7b8e7bec.png" NAME="Graphic16" ALIGN=LEFT WIDTH=399 HEIGHT=64 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can have between 1 and 10 checkboxes and the field type in the
database must be an integer. No matter how many checkboxes you have
each check box will correspond to a single bit in the integer value.
Even if there is only one checkbox (which in turn means that you
should theoretically check the bit-0 of values from single-checkbox
fields and not just whether it is true or false!).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=172*>
	<COL WIDTH=19*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=67%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=8%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western"><I>[Must be set to &quot;check&quot;]</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">items</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">If set, this array will create an array of
				checkboxes instead of just a single &quot;on/off&quot; checkbox.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> You can have a maximum of 10
				checkboxes in such an array and each element is represented by a
				single bit in the integer value which ultimately goes into the
				database.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">In this array each entry is itself an array
				where the first entry is the label (LS) and the second entry is a
				blank value. The value sent to the database will be an integer
				where each bit represents the state of a checkbox in this array.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'items'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'Green tomatoes'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'Red peppers'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">)</FONT>
),
</PRE>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">cols</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">How many columns the checkbox array are shown
				in.</P>
				<P CLASS="western">Range is 1-10, 1 being default.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">(Makes sense only if the 'array' key is
				defining a checkbox array)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">showIfRTE</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">If set, this field will show <I>only</I> if
				the RTE editor is enabled (which includes correct browser version
				and user-rights altogether.)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">default</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">Setting the default value of the checkbox(es).
								</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> Each bit corresponds to a check
				box (even if only one checkbox which maps to bit-0).</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">itemsProcFunc 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(function reference)</P>
			</TD>
			<TD WIDTH=67%>
				<P CLASS="western">PHP function which is called to fill /
				manipulate the array with elements.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The function/method will have an array of
				parameters passed to it (where the item-array is passed by
				reference in the key 'items'). By modifying the array of items,
				you alter the list of items. 
				</P>
				<P CLASS="western">For more information, see how user-functions
				are specified in the section about 'wizards' some pages below
				here. 
				</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
follows some code listings as examples:</FONT></P>
<H5 CLASS="western">Example: A single checkbox</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
totally unfancy checkbox:</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'personal'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:sys_note/locallang_tca.php:sys_note.personal'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'check'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
</PRE><H5 CLASS="western">
Example: A checkbox array</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is an example of a checkbox array with two checkboxes in it. The
first checkbox will have bit-0 and the second bit-1. The default
value is set to '3' which means that each checkbox will be enabled by
default (since the value three contains both bit-0 and bit-1):</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'sendOptions'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'LLL:EXT:direct_mail/locallang_tca.php:sys_dmail.sendOptions'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'check'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:direct_mail/locallang_tca.php:sys_dmail.sendOptions.I.0'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:direct_mail/locallang_tca.php:sys_dmail.sendOptions.I.1'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'3'</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7b8e7bec.png" NAME="Graphic17" ALIGN=LEFT WIDTH=399 HEIGHT=64 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="4.2.8.['columns'][fieldname]['config'] / TYPE: &quot;radio&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;radio&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Radio
buttons are seldom used, but sometimes they can be more attractive
than their more popular sisters (selector boxes). </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
you see radio buttons in action for the &quot;Filemounts&quot;
records:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_ccea20.png" NAME="Graphic18" ALIGN=LEFT WIDTH=206 HEIGHT=63 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=174*>
	<COL WIDTH=17*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=7%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><I>[Must be set to &quot;radio&quot;]</I></P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western"><I>Display / Proc.</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">items</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><B>Required.</B></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">An array of the values which can be selected.</P>
				<P CLASS="western">Each entry is in itself an array where the<I>
				first entry </I><SPAN STYLE="font-style: normal">is the </SPAN><I>title</I>
				(LS) and the <I>second entry</I> is the <I>value</I> of the radio
				button.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">See example below.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western" STYLE="font-weight: normal">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">default</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western"> mixed</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Default value.</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">itemsProcFunc 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(function reference)</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">PHP function which is called to fill /
				manipulate the array with elements.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The function/method will have an array of
				parameters passed to it (where the item-array is passed by
				reference in the key 'items'). By modifying the array of items,
				you alter the list of items. 
				</P>
				<P CLASS="western">For more information, see how user-functions
				are specified in the section about 'wizards' some pages below
				here. 
				</P>
			</TD>
			<TD WIDTH=7%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">Example: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">An
example of radio buttons configuration from &quot;sys_filemounts&quot;
(see above):</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'base'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'BASE'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'radio'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'absolute (root) / '</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'relative ../fileadmin/'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">0</FONT>
<FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H3 CLASS="western"><A NAME="4.2.9.['columns'][fieldname]['config'] / TYPE: &quot;select&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;select&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Selectors
boxes are very common elements in forms. By the &quot;select&quot;
type you can create selector boxes. In the most simple form this is a
list of values among which you can chose only one. In that way it is
similar to the &quot;radio&quot; type above.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">	</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7e7f1d37.png" NAME="Graphic2" ALIGN=LEFT WIDTH=98 HEIGHT=73 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
is also possible to configure more complex types where the values
from from a look up in another database table and you can even have a
type where more than one value can be selected in any given order you
like.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><IMG SRC="12_html_m7378e44c.png" NAME="Graphic52" ALIGN=MIDDLE WIDTH=489 HEIGHT=170 BORDER=0></FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=56*>
	<COL WIDTH=28*>
	<COL WIDTH=153*>
	<COL WIDTH=19*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=60%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=8%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>[Must be set to &quot;select&quot;]</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">items</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Contains the elements for the selector box
				unless the property &quot;foreign_table&quot; or &quot;special&quot;
				has been set in which case automated values are set in addition
				to any values listed in this array.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Each element in this array is in itself an
				array where:</P>
				<UL>
					<LI><P CLASS="western">First value is the <B>item label </B>(LS)</P>
					<LI><P CLASS="western">Second value is the <B>value of the item</B><SPAN STYLE="font-weight: normal">.</SPAN></P>
					<P CLASS="western" STYLE="font-weight: normal">The special value
					&quot;--div--&quot; is used to insert a non-selectable value
					that appears as a divider label in the selector box (only for
					maxitems &lt;=1)</P>
					<P CLASS="western"><SPAN STYLE="font-weight: normal">Values mus</SPAN>t
					not contain &quot;,&quot; (comma) and &quot;|&quot; (vertical
					bar). If you want to use “authMode” you should also refrain
					from using “:” (colon).</P>
					<LI><P CLASS="western">Third value is an optional icon.<BR>Default
					from &quot;t3lib/gfx/&quot; but if prepended with &quot;../&quot;
					it will be taken from any PATH_site directory. You can also
					prepend the files &quot;ext/&quot; and &quot;sysext/&quot; if
					they are in global extension directories. And finally - taking
					precedence over any other value - files prepended with &quot;EXT:&quot;
					will be found in the respective extension.</P>
					<LI><P CLASS="western">Forth value is an optional description
					text. This is only shown when the list is shown by renderMode
					&quot;checkbox&quot;.</P>
					<LI><P CLASS="western">Fifth value is reserved as keyword
					“EXPL_ALLOW” or “EXPL_DENY”. See option “authMode” /
					“individual” for more details.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">A configuration could look like this:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'English'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'Danish'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">'dk'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'German'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">'de'</FONT><FONT COLOR="#007700">),</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;)
</PRE><P CLASS="western">
				A more complex example could be this (includes icons):</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">'items'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:k1'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">'selicons/k1.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:k2'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">'selicons/k2.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:k3'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">'selicons/k3.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700">)</FONT></PRE>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">itemsProcFunc 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(function reference)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">PHP function which is called to fill /
				manipulate the array with elements.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The function/method will have an array of
				parameters passed to it (where the item-array is passed by
				reference in the key 'items'). By modifying the array of items,
				you alter the list of items. 
				</P>
				<P CLASS="western">For more information, see how user-functions
				are specified in the section about 'wizards' some pages below
				here. 
				</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">selicon_cols</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer (&gt;0)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">The number of rows in which to position the
				iconimages for the selectorbox. Default is to render as many
				columns as iconimages.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">suppress_icons</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Lets you disable display of icons. Can be nice
				to do if icons are coming from foreign database records and you
				don't want them.</P>
				<P CLASS="western">Set it to &quot;IF_VALUE_FALSE&quot; if you
				<I>only</I> want to see icons when a value (non-blank, non-zero)
				is selected. Otherwise no icons are shown.</P>
				<P CLASS="western">Set it to &quot;ONLY_SELECTED&quot; if you
				<I>only</I> want to see an icon for the selected item.</P>
				<P CLASS="western">Set to &quot;1&quot; (true) if you never want
				any icons.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">iconsInOptionTags</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, icons will appear in the &lt;option&gt;
				tags of the selector box. This feature seems only to work in
				Mozilla.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">noIconsBelowSelect</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Disables the rendering of the icons after the
				select even when icons for the &lt;select&gt;s &lt;option&gt;
				tags were supplied and iconsInOptionTags was set.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_table 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(tablename)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">The item-array will be filled with records
				from the table defined here. The table must be configured in
				$TCA.</P>
				<P CLASS="western">See the other related options below.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc. / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_table_where</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(SQL WHERE clause)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">The items from &quot;foreign_table&quot; are
				selected with this WHERE-clause. 
				</P>
				<P CLASS="western">The table is joined with the &quot;pages&quot;-table
				and items are selected only from pages where the user has read
				access! (Not checking DB mount limitations!)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="western">AND [foreign_table].pid=0 ORDER BY [foreign_table].sorting</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western"><B>Markers:</B></P>
				<P CLASS="western">You can use markers in the WHERE clause: 
				</P>
				<UL>
					<LI><P CLASS="western">###REC_FIELD_[<I>fieldname</I>]###</P>
					<LI><P CLASS="western">###THIS_UID### - is current element uid
					(zero if new).</P>
					<LI><P CLASS="western">###CURRENT_PID### - is the current page
					id (pid of the record).</P>
					<LI><P CLASS="western">###STORAGE_PID###</P>
					<LI><P CLASS="western">###SITEROOT###</P>
					<LI><P CLASS="western">###PAGE_TSCONFIG_ID### -  a value you can
					set from Page TSconfig dynamically.</P>
					<LI><P CLASS="western">###PAGE_TSCONFIG_IDLIST### -  a value you
					can set from Page TSconfig dynamically.</P>
					<LI><P CLASS="western">###PAGE_TSCONFIG_STR### -  a value you
					can set from Page TSconfig dynamically.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The markers are preprocessed so that the value
				of CURRENT_PID and PAGE_TSCONFIG_ID are always integers (default
				is zero), PAGE_TSCONFIG_IDLIST will always be a comma-separated
				list of integers (default is zero) and PAGE_TSCONFIG_STR will be
				addslashes'ed before substitution (default is blank string).</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc. / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_table_prefix</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(LS)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Label prefix to the title of the records from
				the foreign-table (LS).</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_table_loadIcons 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, then the icons for the records of the
				foreign table are loaded and presented in the form. 
				</P>
				<P CLASS="western">This depends on the 'selicon_field' of the
				foreign tables [ctrl] section being configured.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">neg_foreign_table</P>
				<P CLASS="western">neg_foreign_table_where</P>
				<P CLASS="western">neg_foreign_table_prefix</P>
				<P CLASS="western">neg_foreign_table_loadIcons</P>
				<P CLASS="western">neg_foreign_table_imposeValueField</P>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">[mixed]</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Four options corresponding to the
				'foreign_table'-keys but records from this table will be
				referenced by <I>negative</I> uid-numbers (unless if MM is
				configured in which case it works like the group-type). 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">'neg_foreign_table' is active only if
				'foreign_table' is defined also.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display /  Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">fileFolder</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Specifying a folder from where files are added
				to the item array.</P>
				<P CLASS="western">Specify the folder relative to the PATH_site,
				possibly using the prefix &quot;EXT:&quot; to point to an
				extension folder.</P>
				<P CLASS="western">Files from the folder is selected recursively
				to the level specified by &quot;fileFolder_recursions&quot; (see
				below) and only files of the extension defined by
				&quot;fileFolder_extList&quot; is selected (see below).</P>
				<P CLASS="western">Only the file reference relative to the
				&quot;fileFolder&quot; is stored.</P>
				<P CLASS="western">If the files are images (gif,png,jpg) they
				will be configured as icons (third parameter in items array).</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western" STYLE="font-weight: normal"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fileFolder' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'EXT:cms/tslib/media/flags/'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fileFolder_extList' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'png,jpg,jpeg,gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fileFolder_recursions' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'selicon_cols' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">8</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'minitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">)</FONT></PRE>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">fileFolder_extList</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">List of extensions to select. If blank, all
				files are selected. Specify list in lowercase.</P>
				<P CLASS="western">See &quot;t3lib_div::getAllFilesAndFoldersInPath()&quot;</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">fileFolder_recursions</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Depth of directory recursions. Default is 99.
				Specify in range from 0-99. 
				</P>
				<P CLASS="western">0 (zero) means no recursion into
				subdirectories.</P>
				<P CLASS="western">See &quot;t3lib_div::getAllFilesAndFoldersInPath()&quot;</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">allowNonIdValues</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><B>If &quot;foreign_table&quot; is enabled:</B></P>
				<P CLASS="western">If set, then values which are not integer ids
				will be allowed. May be needed if you use itemsProcFunc or just
				enter additional items in the items array to produce some
				string-value elements for the list.</P>
				<P CLASS="western">Notice: If you mix non-database relations with
				database relations like this, DO NOT use integers for values and
				DO NOT use &quot;_&quot; (underscore) in values either!</P>
				<P CLASS="western">Notice: Will not work if you also use &quot;MM&quot;
				relations!</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">default</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Default value.</P>
				<P CLASS="western">If empty, the first element in the items array
				is selected.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">dontRemapTablesOnCopy</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">(See same feature for type=&quot;group&quot;,
				internal_type=&quot;db&quot;) 
				</P>
				<P CLASS="western">Set it to the exact same value as
				&quot;foreign_table&quot; if you don't want values to be remapped
				on copy.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">rootLevel</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, the &quot;foreign_table_where&quot;
				will be ignored and a &quot;pid=0&quot; will be added to the
				query to select only records from root level of the page tree.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(table name)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Means that the relation to the records of
				&quot;foreign_table&quot; / &quot;new_foreign_table&quot; is done
				with a M-M relation with a third &quot;join&quot; table. 
				</P>
				<P CLASS="western">That table has three columns as a minimum: 
				</P>
				<UL>
					<LI><P CLASS="western"><I>uid_local, uid_foreign</I> for uids
					respectively. 
					</P>
					<LI><P CLASS="western"><I>sorting</I> is a required field used
					for ordering the items</P>
					<LI><P CLASS="western"><I>sorting_foreign</I> is required if the
					relation is bidirectional (see description and example below
					table)</P>
					<LI><P CLASS="western"><I>tablenames</I> is used if multiple
					tables are allowed in the relation.</P>
					<LI><P CLASS="western"><I>uid</I>  (autoincremented and PRIMARY
					KEY) may be used if you need the “multiple” feature (which
					allows the same record to be references multiple times in the
					box. See “MM_hasUidField”</P>
					<LI><P CLASS="western">Other fields may exist, in particular if
					MM_match_fields is involved in the set up.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Example SQL #1 (most simple MM table):</P>
				<PRE CLASS="table-contents/pre-western">CREATE TABLE user_testmmrelations_one_rel_mm (
  uid_local int(11) DEFAULT '0' NOT NULL,
  uid_foreign int(11) DEFAULT '0' NOT NULL,
  sorting int(11) DEFAULT '0' NOT NULL,
  
  KEY uid_local (uid_local),
  KEY uid_foreign (uid_foreign)
);</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">Example SQL #2 (Advanced with UID field,
				“ident” used with MM_match_fields and sorting_foreign for
				bidirectional MM relations)</P>
				<PRE CLASS="table-contents/pre-western">#
# Table structure for table 'user_testmmrelations_two_rel_mm'
# 
#
CREATE TABLE user_testmmrelations_two_rel_mm (
  uid int(11) NOT NULL auto_increment,
  uid_local int(11) DEFAULT '0' NOT NULL,
  uid_foreign int(11) DEFAULT '0' NOT NULL,
  tablenames varchar(30) DEFAULT '' NOT NULL,
  sorting int(11) DEFAULT '0' NOT NULL,
  sorting_foreign int(11) DEFAULT '0' NOT NULL,
  ident varchar(30) DEFAULT '' NOT NULL,

  KEY uid_local (uid_local),
  KEY uid_foreign (uid_foreign),
  PRIMARY KEY (uid),
);</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">The fieldname of the config is not used for
				data-storage anymore but rather it's set to the number of records
				in the relation on each update, so the field should be an
				integer.</P>
				<P CLASS="western">Notice: Using MM relations you can ONLY store
				real relations for foreign tables in the list - no additional
				string values or non-record values.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>MM relations and flexforms</B></P>
				<P CLASS="western" STYLE="font-weight: normal">MM relations has
				been tested to work with flexforms if not in a repeated element
				in a section. See example below.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_opposite_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(field name)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If you want to make an mm relation editable
				from the foreign side (bidirectional) of the relation as well,
				you need to set MM_opposite_field on the foreign side to the
				fieldname on the local side.</P>
				<P CLASS="western">E.g. if the field &quot;companies.employees&quot;
				is your local side and you want to make the same relation
				editable from the foreign side of the relation in a field called
				persons.employers, you would need to set the MM_opposite_field
				value of the TCA configuration of the persons.employers field to
				the string &quot;employees&quot;.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><I>Notice: Bidrectional references only gets
				registered once on the native side in sys_refindex</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_match_fields</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Array of field=&gt;value pairs to both insert
				and match against when writing/reading MM relations</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_insert_fields</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Array of field=&gt;value pairs to insert when
				writing new MM relations</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_table_where</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (SQL WHERE)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Additional where clause used when reading MM
				relations.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_hasUidField</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If the “multiple” feature is used with MM
				relations you MUST set this value to true and include a UID
				field! Otherwise sorting and removing relations will be buggy.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">special</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(any of keywords)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">This configures the selector box to fetch
				content from some predefined internal source. These are the
				possibilities:</P>
				<UL>
					<LI><P CLASS="western"><B>tables </B>- the list of TCA tables is
					added to the selector (excluding &quot;adminOnly&quot; tables).</P>
					<LI><P CLASS="western"><B>pagetypes</B> - all  &quot;doktype&quot;-values
					for the &quot;pages&quot; table are added.</P>
					<LI><P CLASS="western"><B>exclude</B> - the list of
					&quot;excludeFields&quot; as found in $TCA is added.</P>
					<LI><P CLASS="western"><B>modListGroup</B> -  module-lists added
					for groups.</P>
					<LI><P CLASS="western"><B>modListUser</B> -  module-lists added
					for users.</P>
					<LI><P CLASS="western"><B>explicitValues</B> – List values
					that require explicit permissions to be allowed or denied. (See
					“authMode” directive for the “select” type).</P>
					<LI><P CLASS="western"><B>languages</B> – List system
					languages (sys_language records from page tree root + Default
					language)</P>
					<LI><P CLASS="western"><B>custom</B> – Custom values set by
					backend modules (see TYPO3_CONF_VARS[BE][customPermOptions])</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">As you might have guessed these options are
				used for backend user management and pretty worthless for most
				other purposes.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">size</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Height of the selectorbox in TCEforms.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">autoSizeMax</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, then the height of multiple-item
				selector boxes (maxitem &gt; 1) will automatically be adjusted to
				the number of selected elements, however never less than &quot;size&quot;
				and never larger than the integer value of &quot;autoSizeMax&quot;
				itself (takes precedence over &quot;size&quot;). So &quot;autoSizeMax&quot;
				is the maximum height the selector can ever reach.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">selectedListStyle</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, this will override the default style
				of the selector box with selected items (which is “width:200px”).</P>
				<P CLASS="western">Applies for when maxitems is &gt; 1</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">itemListStyle</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, this will override the default style
				of the selector box with available items to select (which is
				“width:200px”).</P>
				<P CLASS="western">Applies for when maxitems is &gt; 1</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">renderMode</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (any of keywords)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">(Only for maxitems &gt; 1)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Renders the list of multiple options as either
				a list of checkboxes or as a selector box with multiple choices. 
				</P>
				<P CLASS="western">The data type is fully compatible with an
				ordinary multiple element list except that duplicate values
				cannot be represented for obvious reasons (option &quot;multiple&quot;
				does not work) and the order of values is fixed.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Keywords are:</P>
				<UL>
					<LI><P CLASS="western"><B>checkbox</B> - Renders a list of
					checkboxes</P>
					<LI><P CLASS="western"><B>singlebox</B> - Renders a single
					multiple selector box</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">When renderMode is “checkbox” or
				“singlebox” all values selected by “foreign_table”
				settings will automatically have their icon part in the items
				array set to the record icon (unless overruled by “selicon_field”
				of that table).</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> “maxitems” and “minitems”
				are not enforced in the browser for any of the render modes here!
				However they will be on the server. It is recommended to set
				“minitems” to zero and “maxitems” to a very large number
				exceeding the possible number of values you can select (for
				instance set it to 1000 or so).</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">multiple</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Allows the <I>same item</I> more than once in
				a list.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If used with bidirectional MM relations it
				must be set for both the native and foreign field configuration.
				Also, with MM relations in general you must use a UID field in
				the join table, see description for “MM”</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">maxitems</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer &gt; 0</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Maximum number of items in the selector box.
				(Default = 1)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">minitems</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer &gt; 0</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Minimum number of items in the selector box.
				(Default = 0)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">wizards</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">[See section later for options]</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">disableNoMatchingValueElement</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, then no element is inserted if the
				current value does not match any of the existing elements. A
				corresponding options is also found in Page TSconfig.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">authMode</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string keyword</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Authorization mode for the selector box.
				Keywords are:</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western"><B>explicitAllow</B> – All static
					values from the “items” array of the selector box will be
					added to a matrix in the backend user configuration where a
					value <SPAN STYLE="font-style: normal">must be explicitly
					</SPAN>selected if a user (other than admin) is allowed to use
					it!)</P>
					<LI><P CLASS="western"><B>explicitDeny</B> – All static values
					from the “items” array of the selector box will be added to
					a matrix in the backend user configuration where a value <SPAN STYLE="font-style: normal">must
					be explicitly </SPAN>selected if a user should be denied access.</P>
					<LI><P CLASS="western"><B>individual</B> – State is
					individually set for each item in the selector box. This is done
					by the keywords “<B>EXPL_ALLOW</B>” and “<B>EXPL_DENY</B>”
					entered at the 5. position in the item array (see “items”
					configuration above). Items without any of these keywords kan be
					selected as usual without any access restrictions applied.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> The authentication modes will
				work only with values that are statically present in the “items”
				configuration. Any values added from foreign tables, file folder
				or by user processing will <I>not</I> be configurable and the
				evaluation of such values is not guaranteed for!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>maxitems &gt; 1</B></P>
				<P CLASS="western">“authMode” works also for selector boxes
				with maxitems &gt; 1. In this case the list of values is
				traversed and each value is evaluated. Any disallowed values will
				be removed.</P>
				<P CLASS="western">If all submitted values turns out to be
				removed the result will be that the field is not written –
				basically leaving the old value. For maxitems &lt;=1 (single
				value) this means that a non-allowed value is just not written.
				For multiple values (maxitems &gt;1) it depends on whether any
				elements are left in the list after evaluation of each value.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">authMode_enforce</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string keyword</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Various additional enforcing options for
				authMode.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Keywords are:</P>
				<UL>
					<LI><P CLASS="western"><B>strict</B> - If set, then permission
					to edit the record will be granted only if the “authMode”
					evaluates OK. The default is that a record having an authMode
					configured field with a “non-allowed” value can be edited –
					just the value of the authMode field cannot be set to an
					unallowed value. <BR><B>Notice:</B> This works only when
					maxitems &lt;=1 (and no MM relations) since the “raw”  value
					in the record is all that is evaluated!</P>
				</UL>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">exclusiveKeys</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (list of)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">List of keys that exclude any other keys in a
				select box where multiple items could be selected.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">&quot;Show at any login&quot; of &quot;fe_groups&quot;
				(tables &quot;pages&quot; and &quot;tt_content&quot;) is an
				example where such a configuration is used.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">localizeReferencesAtParentLocalization</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Defines whether referenced records should be
				localized when the current record gets localized (mostly used in
				Inline Relational Record Editing)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
follow some code listings as examples:</FONT></P>
<H5 CLASS="western">Example - A simple selector box: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the most simple selector box you can get. It contains a static set
of options you can select from:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7e7f1d37.png" NAME="Graphic53" ALIGN=LEFT WIDTH=136 HEIGHT=101 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Test'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'Option 1'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'Option 2'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'2'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'__Final option:__'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'--div--'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'Option 3'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'3'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  11:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  12:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  13:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In the configuration the elements are
configured by the &quot;items&quot; array. Each entry in the array
contains pairs of label/value. Notice line 9; this entry is a
<I>divider</I>. This value is not possible to select - it only helps
to divide the list of options with a label indicating a new section.</FONT></P>
<H5 CLASS="western">Example - A multiple value selector with contents
from a database table</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7378e44c.png" NAME="Graphic54" ALIGN=LEFT WIDTH=489 HEIGHT=170 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'include_static' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Include static:'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'static_template'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table_where' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'ORDER BY static_template.title DESC'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">20</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">''</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  11:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This shows a simple configuration where the
values are fetched from a foreign database table ordered by the title
(line 5-6). Notice line 7 setting the size to 10 (the height of the
selector boxes) and line 8 setting the maximum number of values you
can select to 20.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
value stored in the database will be a <I>comma list of uid numbers</I>
of the records selected.</FONT></P>
<H5 CLASS="western">Example - Using a look up table for single value</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this case the selector box looks up languages in a static table from
an extension &quot;static_info_tables&quot;:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m26e7dce5.png" NAME="Graphic55" ALIGN=LEFT WIDTH=192 HEIGHT=286 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration looks like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'static_lang_isocode' </FONT><FONT COLOR="#007700">=&gt; Array (&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exclude' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_tca.php:sys_language.isocode'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'displayCond' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'EXT:static_info_tables:LOADED:true'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   9:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'static_languages'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table_where' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'AND static_languages.pid=0 ORDER BY static_languages.lg_name_en'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'minitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  15:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  16:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice how line 4 will set a condition that
this box should only be displayed <I>if</I> the extension it belongs
to exists! That is very important since otherwise the table will not
be in the database and we will get SQL errors.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 11 we see how a condition to the look up apply. Finally in line
12 and 14 it is explicitly configured that the selector box can
contain only one value (line 14) and therefore should be only one row
high (line 12)</FONT></P>
<H5 CLASS="western">Example - Mixing lookup values with static values</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the well known selector for frontend user group access
restriction. It contains all user groups the backend user can access
(here: &quot;group&quot;) <I>plus</I> additional static values (&quot;Hide
at login&quot;, &quot;Show at any login&quot;) and a divider
(&quot;__Usergroups:__&quot;)</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m2fcf86ae.png" NAME="Graphic56" ALIGN=LEFT WIDTH=164 HEIGHT=117 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration looks like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'fe_group' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exclude' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.fe_group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.hide_at_login'</FONT><FONT COLOR="#007700">, -</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.any_login'</FONT><FONT COLOR="#007700">, -</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.usergroups'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'--div--'</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  11:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'fe_groups'</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  14:</FONT> ),</FONT></PRE><H5 CLASS="western">
Example - Adding icons for selection</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
example shows how you can add icons to the selection choice very
easily. Each icon is associated with an option in the selector box
and clicking the icon will automatically select the option in the
selector box and more the black arrow:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m1ed3f5b6.png" NAME="Graphic57" ALIGN=LEFT WIDTH=248 HEIGHT=100 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration looks like this.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'imageorient' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.0'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/above_center.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.1'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/above_right.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.2'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/above_left.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.3'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">8</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/below_center.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.4'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">9</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/below_right.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.5'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/below_left.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.6'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">17</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/intext_right.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.7'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">18</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/intext_left.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.8'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'--div--'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.9'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">25</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/intext_right_nowrap.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:imageorient.I.10'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">26</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'selicons/intext_left_nowrap.gif'</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  17:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'selicon_cols' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">6</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'8'</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  21:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice how each label/value pair contains an
icon reference on the third position and how line 18 configures that
the icons should be arranged in 6 columns.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Also,
notice the default value (line 19) set to 8 meaning that the option
with value &quot;8&quot; (line 9) will be selected by default. </FONT>
</P>
<H5 CLASS="western">Example - Adding wizards</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
example shows how wizards can be added to a selector box. The three
typical wizards for a selector box is edit, add and list items. This
enables the user to create new items in the look up table while being
right at the selector box where he want to select them:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1a2bcb09.png" NAME="Graphic58" ALIGN=LEFT WIDTH=504 HEIGHT=83 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration is rather long and looks like this (notice, that
wizards are not exclusively available for selector boxes!)</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'file_mountpoints' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'File Mounts:'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'sys_filemounts'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table_where' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">' AND sys_filemounts.pid=0 ORDER BY sys_filemounts.title'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'3'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'10'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'autoSizeMax' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">10</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'show_thumbs' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'_PADDING' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'_VERTICAL' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'edit' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'popup'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Edit filemount'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_edit.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'edit2.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'popup_onlyOpenIfSelected' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'JSopenParams' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'height=350,width=580,status=0,menubar=0,scrollbars=1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  21:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  22:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'add' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  23:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  24:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Create new filemount'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  25:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'add.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  26:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  27:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'sys_filemounts'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  28:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  29:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'setValue' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'prepend'</FONT></FONT>
<FONT COLOR="#000000">  30:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  31:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_add.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  32:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  33:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'list' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  34:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'List filemounts'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'list.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  37:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  38:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'sys_filemounts'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  39:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  40:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  41:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_list.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  42:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  43:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  44:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  45:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">From line 11 the configuration of the wizards
takes place. See the wizard section in this document for more
information.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
the configuration of &quot;autoSizeMax&quot; in line 9. This value
will make the height of the selector boxes adjust themselves
automatically depending on the content in them.</FONT></P>
<H5 CLASS="western">Example - User processing and advanced look ups</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example some more advanced features are used. On of them is that
the look up for other database records is limited to the PID of the
host record. In other words, all entries are records located in the
<I>same</I> page as the record we are editing here:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_12cde8eb.png" NAME="Graphic59" ALIGN=LEFT WIDTH=211 HEIGHT=264 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Configuration
looks like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   8:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'tx_templavoila_datastructure'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table_where' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'AND tx_templavoila_datastructure.pid=###CURRENT_PID### ORDER BY tx_templavoila_datastructure.uid'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'minitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'itemsProcFunc' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'tx_templavoila_handleStaticdatastructures-&gt;main'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowNonIdValues' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'suppress_icons' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'ONLY_SELECTED'</FONT><FONT COLOR="#007700">,</FONT></FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In line 10 you see how the marker
&quot;###CURRENT_PID###&quot; is used to limit the look up to the
current page id.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 14 it is also defined that the array of options should be
processed by a user defined function, namely the method &quot;main()&quot;
in the class &quot;tx_templavoila_handleStaticdatastructures&quot;.
For this to work, the class must be included during configuration
(typically in ext_localconf.php files)</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
15 configures that non-integer values are allowed. Normally values
are restricted to integers if we are dealing with database look ups.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
16 means that even if icons can be displayed for each of the records
in the look up, an icon will be displayed only for the selected
record (if any).</FONT></P>
<H5 CLASS="western">Example – Bidrectional MM relations</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
a table, “user_testmmrelations_two”, we have a field “rel”
with configured with MM relations:</FONT></P>
<PRE CLASS="western">		&quot;rel&quot; =&gt; Array (		
			&quot;exclude&quot; =&gt; 1,		
			&quot;label&quot; =&gt; &quot;Relations:&quot;,		
			&quot;config&quot; =&gt; Array (
				&quot;type&quot; =&gt; &quot;select&quot;,	
				&quot;foreign_table&quot; =&gt; &quot;user_testmmrelations_one&quot;,	
				&quot;foreign_table_where&quot; =&gt; &quot;ORDER BY user_testmmrelations_one.uid&quot;,	
				&quot;size&quot; =&gt; 10,	
				&quot;minitems&quot; =&gt; 0,
				&quot;maxitems&quot; =&gt; 10,	
				&quot;MM&quot; =&gt; &quot;user_testmmrelations_two_rel_mm&quot;,
				'MM_match_fields' =&gt; array('ident'=&gt;'table_two')
			)
		),</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
MM table is called “user_testmmrelations_two_rel_mm”, and the
field “ident” is used to match on with the word “table_two”.
Doing this enables us to use the <I>same MM</I> table for other
fields using other keywords for the “ident” field.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
another table “user_testmmrelations_one” a field called “rel2”
constitutes the foreign side of the bidirectional relation:</FONT></P>
<PRE CLASS="western">		&quot;rel2&quot; =&gt; Array (		
			&quot;label&quot; =&gt; &quot;Foreign relation:&quot;,		
			&quot;config&quot; =&gt; Array (
				&quot;type&quot; =&gt; &quot;select&quot;,	
				&quot;foreign_table&quot; =&gt; &quot;user_testmmrelations_two&quot;,	
				&quot;foreign_table_where&quot; =&gt; &quot;ORDER BY user_testmmrelations_two.uid&quot;,	
				&quot;size&quot; =&gt; 10,	
				&quot;minitems&quot; =&gt; 0,
				&quot;maxitems&quot; =&gt; 10,
				&quot;MM&quot; =&gt; &quot;user_testmmrelations_two_rel_mm&quot;,
				'MM_match_fields' =&gt; array('ident'=&gt;'table_two'),
				&quot;MM_opposite_field&quot; =&gt; &quot;rel&quot;
			)
		),</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
how in both cases “ foreign_table” points to the table name of
the other. Also they use the exact same set up except in the foreign
side case above the field “MM_opposite_field” is set to “rel”
- the name of the field in table “user_testmmrelations_two&quot;!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
SQL looks like:</FONT></P>
<PRE CLASS="western">#
# Table structure for table 'user_testmmrelations_two_rel_mm'
# 
#
CREATE TABLE user_testmmrelations_two_rel_mm (
  uid int(11) NOT NULL auto_increment,
  uid_local int(11) DEFAULT '0' NOT NULL,
  uid_foreign int(11) DEFAULT '0' NOT NULL,
  tablenames varchar(30) DEFAULT '' NOT NULL,
  sorting int(11) DEFAULT '0' NOT NULL,
  sorting_foreign int(11) DEFAULT '0' NOT NULL,
  ident varchar(30) DEFAULT '' NOT NULL,

  KEY uid_local (uid_local),
  KEY uid_foreign (uid_foreign),
  PRIMARY KEY (uid),
);</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the backend the form could look like:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1e3ab81c.png" NAME="graphics2" ALIGN=LEFT WIDTH=454 HEIGHT=223 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">So,
from a record in table two (native) there are two relations made to
records in table one.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
we look at one of the records from table one we see the relation made
from “TWO (1)”:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_22d41c7f.png" NAME="graphics3" ALIGN=LEFT WIDTH=450 HEIGHT=150 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the database it looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m3e49da92.png" NAME="graphics4" ALIGN=LEFT WIDTH=439 HEIGHT=71 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H5 CLASS="western">Example – FlexForms and MM relations</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">MM
relations can be used with flexforms. Here is an example:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_6fd5fb8c.png" NAME="graphics5" ALIGN=LEFT WIDTH=669 HEIGHT=255 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
flexform field configuration looks like this:</FONT></P>
<PRE CLASS="western">&lt;rel1&gt;
    &lt;TCEforms&gt;
        &lt;label&gt;Relation:&lt;/label&gt;
        &lt;config&gt;
            &lt;type&gt;group&lt;/type&gt;
            &lt;internal_type&gt;db&lt;/internal_type&gt;
            &lt;allowed&gt;user_testmmrelations_three&lt;/allowed&gt;
            &lt;size&gt;10&lt;/size&gt;
            &lt;minitems&gt;0&lt;/minitems&gt;
            &lt;maxitems&gt;10&lt;/maxitems&gt;
            &lt;MM&gt;user_testmmrelations_two_rel_mm&lt;/MM&gt;
            &lt;MM_match_fields&gt;
                &lt;ident&gt;table_one_flex&lt;/ident&gt;
            &lt;/MM_match_fields&gt;
            &lt;multiple&gt;1&lt;/multiple&gt;
            &lt;MM_hasUidField&gt;1&lt;/MM_hasUidField&gt;
        &lt;/config&gt;
    &lt;/TCEforms&gt;
&lt;/rel1&gt;</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">As
you can see the same element (titled “3-3 (UID-3)”) is selected
twice (the “&lt;multiple&gt;” flag has been set) – and as a
consequence &lt;MM_hasUidField&gt;1&lt;/MM_hasUidField&gt; is set as
well. In fact this configuration is <I>sharing the MM table</I> with
another field (see the previous example) so the configuration </FONT>
</P>
<PRE CLASS="western">   		&lt;MM_match_fields&gt;
                &lt;ident&gt;table_one_flex&lt;/ident&gt;
            &lt;/MM_match_fields&gt;</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">makes
sure all MM relations for this flexform field is marked with the
string “table_one_flex”.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the database the entry looks like:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_30089170.png" NAME="graphics6" ALIGN=LEFT WIDTH=669 HEIGHT=160 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(The
first two entries belong to that other field, see previous example).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Of
course you can specify a dedicated join table to the flexform instead
of sharing it.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>What
will not work in flexforms</B> is if you put MM relation fields in
elements that can get repeated, like in sections:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m4ad31477.png" NAME="graphics7" ALIGN=LEFT WIDTH=304 HEIGHT=474 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
I have added three sections and tried to add entries to each.
However, when saved the two last entries are loaded for all of them.
The result of the save was:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m24b7f867.png" NAME="graphics8" ALIGN=LEFT WIDTH=331 HEIGHT=516 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
reason is that the fields all use the same uid (that of the record)
to find the MM records. This could work when MM fields were used
outside sections of flexform fields which could only occur one time
per record, but here it's not possible. </FONT>
</P>
<H4 CLASS="western">Data format of &quot;select&quot; elements</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Since
the &quot;select&quot; element allows to store references to multiple
elements we might want to look at how these references are stored
internally. The principle is the same  as with the &quot;group&quot;
type (see below).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="4.2.10.['columns'][fieldname]['config'] / TYPE: &quot;group&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;group&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
group element in TYPO3 makes it possible to create references to
records from multiple tables in the system. This is especially useful
(compared to the &quot;select&quot; type) when records are scattered
over the page tree and requires the Element Browser to be selected.
In this example, Content Element records are attached:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m3c7ad8f.png" NAME="Graphic63" ALIGN=LEFT WIDTH=461 HEIGHT=112 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;group&quot; element It is also the element you can use to bind
files to records in TYPO3. In this case image files:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m672d0260.png" NAME="Graphic64" ALIGN=LEFT WIDTH=453 HEIGHT=135 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">One
thing to notice about attaching files is that the files are actually
moved into an internal file folder for TYPO3! It doesn't merely
create a reference to the files original position!</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=56*>
	<COL WIDTH=28*>
	<COL WIDTH=153*>
	<COL WIDTH=19*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=60%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=8%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>[Must be set to &quot;group&quot;]</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">internal_type 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><B>Required!</B></P>
				<P CLASS="western">Configures the internal type of the &quot;group&quot;
				type of element. 
				</P>
				<P CLASS="western">There are two options for a value: 
				</P>
				<UL>
					<LI><P CLASS="western">&quot;file&quot; - this will create a
					field where files can be attached to the record</P>
					<LI><P CLASS="western">“folder” - this will create a field
					where folders can be attached to the record</P>
					<LI><P CLASS="western">&quot;db&quot; - this will create a field
					where database records can be attached as references.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The default value is none of them - you must
				specify one of the values correctly!</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">allowed</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><B>For the &quot;file&quot; internal type
				(Optional): </B>
				</P>
				<P CLASS="western">A lowercase comma list of file extensions that
				are permitted. Eg. 'jpg,gif,txt'. Also see 'disallowed'. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>For the &quot;db&quot; internal type
				(Required!): </B>
				</P>
				<P CLASS="western">A comma list of tables from $TCA. 
				</P>
				<P CLASS="western">For example the value could be
				&quot;pages,be_users&quot;. 
				</P>
				<P CLASS="western">Value from these tables are always the 'uid'
				field. 
				</P>
				<P CLASS="western">First table in list is understood as the
				<I>default table</I>, if a table-name is not prepended to the
				value. 
				</P>
				<P CLASS="western">If the value is '*' then all tables are
				allowed (in this case <I>you should set &quot;prepend_tname&quot;</I>
				so all tables are prepended with their table name for sure).</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><I><SPAN STYLE="font-weight: normal">Notice</SPAN></I>,
				if the field is the foreign side of a bidirectional MM relation,
				only the first table is used and that must be the table of the
				records on the native side of the relation.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc. / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">disallowed</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-weight: normal"><I>[internal_type
				= <B>file</B> ONLY]</I></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<P CLASS="western">Default value is '*' which means that anything
				file-extension which is not allowed is denied. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you set this value (to for example
				&quot;php,php3&quot;) AND the &quot;allowed&quot; key is an empty
				string all extensions are permitted <I>except</I> &quot;.php&quot;
				and &quot;.php3&quot; files (works like the [BE][fileExtensions]
				config option). 
				</P>
				<P CLASS="western">In other words: 
				</P>
				<UL>
					<LI><P CLASS="western">If you want to permit <I>only certain
					</I>file-extensions, use 'allowed' and not disallowed. 
					</P>
					<LI><P CLASS="western">If you want to permit <I>all
					file-extensions</I> except a few, set 'allowed' to blank (&quot;&quot;)
					and enter the list of denied extensions in 'disallowed'. 
					</P>
					<LI><P CLASS="western">If you wish to <I>allow all extensions</I>
					with no exceptions, set 'allowed' to '*' and disallowed to ''</P>
				</UL>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc. / Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(table name)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Defines MM relation table to use.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Means that the relation to the files/db is
				done with a M-M relation through a third &quot;join&quot; table.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">A MM-table must have these four columns: 
				</P>
				<UL>
					<LI><P CLASS="western"><B>uid_local</B> - for the local uid.</P>
					<LI><P CLASS="western"><B>uid_foreign</B> - for the foreign uid.
					<BR>If the &quot;internal_type&quot; is &quot;file&quot; then
					the &quot;uid_foreign&quot; should be a varchar or 60 or so (for
					the filename) instead of an unsigned integer as you would use
					for the uid.</P>
					<LI><P CLASS="western"><B>tablenames</B> - is required if you
					use multitable-relations and this field must be a varchar of
					approx. 30<BR>In case of files, the tablenames field is never
					used.</P>
					<LI><P CLASS="western"><B>sorting</B> - is a required field used
					for ordering the items.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><I>see ['columns'][fieldname]['config'] /
				TYPE: &quot;select&quot; =&gt; MM for additional features.</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_opposite_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(field name)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>see ['columns'][fieldname]['config'] /
				TYPE: &quot;select&quot; =&gt; MM_opposite_field</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_match_fields</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>see ['columns'][fieldname]['config'] /
				TYPE: &quot;select&quot; =&gt; MM_match_fields</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_insert_fields</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>see ['columns'][fieldname]['config'] /
				TYPE: &quot;select&quot; =&gt; MM_insert_fields</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_table_where</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string (SQL WHERE)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>see ['columns'][fieldname]['config'] /
				TYPE: &quot;select&quot; =&gt; MM_table_where</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM_hasUidField</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>see ['columns'][fieldname]['config'] /
				TYPE: &quot;select&quot; =&gt; MM_hasUidField</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">max_size</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-weight: normal"><I>[internal_type
				= <B>file</B> ONLY]</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Files: Maximum filesize allowed in KB</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">uploadfolder</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-weight: normal"><I>[internal_type
				= <B>file</B> ONLY]</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Filefolder under PATH_site in which the files
				are stored. 
				</P>
				<P CLASS="western">Example: 'uploads' or 'uploads/pictures'</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> TYPO3 does NOT create a
				reference to the file in its original position! It makes a <I>copy</I>
				of the file into this folder and from that moment that file is
				not supposed to be manipulated from outside. Being in the upload
				folder means that files are understood as a part of the database
				content and should be managed by TYPO3 only.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">prepend_tname 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-weight: normal"><I>[internal_type
				= <B>db</B> ONLY]</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Will prepend the table name to the stored
				relations (so instead of storing &quot;23&quot; you will store
				eg. &quot;tt_content_23&quot;).</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">dontRemapTablesOnCopy 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of tables)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-weight: normal"><I>[internal_type
				= <B>db </B>ONLY]</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">A list of tables which should <I>not </I>be
				remapped to the new element uids if the field holds elements that
				are copied in the session.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">show_thumbs</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Show thumbnails for the field in the TCEform</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">size</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Height of the selectorbox in TCEforms.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">autoSizeMax</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, then the height of element listing
				selector box will automatically be adjusted to the number of
				selected elements, however never less than &quot;size&quot; and
				never larger than the integer value of &quot;autoSizeMax&quot;
				itself (takes precedence over &quot;size&quot;). So &quot;autoSizeMax&quot;
				is the maximum height the selector can ever reach.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">selectedListStyle</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, this will override the default style
				of element selector box (which is “width:200px”).</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">multiple</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Allows the <I>same item</I> more than once in
				a list.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If used with bidirectional MM relations it
				must be set for both the native and foreign field configuration.
				Also, with MM relations in general you must use a UID field in
				the join table, see description for “MM”</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">maxitems</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer &gt; 0</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Maximum number of items in the selector box.
				(Default = 1)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc?</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">minitems</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer &gt; 0</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Minimum number of items in the selector box.
				(Default = 0)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc?</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">disable_controls</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Disables subcontrols inside &quot;group&quot;
				control. Possible values are: browser (disabled browse button for
				list control), list (disables list and browse button) and upload
				(disables upload control). See example image below.</P>
				<P CLASS="western"><IMG SRC="12_html_m55c6c7f9.png" NAME="graphics9" ALIGN=LEFT VSPACE=4 WIDTH=392 HEIGHT=389 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">wizards</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">[See section later for options]</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
follow some code listings as examples:</FONT></P>
<H5 CLASS="western">Example - References to database records</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example up to 200 references to Content Elements can be made:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m3c7ad8f.png" NAME="Graphic61" ALIGN=LEFT WIDTH=461 HEIGHT=112 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'records' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:records'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'internal_type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'db'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowed' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'5'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'200'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'minitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'show_thumbs' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1'</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  12:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In line 5 it is configured that the internal
type of the group field is &quot;db&quot; and then it follows that
the allowed tables you can select from is &quot;tt_content&quot;
(Content Elements table). This could be a list of tables which means
you can mix references as you like!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
8 defines that there can be only 200 references and line 10 shows
that they should be listed with their icons to the right of the
selector box list.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this case it wouldn't have made sense to use a &quot;select&quot;
type field since the situation implies that records might be found
all over the system in a table which could potentially carry
thousands of entries. In such a case the right thing to do is to use
the &quot;group&quot; field so you have the Element Browser available
for selector of the records.</FONT></P>
<H5 CLASS="western">Example - Reference to another page</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
will often see &quot;group&quot; type fields used when a reference to
another page is required. This makes sense since pages can hardly be
presented effectively in a big selector box and thus the Element
Browser that follows the &quot;group&quot; type fields is useful. An
example is the &quot;General Record Storage page&quot; reference:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1fd3c64c.png" NAME="Graphic62" ALIGN=LEFT WIDTH=395 HEIGHT=66 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration looks like:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'storage_pid' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exclude' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_tca.php:storage_pid'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'internal_type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'db'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowed' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'minitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'show_thumbs' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1'</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  13:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice how &quot;maxitems&quot; in line 9 is
used to enforce that only one relation is created despite the ability
of the &quot;group&quot; type field to create multiple references.</FONT></P>
<H5 CLASS="western">Example - Attaching images</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
you want to attach files to a database record it is done by the group
field like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m672d0260.png" NAME="Graphic60" ALIGN=LEFT WIDTH=453 HEIGHT=135 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
how the same image has apparently been added twice - or at least the
filename was the same (&quot;DSC_7102_background.jpg&quot;). In the
second case the name has been made unique by appending &quot;_01&quot;
before the extension. This happens because all files attached to
records through the group type are copied to a location defined by
the &quot;uploadfolder&quot; setting in the configuration (see line 8
below). Therefore, having two files with identical names means one of
them must be renamed automatically.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'image' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.images'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'internal_type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'file'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowed' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'TYPO3_CONF_VARS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'GFX'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'imagefile_ext'</FONT><FONT COLOR="#007700">],</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'max_size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1000'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uploadfolder' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'uploads/pics'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'show_thumbs' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'3'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'200'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'minitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'autoSizeMax' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">40</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  14:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  15:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice how line 5 defines the &quot;group&quot;
type to contain files. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 6 the list of allowed file extensions are defined (here, taking
the default list of image types for TYPO3). </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
7 defines the maximum kb size of files allowed. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
8 defines the storage folder in the filesystem where the files are
copied to when attached to the record. The path is relative to the
PATH_site of TYPO3, one directory below PATH_typo3</FONT></P>
<H4 CLASS="western">Data format of &quot;group&quot; elements</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Since
the &quot;group&quot; element allows to store references to multiple
elements we might want to look at how these references are stored
internally. </FONT>
</P>
<H5 CLASS="western">Storage methods</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are two main methods for this:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Stored
	in a comma list</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Stored
	with a join table (MM relation)</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
default and most wide spread method is the comma list. </FONT>
</P>
<H5 CLASS="western">Reserved tokens</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the comma list the token &quot;,&quot; is used to separate the
values. In addition the pipe sign &quot;|&quot; is used to separate
value from label value when delivered to the interface. Therefore
these tokens are not allowed in reference values, not even if the MM
method is used.</FONT></P>
<H5 CLASS="western">The &quot;Comma list&quot; method (default)</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
storing references as a comma list the values are simply stored one
after another, separated by a comma in between (with no space
around!). The database field type is normally a varchar, text or blob
field in order to handle this.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">From
the examples above the four Content Elements will be stored as
&quot;26,45,49,1&quot; which is the UID values of the records. The
images will be stored as their filenames in a list like
&quot;DSC_7102_background.jpg,DSC_7181.jpg,DSC_7102_background_01.jpg&quot;.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Since
&quot;db&quot; references can be stored for multiple tables the rule
is that uid numbers <I>without</I> a table name prefixed are
implicitly from the first table in the allowed table list! Thus the
list &quot;26,45,49,1&quot; is implicitly understood as
&quot;tt_content_26,tt_content_45,tt_content_49,tt_content_1&quot;.
That would be equally good for storage, but by default the &quot;default&quot;
table name is not prefixed in the stored string. As an example, lets
say you wanted a relation to a Content Element and a Page in the same
list. That would look like &quot;tt_content_26,pages_123&quot; or
alternatively &quot;26,pages_123&quot; where &quot;26&quot;
implicitly points to a &quot;tt_content&quot; record given that the
list of allowed tables were &quot;tt_content,pages&quot;. </FONT>
</P>
<H5 CLASS="western">The &quot;MM&quot; method</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Using
the MM method you have to create a new database table which you
configure with the key &quot;MM&quot;. The table must contain a
field, &quot;uid_local&quot; which contains the reference to the uid
of the record that contains the list of elements (the one you are
editing). The &quot;uid_foreign&quot; field contains the uid of the
reference record you are referring to. In addition a &quot;tablename&quot;
and &quot;sorting&quot; field exists if there are references to more
than one table.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Lets
take the examples from before and see how they would be stored in an
MM table:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=64*>
	<COL WIDTH=58*>
	<COL WIDTH=70*>
	<COL WIDTH=64*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=25%>
				<P CLASS="western">uid_local</P>
			</TH>
			<TH WIDTH=23%>
				<P CLASS="western">uid_foreign</P>
			</TH>
			<TH WIDTH=27%>
				<P CLASS="western">tablename</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">sorting</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=23% VALIGN=BOTTOM SDVAL="26" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>26</P>
			</TD>
			<TD WIDTH=27% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>tt_content</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=23% VALIGN=BOTTOM SDVAL="45" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>45</P>
			</TD>
			<TD WIDTH=27% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>tt_content</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="2" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>2</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=23% VALIGN=BOTTOM SDVAL="49" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>49</P>
			</TD>
			<TD WIDTH=27% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>tt_content</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="3" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>3</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=23% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
			<TD WIDTH=27% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>tt_content</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="4" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>4</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Or
for &quot;tt_content_26,pages_123&quot;:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=64*>
	<COL WIDTH=58*>
	<COL WIDTH=70*>
	<COL WIDTH=64*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=25%>
				<P CLASS="western">uid_local</P>
			</TH>
			<TH WIDTH=23%>
				<P CLASS="western">uid_foreign</P>
			</TH>
			<TH WIDTH=27%>
				<P CLASS="western">tablename</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">sorting</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=23% VALIGN=BOTTOM SDVAL="26" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>26</P>
			</TD>
			<TD WIDTH=27% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>tt_content</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=23% VALIGN=BOTTOM SDVAL="123" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>123</P>
			</TD>
			<TD WIDTH=27% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>pages</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="2" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>2</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Or
for
&quot;DSC_7102_background.jpg,DSC_7181.jpg,DSC_7102_background_01.jpg&quot;:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=64*>
	<COL WIDTH=84*>
	<COL WIDTH=44*>
	<COL WIDTH=64*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=25%>
				<P CLASS="western">uid_local</P>
			</TH>
			<TH WIDTH=33%>
				<P CLASS="western">uid_foreign</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">tablename</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">sorting</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=33% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>DSC_7102_background.jpg</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>N/A</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=33% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>DSC_7181.jpg</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>N/A</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="2" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>2</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[uid of the record you are
				editing]</P>
			</TD>
			<TD WIDTH=33% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>DSC_7102_background_01.jpg</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>N/A</P>
			</TD>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="3" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>3</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">API for getting the reference list</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
t3lib/ the class &quot;t3lib_loaddbgroup&quot; is designed to
transform the stored reference list values into an array where all
uids are paired with the right table name. Also, this class will
automatically retrieve the list of MM relations. In other words, it
provides an API for getting the references from &quot;group&quot;
elements into a PHP array regardless of storage method.</FONT></P>
<H5 CLASS="western">Passing the list of references to TCEforms</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Regardless
of storage method, the reference list has to be &quot;enriched&quot;
with proper title values when given to TCEforms for rendering. In
particular this is important for database records. Passing the list
&quot;26,45,49,1&quot; will not give TCEforms a chance to render the
titles of the records.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
t3lib/ class &quot;t3lib_transferdata&quot; is doing such
transformations (among other things) and this is how the
transformation happens:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=26*>
	<COL WIDTH=81*>
	<COL WIDTH=149*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=10%>
				<P CLASS="western">Int. type:</P>
			</TH>
			<TH WIDTH=32%>
				<P CLASS="western">In Database:</P>
			</TH>
			<TH WIDTH=58%>
				<P CLASS="western">When given to TCEforms:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=10%>
				<P CLASS="western">&quot;db&quot;</P>
			</TD>
			<TD WIDTH=32%>
				<P CLASS="western">26,45,49,1</P>
			</TD>
			<TD WIDTH=58%>
				<P CLASS="western">tt_content_26|%20adfs%20asdf%20asdf%20,tt_content_45|This%20is%20a%20test%20%28copy%203%29,tt_content_49|%5B...%5D,tt_content_1|%5B...%5D</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=10%>
				<P CLASS="western">&quot;file&quot;</P>
			</TD>
			<TD WIDTH=32%>
				<P CLASS="western">DSC_7102_background.jpg,DSC_7181.jpg,DSC_7102_background_01.jpg</P>
			</TD>
			<TD WIDTH=58%>
				<P CLASS="western">DSC_7102_background.jpg|DSC_7102_background.jpg,DSC_7181.jpg|DSC_7181.jpg,DSC_7102_background_01.jpg|DSC_7102_background_01.jpg</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
syntax is:</FONT></P>
<PRE CLASS="western">[ref. value]|[ref. label rawurlencoded],[ref. value]|[ref. label rawurlencoded],....</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Values
are transferred back to the database as a comma separated list of
values without the labels but if labels are in the value they are
automatically removed.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Alternatively
you can also submit each value as an item in an array; TCEmain will
detect an array of values and implode it internally to a comma list.
(This is used for the &quot;select&quot; type, in renderMode
&quot;singlebox&quot; and &quot;checkbox&quot;).</FONT></P>
<H5 CLASS="western">Managing file references</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
a new file is attached to a record the TCE will detect the new file
based on whether it has a path prefixed or not. New files are copied
into the upload folder that has been configured and the final value
list going into the database will contain the new filename of the
copy.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
images are removed from the list that is detected by simply comparing
the original file list with the one submitted. Any files not listed
anymore are deleted.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Examples:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=36*>
	<COL WIDTH=69*>
	<COL WIDTH=65*>
	<COL WIDTH=86*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Current DB value:</P>
			</TH>
			<TH WIDTH=27%>
				<P CLASS="western">Submitted data from TCEforms</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">New DB value:</P>
			</TH>
			<TH WIDTH=34%>
				<P CLASS="western">Processing done</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">first.jpg,second.jpg</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">first.jpg,/www/typo3/fileadmin/newfile.jpg,second.jpg</P>
			</TD>
			<TD WIDTH=25%>
				<P CLASS="western">first.jpg,newfile_01.jpg,second.jpg</P>
			</TD>
			<TD WIDTH=34%>
				<P CLASS="western">/www/typo3/fileadmin/newfile.jpg was copied to
				&quot;uploads/[some-dir]/newfile_01.jpg&quot;. The filename was
				appended with &quot;_01&quot; because another file with the name
				&quot;newfile.jpg&quot; already existed in the location.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">first.jpg,second.jpg</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">first.jpg</P>
			</TD>
			<TD WIDTH=25%>
				<P CLASS="western">first.jpg</P>
			</TD>
			<TD WIDTH=34%>
				<P CLASS="western">&quot;uploads/[some-dir]/second.jpg&quot; was
				deleted from the location.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="4.2.11.['columns'][fieldname]['config'] / TYPE: &quot;none&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;none&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
type will just show the value of the field in the backend. The field
is not editable.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=191*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=75%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western"><I>[Must be set to &quot;none&quot;]</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">pass_content</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western">If set, then content from the field is
				directly outputted in the &lt;div&gt; section. Otherwise the
				content will be passed through htmlspecialchars() and possibly
				nl2br() if there is configuration for rows.</P>
				<P CLASS="western">Be careful to set this flag since it allows
				HTML from the field to be outputted on the page, thereby creating
				the possibility of XSS security holes.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">rows</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western">If this value is greater than 1 the display of
				the non-editable content will be shown in a &lt;div&gt; area
				trying to simulate the rows/columns known from a &quot;text&quot;
				type element.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">cols</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western">See &quot;rows&quot; and &quot;size&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">fixedRows</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western">If this is set the &lt;div&gt; element will
				not automatically try to fit the content length but rather
				respect the size selected by the value of the &quot;rows&quot;
				key.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">size</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western">If rows is less than one, the &quot;cols&quot;
				value is used to set the width of the field and if &quot;cols&quot;
				is not found, then &quot;size&quot; is used to set the width.</P>
				<P CLASS="western">The measurements corresponds to those of
				&quot;input&quot; and &quot;text&quot; type fields.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="4.2.12.['columns'][fieldname]['config'] / TYPE: &quot;passthrough&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;passthrough&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Can
be saved/updated through TCE but the value is not evaluated in any
way and the field has no rendering in the TCEforms.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can use this to send values directly to the database fields without
any automatic evaluation. But still the update gets logged and the
history/undo function will work with such values.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Since
there is no rendering mode for this field type it is specifically
fitted for direct API usage with the TCEmain class.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=191*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=75%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western"><I>[Must be set to &quot;passthrough&quot;]</I></P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
follows a code listing as example:</FONT></P>
<H5 CLASS="western">Example: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
field is found in a number of table, eg. the &quot;pages&quot; table.
It is apparently used by the extension &quot;impexp&quot; to store
some information.</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT></FONT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tx_impexp_origuid'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'config'</FONT><FONT COLOR="#007700">=&gt;array(</FONT><FONT COLOR="#dd0000">'type'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'passthrough'</FONT><FONT COLOR="#007700">)),</FONT></PRE><H5 CLASS="western">
Example: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example the extension &quot;direct_mail&quot; is adding some
fields to the &quot;tt_address&quot; table but the fields are not
editable through TCEforms, just able to manipulate through TCE
directly.</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// tt_address modified</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">loadTCA</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_address'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addTCAcolumns</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'tt_address'</FONT><FONT COLOR="#007700">,array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'module_sys_dmail_category'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'config'</FONT><FONT COLOR="#007700">=&gt;array(</FONT><FONT COLOR="#dd0000">'type'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'passthrough'</FONT><FONT COLOR="#007700">)),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'module_sys_dmail_html'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'config'</FONT><FONT COLOR="#007700">=&gt;array(</FONT><FONT COLOR="#dd0000">'type'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'passthrough'</FONT><FONT COLOR="#007700">))</FONT></FONT>
<FONT COLOR="#007700">));</FONT></PRE><H3 CLASS="western">
<A NAME="4.2.13.['columns'][fieldname]['config'] / TYPE: &quot;user&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;user&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Allows
you to render a whole form field by a user function or class method.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=191*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=75%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western"><I>[Must be set to &quot;user&quot;]</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">userFunc</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western" STYLE="font-style: normal">Function or method
				reference.</P>
				<P CLASS="western" STYLE="font-style: normal">If you want to call
				a function, just enter the function name. The function name must
				be prefixed &quot;user_&quot; or &quot;tx_&quot;.</P>
				<P CLASS="western" STYLE="font-style: normal">If you want to call
				a method in a class, enter &quot;[classname]-&gt;[methodname]&quot;.
				The class name must be prefixed &quot;user_&quot; or &quot;tx_&quot;.</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">Two arguments will
				be passed to the function/method: The first argument is an array
				(passed by reference) which contains the current information
				about the current field being rendered. The second argument is a
				reference to the parent object (an instance of the t3lib_TCEforms
				class).</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal"><B>Notice:</B> You
				must include the class manually on beforehand!</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">noTableWrapping</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western"><SPAN STYLE="font-style: normal">If set, then
				</SPAN>the output from the user function will <I>not</I> be
				wrapped in the usual table - you will have to do that yourself.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
follows a code listing as example:</FONT></P>
<H5 CLASS="western">Example:</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
field is rended by custom PHP code:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_3bbadef4.png" NAME="Graphic65" ALIGN=LEFT WIDTH=533 HEIGHT=87 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration in TCA is as simple as this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'TEST02' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST02: '</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'user'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'userFunc' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'user_class-&gt;user_TCAform_test'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   6:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In addition you have to make sure the class
&quot;user_class&quot; is included and has the method
&quot;user_TCAform_test&quot;. This the example above it looked like
this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">class </FONT><FONT COLOR="#0000bb">user_class </FONT><FONT COLOR="#007700">{</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;function </FONT><FONT COLOR="#0000bb">user_TCAform_test</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$fobj</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   4:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div style=&quot;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   5:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border: 2px dashed #666666;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   6:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width : 90%;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   7:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin: 5px 5px 5px 5px;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   8:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding: 5px 5px 5px 5px;&quot;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">   9:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  10:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h2&gt;My Own Form Field:&lt;/h2&gt;</FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  11:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input</FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'&quot;</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElValue'</FONT><FONT COLOR="#007700">]).</FONT><FONT COLOR="#dd0000">'&quot;</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onchange=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">implode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'fieldChangeFunc'</FONT><FONT COLOR="#007700">])).</FONT><FONT COLOR="#dd0000">'&quot;</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'onFocus'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  16:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;</FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  18:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#000000">  19:</FONT><FONT COLOR="#007700"> }</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This is not the place to dig into more details
about user defined forms. By this example you can start yourself up
but you will have to figure out by yourself what options are
available in the $PA array and how to use them.</FONT></P>
<H3 CLASS="western"><A NAME="4.2.14.['columns'][fieldname]['config'] / TYPE: &quot;flex&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;flex&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Rendering
a FlexForm element - essentially this consists of a hierarchically
organized set of fields which will have their values saved into a
single field in the database, stored as XML.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=58*>
	<COL WIDTH=25*>
	<COL WIDTH=173*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=23%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=10%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western"><I>[Must be set to &quot;flex&quot;]</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">ds_pointerField</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Fieldname(s) in the record which point to the
				field where the key for “ds” is found. Up to two fieldnames
				can be specified comma separated.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">ds</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Data Structure(s) defined in an array. 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Each key is a value that can be pointed to by
				“ds_pointerField”. Default key is “default” which is what
				you should use if you do not have a “ds_pointerField” value
				of course.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If you specified more than one
				ds_pointerField, the keys in this “ds” array should contain
				comma-separated value pairs where the asterisk * matches all
				values (see the example below). If you don't need to switch for
				the second ds_pointerField, it's also possible to use only the
				first ds_pointerField's value as a key in the &quot;ds&quot;
				array without necesserily suffixing it with &quot;,*&quot; for a
				catch-all on the second ds_pointerField.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">For each value in the array there are two
				options:</P>
				<UL>
					<LI><P CLASS="western">Either enter XML directly</P>
					<LI><P CLASS="western">Make a reference to an external XML file</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example with XML directly entered:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'flex'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ds_pointerField'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'list_type'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ds'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;T3DataStructure&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ROOT&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;type&gt;array&lt;/type&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;el&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xmlTitle&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TCEforms&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&gt;The Title:&lt;/label&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;config&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;type&gt;input&lt;/type&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;size&gt;48&lt;/size&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/config&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/TCEforms&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xmlTitle&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/el&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ROOT&gt;</FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/T3DataStructure&gt;</FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">)</FONT></PRE><P CLASS="western">
				<B>Example with XML in external file:</B></P>
				<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(File
				reference is relative)</FONT></P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'flex'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ds_pointerField'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'list_type'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ds'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'FILE:EXT:mininews/flexform_ds.xml'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">)</FONT></PRE><P CLASS="western">
				<B>Example using two ds_pointerFields</B><SPAN STYLE="font-weight: normal">
				(as used for tt_content.pi_flexform since TYPO3 4.2.0):</SPAN></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'config'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;array(</FONT></FONT>
<FONT COLOR="#dd0000">    'type'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;</FONT>'flex'<FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#dd0000">    'ds_pointerField'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;</FONT>'list_type,CType'<FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#dd0000">    'ds'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;array(</FONT></FONT>
<FONT COLOR="#dd0000">        'default'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;</FONT>'FILE:...'<FONT COLOR="#007700">,</FONT></FONT>
	'tt_address_pi1,list'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;</FONT>'FILE:EXT:tt_address/pi1/flexform.xml'<FONT COLOR="#007700">,</FONT> <FONT COLOR="#ff8000">// DS for list_type=tt_address_pi1 and CType=list</FONT>
	'*,table'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;</FONT>'FILE:EXT:css_styled_content/flexform_ds.xml'<FONT COLOR="#007700">,</FONT> <FONT COLOR="#ff8000">// DS for CType=table, no matter which list_type value</FONT>
	'tx_myext_pi1'&nbsp;<FONT COLOR="#007700">=&gt;&nbsp;</FONT>'FILE:EXT:myext/flexform.xml'<FONT COLOR="#007700">,</FONT> <FONT COLOR="#ff8000">// DS for list_type=tx_myext_pi1 without specifying a CType at all</FONT>
<FONT COLOR="#dd0000">    )</FONT>
<FONT COLOR="#dd0000">)</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">ds_tableField</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Contains the value “[table]:[fieldname]”
				from which to fetch Data Structure XML.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">“ds_pointerField” is in this case the
				pointer which should contain the uid of a record from that table.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This is used by TemplaVoila extension for
				instance where a field in the tt_content table points to a
				TemplaVoila Data Structure record:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'tx_templavoila_flex'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exclude'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'...'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'displayCond'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'FIELD:tx_templavoila_ds:REQ:true'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'flex'</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ds_pointerField'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tx_templavoila_ds'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ds_tableField'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tx_templavoila_datastructure:dataprot'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">),</FONT></PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">ds_pointerField_searchParent</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Used to search for Data Structure recursively
				back in the table assuming that the table is a tree table. This
				value points to the “pid” field. 
				</P>
				<P CLASS="western">See “templavoila” for example - uses this
				for the Page Template.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">ds_pointerField_searchParent_subField</P>
			</TD>
			<TD WIDTH=10%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Points to a field in the “rootline” which
				may contain a pointer to the “next-level” template.</P>
				<P CLASS="western">See “templavoila” for example - uses this
				for the Page Template.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Pointing to a Data Structure</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Basically
the configuration for a FlexForm field is all about pointing to the
Data Structure which will contain form rendering information in the
application specific tag “&lt;TCEforms&gt;”.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
general information about the backbone of a Data Structure, please
see the &lt;T3DataStructure&gt; chapter in the Data Formats section.</FONT></P>
<H4 CLASS="western">FlexForm facts</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">FlexForms
create a form-in-a-form. The content coming from this form is still
stored in the associated database field - but as an XML structure
(stored by t3lib_div::array2xml())!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
“TCA” information needed to generate the FlexForm fields are
found inside a &lt;T3DataStructure&gt; XML document. When you
configure a FlexForm field in a Data Structure (DS) you can use
basically all column types documented here for TCA. The limitations
are:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“unique”
	and “uniqueInPid” evaluation is not available</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
	cannot nest FlexForm configurations inside of FlexForms.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Charset
	follows that of the current backend (that is “forceCharset” or
	the backend users language selection)</FONT></P>
</UL>
<H4 CLASS="western">&lt;T3DataStructure&gt; extensions for
“&lt;TCEforms&gt;”</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
FlexForms the DS is extended with a tag, “&lt;TCEforms&gt;” which
define all settings specific to the FlexForms usage.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Also
a few meta tag features are used.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Sometimes
it may be necessary to reload flexform if content of the field in the
flexform is changed. This is accomplished by adding
“<SPAN STYLE="font-style: normal">&lt;onChange&gt;reload&lt;/onChange&gt;</SPAN>”<SPAN STYLE="font-style: normal">
</SPAN>inside &lt;TCEforms&gt;. A typical example for that is a field
that defines operational modes for an extension. When the mode
changes, a flexform may need to show a new set of fields. By
combining the &lt;onChange&gt; tag for mode fields with &lt;displayCond&gt;
tag for other fields, it is possible to create truly dynamic
flexforms.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
that changing the mode does not delete hidden field values of the
flexform. Always use the “mode” field to determine which
parameters to use.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
tables below document the extension elements:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“Array”
Elements:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=124*>
	<COL WIDTH=81*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=48%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=32%>
				<P CLASS="western">Child elements</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;meta&gt;</P>
			</TD>
			<TD WIDTH=48%>
				<P CLASS="western">Can contain application specific meta
				settings. For FlexForms this means a definition of how languages
				are handled in the form.</P>
			</TD>
			<TD WIDTH=32%>
				<P CLASS="western">&lt;langChildren&gt;</P>
				<P CLASS="western">&lt;langDisable&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;[application tag]&gt;</P>
			</TD>
			<TD WIDTH=48%>
				<P CLASS="western">In this case the application tag is
				“&lt;TCEforms&gt;”</P>
			</TD>
			<TD WIDTH=32%>
				<P CLASS="western"><I>A direct reflection of a
				['columns']['fieldname']['config'] PHP array configuring a field
				in TCA. As XML this is expressed by array2xml()'s output. See
				example below.</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;ROOT&gt;&lt;TCEforms&gt;</P>
			</TD>
			<TD WIDTH=48%>
				<P CLASS="western">For &lt;ROOT&gt; elements in the DS you can
				add application specific information about the sheet that the
				&lt;ROOT&gt; element represents.</P>
			</TD>
			<TD WIDTH=32%>
				<P CLASS="western" STYLE="font-style: normal">&lt;sheetTitle&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;sheetDescription&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;sheetShortDescr&gt;</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“Value”
Elements:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=43*>
	<COL WIDTH=161*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Format</P>
			</TH>
			<TH WIDTH=63%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;langDisable&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">Boolean, 0/1</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">If set, then handling of localizations is
				disabled. Otherwise FlexForms will allow editing of additional
				languages than the default according to “sys_languages” table
				contents. 
				</P>
				<P CLASS="western">The language you can select from is the
				language configured in “sys_languages” but they <I>must</I>
				have ISO country codes set - see example below.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;langChildren&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">Boolean, 0/1</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">If set, then localizations are bound to the
				default values 1-1 (“value” level). Otherwise localizations
				are handled on “structure level”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;sheetTitle&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Specifies the title of the sheet. Language
				splitted.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;sheetDescription&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Specifies a description for the sheet shown in
				the flexform. Language splitted.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;sheetShortDescr&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Specifies a short description of the sheet
				used in the tab-menu. Language splitted.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Sheets and FlexForms</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">FlexForms
always resolve sheet definitions in a Data Structure. If only one
sheet is defined that must be the “sDEF” sheet (default). In that
case no tab-menu for sheets will appear (see examples below).</FONT></P>
<H4 CLASS="western">FlexForm data format, &lt;T3FlexForms&gt;</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
saving FlexForm elements the content is stored as XML using
t3lib_div::array2xml() to convert the internal PHP array to XML
format. The structure is as follows:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“Array”
Elements:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=144*>
	<COL WIDTH=61*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=56%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=24%>
				<P CLASS="western">Child elements</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;T3FlexForms&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">Document tag</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">&lt;meta&gt;</P>
				<P CLASS="western">&lt;data&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;meta&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">Meta data for the content. For instance
				information about which sheet is active etc.</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">&lt;currentSheetId&gt;</P>
				<P CLASS="western">&lt;currentLangId&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;data&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">Contains the data; sheets, language sections,
				field and values</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western" STYLE="font-style: normal">&lt;sheet&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;sheet&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">Contains the data for each sheet in the form.
				If there are no sheets, the default sheet “&lt;sDEF&gt;” is
				always used.</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western" STYLE="font-style: normal">&lt;sDEF&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;s_[sheet keys]&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;sDEF&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;[sheet keys]&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">For each sheet it contains elements for each
				language. If &lt;meta&gt;&lt;langChildren&gt; is false then all
				languages are stored on this level, otherwise only the &lt;lDEF&gt;
				tag is used.</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western" STYLE="font-style: normal">&lt;lDEF&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;l[ISO language
				code]&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;lDEF&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;[language
				keys]&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">For each language the fields in the form will
				be available on this level.</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western" STYLE="font-style: normal">&lt;[fieldname]&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;[fieldname]&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">For each fieldname there is at least one
				element with the value, &lt;vDEF&gt;. If &lt;meta&gt;&lt;langChildren&gt;
				is true then there will be a &lt;v*&gt; tag for each language
				holding localized values.</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western" STYLE="font-style: normal">&lt;vDEF&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;v[ISO language
				code]&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;currentLangId&gt;</P>
			</TD>
			<TD WIDTH=56%>
				<P CLASS="western">Numerical array of language ISO codes + “DEF”
				for default which are currently displayed for editing.</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western" STYLE="font-style: normal">&lt;n[0-x]&gt;</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“Value”
Elements:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=43*>
	<COL WIDTH=161*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Format</P>
			</TH>
			<TH WIDTH=63%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;vDEF&gt;</P>
				<P CLASS="western" STYLE="font-style: normal">&lt;v[ISO language
				code]&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Content of the field in default or localized
				versions 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western" STYLE="font-style: normal">&lt;currentSheetId&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Points to the currently shown sheet in the DS.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
syntax highlighted example, see below.</FONT></P>
<H5 CLASS="western">Example: Simple FlexForm</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
extension “mininews”  displays a FlexForm in the Plugin type
content element. The form displays a template selector box:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_c1b6287.png" NAME="Graphic35" ALIGN=LEFT WIDTH=470 HEIGHT=168 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
DS used to render this field is found in the file “flexform_ds.xml”
inside of the “mininews” extension. Notice the &lt;TCEforms&gt;
tags:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
        <FONT COLOR="#800080"><B>&lt;meta&gt;</B></FONT>
                <FONT COLOR="#000080">&lt;langDisable&gt;</FONT>1<FONT COLOR="#000080">&lt;/langDisable&gt;</FONT>
        <FONT COLOR="#800080"><B>&lt;/meta&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
    <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;field_templateObject&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:mininews/locallang_db.php:tt_content.pi_flexform.select_template<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>

                        <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>select<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;items&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;numIndex index=”0”&gt;</I></FONT>
                                                <FONT COLOR="#c29336"><I>&lt;numIndex index=”0”&gt;&lt;/numIndex&gt;</I></FONT>
                                                <FONT COLOR="#c29336"><I>&lt;numIndex index=”1”&gt;</I></FONT>0<FONT COLOR="#c29336"><I>&lt;/numIndex&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;/numIndex&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/items&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;foreign_table&gt;</I></FONT>tx_templavoila_tmplobj<FONT COLOR="#c29336"><I>&lt;/foreign_table&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;foreign_table_where&gt;</I></FONT>
                                        AND tx_templavoila_tmplobj.pid=###STORAGE_PID### 
                                        AND tx_templavoila_tmplobj.datastructure=&quot;EXT:mininews/template_datastructure.xml&quot; 
                                        AND tx_templavoila_tmplobj.parent=0 
                                        ORDER BY tx_templavoila_tmplobj.title
                                <FONT COLOR="#c29336"><I>&lt;/foreign_table_where&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;size&gt;</I></FONT>1<FONT COLOR="#c29336"><I>&lt;/size&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;minitems&gt;</I></FONT>0<FONT COLOR="#c29336"><I>&lt;/minitems&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;maxitems&gt;</I></FONT>1<FONT COLOR="#c29336"><I>&lt;/maxitems&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;/field_templateObject&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">It's clear that the contents of &lt;TCEforms&gt;
is a direct reflection of the field configurations we normally set up
in the $TCA array.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">To
configure the FlexForm field to use this Data Structure, the
“mininews” extension simply includes this in the ext_tables.php
file:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> $TCA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'tt_content'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'types'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'list'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'subtypes_addlist'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'_pi1'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#dd0000">'pi_flexform'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> </FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">addPiFlexFormValue</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'_pi1'</FONT><FONT COLOR="#007700">,&nbsp;</FONT><FONT COLOR="#dd0000">'FILE:EXT:mininews/flexform_ds.xml'</FONT><FONT COLOR="#007700">);</FONT></FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In line 1 the tt_content field “pi_flexform”
is added to the display of fields when the Plugin type is selected
and set on “mininews_pi1”</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 2 the DS xml file is configured to be the source of the FlexForm
DS used.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
we browse the definition for the “pi_flexform” field in
“tt_content” we will see this configuration:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_28f0e2ea.png" NAME="Graphic36" ALIGN=LEFT WIDTH=669 HEIGHT=150 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">As
you can see two extension plugins, “newloginbox_pi1” and
“mininews_pi1” has added pointers to their Data Structures.</FONT></P>
<H5 CLASS="western">Example: FlexForm with two sheets</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example we create a flexform field with two “sheets”. Each
sheet can contain a separate FlexForm structure.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">....[</FONT><FONT COLOR="#dd0000">'config'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'flex'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ds'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'</FONT></FONT>


<FONT COLOR="#000000"><B>&lt;T3DataStructure&gt;</B></FONT>
  <FONT COLOR="#008000"><B>&lt;sheets&gt;</B></FONT>
        <FONT COLOR="#008000">&lt;sDEF&gt;</FONT>
          <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;sheetTitle&gt;</I></FONT>Default sheet<FONT COLOR="#c29336"><I>&lt;/sheetTitle&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
            <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
            <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;header&gt;</B></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                                <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>Header<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>input<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;size&gt;</I></FONT>30<FONT COLOR="#c29336"><I>&lt;/size&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;/header&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;message&gt;</B></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                                <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>Message:<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>text<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;cols&gt;</I></FONT>30<FONT COLOR="#c29336"><I>&lt;/cols&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;rows&gt;</I></FONT>5<FONT COLOR="#c29336"><I>&lt;/rows&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;/message&gt;</B></FONT>                  
            <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
          <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>       
    <FONT COLOR="#008000">&lt;/sDEF&gt;</FONT>
    <FONT COLOR="#008000">&lt;s_welcome&gt;</FONT>
          <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;sheetTitle&gt;</I></FONT>Second sheet<FONT COLOR="#c29336"><I>&lt;/sheetTitle&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
            <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
            <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;show_forgot_password&gt;</B></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                                <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>Yes, I do:<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>check<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;/show_forgot_password&gt;</B></FONT>
            <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
          <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
    <FONT COLOR="#008000">&lt;/s_welcome&gt;</FONT>        
  <FONT COLOR="#008000"><B>&lt;/sheets&gt;</B></FONT>             
<B>&lt;/T3DataStructure&gt;</B>

<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'</FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The result from configuration is a form which
looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_2828eba7.png" NAME="Graphic37" ALIGN=LEFT WIDTH=453 HEIGHT=150 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Clicking
“Second sheet” will now show the <I>other</I> Data Structure:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_7843d198.png" NAME="Graphic38" ALIGN=LEFT WIDTH=457 HEIGHT=77 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you look at the XML stored in the database field this is how it
looks:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot; ?&gt;
<B>&lt;T3FlexForms&gt;</B>
        <FONT COLOR="#800080"><B>&lt;meta&gt;</B></FONT>
                <FONT COLOR="#000080">&lt;currentSheetId&gt;</FONT>s_welcome<FONT COLOR="#000080">&lt;/currentSheetId&gt;</FONT>
        <FONT COLOR="#800080"><B>&lt;/meta&gt;</B></FONT>
        <FONT COLOR="#800080"><B>&lt;data&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;sDEF&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;lDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;header&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>This is a header<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/header&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;message&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>Here goes the message

This is another line in the message!<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/message&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;/lDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;/sDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;s_welcome&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;lDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;show_forgot_password&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>1<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/show_forgot_password&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;/lDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;/s_welcome&gt;</B></FONT>
        <FONT COLOR="#800080"><B>&lt;/data&gt;</B></FONT>
<B>&lt;/T3FlexForms&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice how the data of the two sheets are
separated.</FONT></P>
<H5 CLASS="western">Example: Rich Text Editor in FlexForms</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Creating
a RTE in FlexForms is done by adding “defaultExtras” content to
the &lt;TCEforms&gt; tag:</FONT></P>
<PRE CLASS="western">&lt;TCEforms&gt;
	&lt;config&gt;
		&lt;type&gt;text&lt;/type&gt;
		&lt;cols&gt;48&lt;/cols&gt;
		&lt;rows&gt;5&lt;/rows&gt;
	&lt;/config&gt;
	&lt;label&gt;Subtitle&lt;/label&gt;
	<B>&lt;defaultExtras&gt;richtext[*]:rte_transform[mode=ts_css]&lt;/defaultExtras&gt;</B>
&lt;/TCEforms&gt;</PRE><H4 CLASS="western">
Handling languages in FlexForms</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">FlexForms
allows you to handle translations of content in two ways. But before
you can enable those features you have to install the extension
“static_info_tables” which contains country names and
ISO-language codes which are the ones by which FlexForms stores
localized content:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_293628d2.png" NAME="Graphic39" ALIGN=LEFT WIDTH=450 HEIGHT=75 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Secondly,
you have to configure languages in the Database:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m1ab3be1f.png" NAME="Graphic40" ALIGN=LEFT WIDTH=468 HEIGHT=77 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">And
finally, you have to make sure that each of these languages points to
the right ISO code:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_4bcc7a02.png" NAME="Graphic41" ALIGN=LEFT WIDTH=475 HEIGHT=147 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Localization
method #1:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Immediately
you will see that the form has got a language selector and if you
select both languages and save the form you will see an additional
set of fields for Danish:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m382bc24c.png" NAME="Graphic42" ALIGN=LEFT WIDTH=445 HEIGHT=289 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
If the “&lt;meta&gt;&lt;langDisable&gt;” value is true then you
will not see any languages of course.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
data XML in the data base will look like this:</FONT></P>
<PRE CLASS="western">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot; ?&gt;
<B>&lt;T3FlexForms&gt;</B>
        <FONT COLOR="#800080"><B>&lt;meta&gt;</B></FONT>
                <FONT COLOR="#000080">&lt;currentSheetId&gt;</FONT>sDEF<FONT COLOR="#000080">&lt;/currentSheetId&gt;</FONT>
                <FONT COLOR="#666666"><I>&lt;currentLangId&gt;</I></FONT>
                        <FONT COLOR="#666666"><I>&lt;numIndex index=”0”&gt;</I></FONT>DEF<FONT COLOR="#666666"><I>&lt;/numIndex&gt;</I></FONT>
                        <FONT COLOR="#666666"><I>&lt;numIndex index=”1”&gt;</I></FONT>DA<FONT COLOR="#666666"><I>&lt;/numIndex&gt;</I></FONT>
                <FONT COLOR="#666666"><I>&lt;/currentLangId&gt;</I></FONT>
        <FONT COLOR="#800080"><B>&lt;/meta&gt;</B></FONT>
        <FONT COLOR="#800080"><B>&lt;data&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;sDEF&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;lDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;header&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>This is a header<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/header&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;message&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>Here goes the message

This is another line in the message!<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/message&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;/lDEF&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;lDA&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;header&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>Dette er en overskrift<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/header&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;message&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>Her skal beskeden indsættes

Dette er en anden linie i beskeden.<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/message&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;/lDA&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;/sDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;s_welcome&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;lDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;show_forgot_password&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>1<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/show_forgot_password&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;/lDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;/s_welcome&gt;</B></FONT>
        <FONT COLOR="#800080"><B>&lt;/data&gt;</B></FONT>
<B>&lt;/T3FlexForms&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice the tag &lt;lDA&gt; which contains the
Danish translation!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Localization
method #2:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the first method of localization each language can potentially
contain a differently structured data set. This is possible because
as soon as a DS defines sections with array objects inside the number
of objects can be individual!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
second method of localization handles each language on the <I>value</I>
level instead, thus requiring a translation for each and every field
in the default language! You enable this by setting
“&lt;meta&gt;&lt;langChildren&gt;” to “1”.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
editing form will now look like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_46570ebc.png" NAME="Graphic43" ALIGN=LEFT WIDTH=418 HEIGHT=244 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can see that the Danish translation for the header is grouped with
the default header and likewise for the “Message” field.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
difference is also seen in the &lt;T3FlexForms&gt; content:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot; ?&gt;
<B>&lt;T3FlexForms&gt;</B>
        <FONT COLOR="#800080"><B>&lt;meta&gt;</B></FONT>
                <FONT COLOR="#000080">&lt;currentSheetId&gt;</FONT>sDEF<FONT COLOR="#000080">&lt;/currentSheetId&gt;</FONT>
                <FONT COLOR="#000080">&lt;currentLangId&gt;</FONT>
                        <FONT COLOR="#666666"><I>&lt;numIndex index=”0”&gt;</I></FONT>DEF<FONT COLOR="#666666"><I>&lt;/numIndex&gt;</I></FONT>
                        <FONT COLOR="#666666"><I>&lt;numIndex index=”1”&gt;</I></FONT>DA<FONT COLOR="#666666"><I>&lt;/numIndex&gt;</I></FONT>
                <FONT COLOR="#000080">&lt;/currentLangId&gt;</FONT>
        <FONT COLOR="#800080"><B>&lt;/meta&gt;</B></FONT>
        <FONT COLOR="#800080"><B>&lt;data&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;sDEF&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;lDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;header&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>This is a header<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDA&gt;</B></FONT>Dette er en overskrift<FONT COLOR="#800000"><B>&lt;/vDA&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/header&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;message&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>Here goes the message

This is another line in the message!<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDA&gt;</B></FONT>Here goes the message

This is another line in the message!<FONT COLOR="#800000"><B>&lt;/vDA&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/message&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;/lDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;/sDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;s_welcome&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;lDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;show_forgot_password&gt;</B></FONT>
                                        <FONT COLOR="#800000"><B>&lt;vDEF&gt;</B></FONT>1<FONT COLOR="#800000"><B>&lt;/vDEF&gt;</B></FONT>
                                <FONT COLOR="#666666"><B>&lt;/show_forgot_password&gt;</B></FONT>
                        <FONT COLOR="#000080"><B>&lt;/lDEF&gt;</B></FONT>
                <FONT COLOR="#008000"><B>&lt;/s_welcome&gt;</B></FONT>
        <FONT COLOR="#800080"><B>&lt;/data&gt;</B></FONT>
<B>&lt;/T3FlexForms&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">You can see the Danish counterparts to the
default values are stored in tags named “&lt;vDA&gt;” on the same
level as “&lt;vDEF&gt;” is located.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>NOTICE:</B>
The two localization methods are NOT compatible! You cannot suddenly
change from the one method to the other without having to do some
conversion of the data format. That is obvious when you look at how
the two methods also require different data structures underneath!</FONT></P>
<H3 CLASS="western"><A NAME="4.2.15.['columns'][fieldname]['config'] / TYPE: &quot;inline&quot;|outline"></A>
['columns'][<I>fieldname</I>]['config'] / TYPE: &quot;inline&quot;</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Inline-Relational-Record-Editing
(IRRE) offers a way of directly editing parent-child-relations in one
backend view. New child records are created using AJAX calls to
prevent a reload of the complete backend view. This type was first
integrated in TYPO3 4.1.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Please
note IRRE does not work in conjunction with versioning. The parent as
well as the child table of IRRE fields must not be versioning
enabled, otherwise unexpected behaviour might happen.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Note:
TCAdefaults.&lt;table&gt;.pid = &lt;page id&gt; can be used to define
the pid of new child records. Thus, it's possible to have special
storage folders on a per-table-basis. </FONT>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=56*>
	<COL WIDTH=28*>
	<COL WIDTH=153*>
	<COL WIDTH=19*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=60%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=8%>
				<P CLASS="western">Scope</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>[Must be set to &quot;inline&quot;]</I></P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_table</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(tablename)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western"><I>[Must be set, there is no type “inline”
				without a foreign table]</I><BR>The table name of the child
				records is defined here. The table must be configured in $TCA.</P>
				<P CLASS="western">See the other related options below.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">appearance</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">Has information
				about the appearance of child-records, namely:</P>
				<UL>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>collapseAll</I>
					(boolean)<BR>Show all child-records collapsed (if false, all are
					expanded)</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>expandSingle</I>
					(boolean)<BR>Show only one child-record expanded each time. If a
					collapsed record is clicked, the currently open one collapses
					and the clicked one expands.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>newRecordLinkAddTitle</I>
					(boolean)<BR>Adds the title of the foreign_table to the “New
					record” link.<BR>false: “Create new”<BR>true: “Create
					new &lt;title of foreign_table&gt;”, e.g. “Create new
					address”</P>
					<LI><P CLASS="western"><I>newRecordLinkPosition</I><SPAN STYLE="font-style: normal">
					(string)<BR>Values: 'top', 'bottom', 'both', 'none' – default:
					'top'<BR>Defines where to show the “New record” link in
					relation to the child records.</SPAN></P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>useCombination</I>
					(boolean)<BR>This is only useful on bidirectional relations
					using an intermediate table with attributes. In a “combination”
					it is possible to edit the attributes AND the related child
					record itself.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>useSortable</I>
					(boolean)<BR>Active Drag&amp;Drop Sorting by the script.aculo.us
					Sortable object.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>showPossibleLocalizationRecords</I>
					(boolean)<BR>Show unlocalized records which are in the original
					language, but not yet localized.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>showRemovedLocalizationRecords</I>
					(boolean)<BR>Show records which were once localized but do not
					exist in the original language anymore.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>showAllLocalizationLink</I>
					(boolean)<BR>Defines whether to show the &quot;localize all
					records&quot; link to fetch untranslated records from the
					original language.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>showSynchronizationLink</I>
					(boolean)<BR>Defines whether to show a &quot;synchronize&quot;
					link to update to a 1:1 translation with the original language.</P>
				</UL>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">behaviour</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">Has information
				about the behaviour of child-records, namely:</P>
				<UL>
					<LI VALUE=1><P CLASS="western" STYLE="font-style: normal"><I>localizationMode</I>
					('keep', 'select')<BR>Defines in general whether children are
					really localizable (set to 'select') or just taken from the
					default language (set to 'keep'). If this property is not set,
					but the affected parent and child tables were localizable, the
					mode 'select' is used by default.</P>
					<LI><P CLASS="western" STYLE="font-style: normal">Mode 'keep':
					This is not a real localization, since the children are taken
					from the parent of the original language. But the children can
					be moved, deleted, modified etc. on the localized parent which -
					of course - also affects the original language.</P>
					<LI><P CLASS="western" STYLE="font-style: normal">Mode 'select':
					This mode provides the possibility to have a selective
					localization and to compare localized data to the pendants of
					the original language. Furthermore this mode is extended by a
					'localize all' feature, which works similar to the localization
					of content on pages, and a 'synchronize' feature which offers
					the possibility to synchronize a localization with its original
					language. 
					</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>localizeChildrenAtParentLocalization</I>
					(boolean)<BR>Defines whether children should be localized when
					the localization of the parent gets created.</P>
					<LI><P CLASS="western" STYLE="font-style: normal"><I>disableMovingChildrenWithParent</I>
					(boolean)<BR>Disables that child records get moved along with
					their parent records.</P>
				</UL>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">The foreign_field
				is the field of the child record pointing to the parent record.
				This defines where to store the uid of the parent record.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_label</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">If set, it
				overrides the label set in $TCA[&lt;foreign_table&gt;]['ctrl']['label']
				for the inline-view.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_selector</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">A selector is used
				to show all possible child records that could be used to create a
				relation with the parent record. It will be rendered as a
				multi-select-box. On clicking on an item inside the selector a
				new relation is created.<BR>The foreign_selector points to a
				field of the foreign_table that is responsible for providing a
				selector-box – this field on the foreign_table usually has the
				type “select” and also has a “foreign_table” defined.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_sortby</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">Define a field on
				the child record (or on the intermediate table) that stores the
				manual sorting information. It is possible to have different
				sortings, depending from which side of the relation we look at
				parent or child.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_default_sortby</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If a fieldname for <I>foreign_sortby</I> is
				defined, then this is ignored. 
				</P>
				<P CLASS="western" STYLE="font-style: normal">Otherwise this is
				used as the “ORDER BY” statement to sort the records in the
				table when listed.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_table_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">The
				<I>foreign_table_field</I> is the field of the child record
				pointing to the parent record. This defines where to store the
				tablename of the parent record. On setting this configuration key
				together with <I>foreign_field</I>, the child record knows what
				its parent record is – so the child record could also be used
				on other parent tables.<BR>This issue is also known as “weak
				entity”.<BR>Do not cnfound with <I>foreign_table</I> or
				<I>foreign_field</I>. It has its own behaviour.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">foreign_unique</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Field which must be unique for all children of
				a parent record.</P>
				<P CLASS="western">Example: Say you have two tables, products,
				your parent table, and prices, your child table (products) can
				have multiple prices. The prices table has a field called
				customer_group, which is a selector box. Now you want to be able
				to specify prices for each customer group when you edit a
				product, but of course you don't want to specify contradicting
				prices for one product (i.e. two different prices for the same
				customer_group). That's why you would set foreign_unique to the
				field name “customer_group”, to prevent that two prices for
				the same customer group can be created for one product.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">MM</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(table name)</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Means that the relation to the records of
				&quot;foreign_table&quot; is done with a M-M relation with a
				third &quot;join&quot; table. 
				</P>
				<P CLASS="western">That table typically has three columns: 
				</P>
				<UL>
					<LI><P CLASS="western"><I>uid_local, uid_foreign</I> for uids
					respectively. 
					</P>
					<LI><P CLASS="western"><I>sorting</I> is a required field used
					for ordering the items.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">The field which is configured as “inline”
				is not used for data-storage any more but rather it's set to the
				number of records in the relation on each update, so the field
				should be an integer.</P>
				<P CLASS="western">Notice: Using MM relations you can ONLY store
				real relations for foreign tables in the list - no additional
				string values or non-record values (so no attributes).</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">size</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Height of the selector box in TCEforms.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">autoSizeMax</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">If set, then the height of multiple-item
				selector boxes (maxitem &gt; 1) will automatically be adjusted to
				the number of selected elements, however never less than &quot;size&quot;
				and never larger than the integer value of &quot;autoSizeMax&quot;
				itself (takes precedence over &quot;size&quot;). So &quot;autoSizeMax&quot;
				is the maximum height the selector can ever reach.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">maxitems</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer &gt; 0</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Maximum number of items in the selector box.
				(Default = 1)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display / Proc</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">minitems</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">integer &gt; 0</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">Minimum number of items in the selector box.
				(Default = 0)</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western">Display</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">symmetric_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">This works like foreign_field, but in case of
				using bidirectional symmetric relations. symmetric_field defines
				in which field on the foreign_table the uid of the “other”
				parent is stored.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">symmetric_label</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western" STYLE="font-style: normal">If set, it
				overrides the label set in $TCA[&lt;foreign_table&gt;]['ctrl']['label']
				for the inline-view and only if looking to a symmetric relation
				from the “other” side.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">symmetric_sortby</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=60%>
				<P CLASS="western">This works like foreign_sortby, but in case of
				using bidirectional symmetric relations. Each side of a symmetric
				relation could have its own sorting, so symmetric_sortby defines
				a field on the foreign_table where the sorting of the “other”
				side is stored.</P>
			</TD>
			<TD WIDTH=8%>
				<P CLASS="western" STYLE="font-style: normal">Display / Proc.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H5 CLASS="western">Example “comma separated list”: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
combines companies with persons (employees) using a comma separated
list, so no “foreign_field” is used here.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">$TCA['company'] = Array(</FONT>
  'ctrl' =&gt; ...,
  'interface' =&gt; ...,
  'feInterface' =&gt; ...,
  'columns' =&gt; Array(
    'hidden' =&gt; ...,
    'employees' =&gt; Array(
      'exclude' =&gt; 1,
      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:company.employees',
      <B>'config' =&gt; Array(</B>
        <B>'type' =&gt; 'inline',</B>
        <B>'foreign_table' =&gt; 'person',</B>
        <B>'maxitems' =&gt; 10,</B>
        <B>'appearance' =&gt; Array(</B>
          <B>'collapseAll' =&gt; 1,</B>
          <B>'expandSingle' =&gt; 1,</B>
        <B>),</B>
      <B>),</B>
    ),
  ),
  'types' =&gt; ...
  'palettes' =&gt; ...
);</PRE><H5 CLASS="western">
Example “attributes on anti-symmetric intermediate table”: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
example combines companies with persons (employees) using an
intermediate table. It is also possible to add attributes to every
relation – in this example, an attribute “jobtype” on the
“person_company” table is defined. It is also possible to look at
the relation from both sides (parent and child).</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm">$TCA['person'] = Array(<BR>  'columns' =&gt; Array(<BR>    'employers' =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person.employers',<BR>      'config' =&gt; Array(<BR>        'type' =&gt; 'inline',<BR>        <B>'foreign_table' =&gt; 'person_company',<BR></B>        <B>'foreign_field' =&gt; 'person',<BR></B>        <B>'foreign_label' =&gt; 'company',<BR></B>      ),<BR>    ),<BR>  ),<BR>);
$TCA['company'] = Array(<BR>  'columns' =&gt; Array(<BR>    'employees' =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:company.employees',<BR>      'config' =&gt; Array(<BR>        'type' =&gt; 'inline',<BR>        <B>'foreign_table' =&gt; 'person_company',<BR></B>        <B>'foreign_field' =&gt; 'company',<BR></B>        <B>'foreign_label' =&gt; 'person',<BR></B>      ),<BR>    ),<BR>  ),<BR>);
$TCA['person_company'] = Array(<BR>  'columns' =&gt; Array(<BR>    <B>'person'</B> =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person_company.person',<BR>      'config' =&gt; Array(<BR>        <B>'type' =&gt; 'select',<BR></B>        <B>'foreign_table' =&gt; 'person',<BR></B>        <B>'size' =&gt; 1,<BR></B>        <B>'minitems' =&gt; 0,<BR></B>        <B>'maxitems' =&gt; 1,<BR></B>      ),<BR>    ),<BR>    <B>'company'</B> =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person_company.company',<BR>      'config' =&gt; Array(<BR>        <B>'type' =&gt; 'select',<BR></B>        <B>'foreign_table' =&gt; 'company',<BR></B>        <B>'size' =&gt; 1,<BR></B>        <B>'minitems' =&gt; 0,<BR></B>        <B>'maxitems' =&gt; 1,<BR></B>      ),<BR>    ),<BR>    <B>'jobtype'</B> =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person_company.jobtype',<BR>      'config' =&gt; Array(<BR>        'type' =&gt; 'select',<BR>        'items' =&gt; Array(<BR>          Array('Project Manager (PM)', '0'),<BR>          Array('Chief Executive Officer (CEO)', '1'),<BR>          Array('Chief Technology Officer (CTO)', '2'),<BR>        ),<BR>        'size' =&gt; 1,<BR>        'maxitems' =&gt; 1,<BR>      ),<BR>    ),<BR>  ),<BR>);
<IMG SRC="12_html_4db0aebd.png" NAME="graphics1" ALIGN=LEFT WIDTH=370 HEIGHT=320 BORDER=0><BR CLEAR=LEFT></PRE><H5 CLASS="western">
Example “attributes on symmetric intermediate table”: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
example combines two persons with each other – imagine they are
married. One person on the first side is the husband, and one person
on the other side is the wife (or generally “spouse” in the
example below). Symmetric relations combine object of the same with
each other and it does not depend, from which side someone is looking
to the relation – so the husband knows it's wife and the wife also
know it's husband.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Sorting
could be individually defined for each of the both sides (perhaps
this should not be applied to a wife-husband-relationship in real
life).</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm">$TCA['person'] = Array(<BR>  'columns' =&gt; Array(<BR>    'employers' =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person.employers',<BR>      'config' =&gt; Array(<BR>        'type' =&gt; 'inline',<BR>        <B>'foreign_table' =&gt; 'person_symmetric',<BR></B>        <B>'foreign_field' =&gt; 'person',<BR>        'foreign_sortby' =&gt; 'sorting_person',<BR></B><SPAN STYLE="font-weight: normal">        'foreign_label' =&gt; 'spouse',<BR></SPAN><B>        'symmetric_field' =&gt; 'spouse',<BR>        'symmetric_sortby' =&gt; 'sorting_spouse',<BR></B><SPAN STYLE="font-weight: normal">        'symmetric_label' =&gt; 'person',<BR></SPAN>      ),<BR>    ),<BR>  ),<BR>);
$TCA['person_symmetric'] = Array(<BR>  'columns' =&gt; Array(<BR>    <B>'person'</B> =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person_symmetric.person',<BR>      'config' =&gt; Array(<BR>        <B>'type' =&gt; 'select',<BR></B>        <B>'foreign_table' =&gt; 'person',<BR></B><SPAN STYLE="font-weight: normal">        'size' =&gt; 1,<BR>        'minitems' =&gt; 0,<BR>        'maxitems' =&gt; 1,<BR></SPAN>      ),<BR>    ),<BR>    <B>'spouse'</B> =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person_symmetric.spouse',<BR>      'config' =&gt; Array(<BR><B>        'type' =&gt; 'select',<BR>        'foreign_table' =&gt; 'person',<BR></B><SPAN STYLE="font-weight: normal">        'size' =&gt; 1,<BR>        'minitems' =&gt; 0,<BR>        'maxitems' =&gt; 1,<BR></SPAN>      ),<BR>    ),<BR>    <B>'someattribute'</B> =&gt; Array(<BR>      'label' =&gt; 'LLL:EXT:myextension/locallang_db.xml:person_symmetric.someattribute',<BR>      'config' =&gt; Array(<BR>        'type' =&gt; 'input',<BR>      ),<BR>    ),<BR>    <B>'sorting_person'</B> =&gt; Array(<BR>      'config' =&gt; Array(<BR><B>        'type' =&gt; 'passthrough',<BR></B>      ),<BR>    ),<BR>    <B>'sorting_spouse'</B> =&gt; Array(<BR>      'config' =&gt; Array(<BR><B>        'type' =&gt; 'passthrough',<BR></B>      ),<BR>    ),<BR>  ),<BR>);</PRE><H3 CLASS="western">
<A NAME="4.2.16.['types'][key] section|outline"></A>['types'][<I>key</I>]
section</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
have to add <I>at least</I> one entry in the &quot;types&quot;-configuration
before any of the configured fields from the ['columns'] section will
show up in TCEforms.</FONT></P>
<H4 CLASS="western">Required configuration</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
instance, if you would like a form to look like below...:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_2ba93f97.png" NAME="Graphic66" ALIGN=LEFT WIDTH=436 HEIGHT=127 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">...
you could configure it with :</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"> 140:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"> 141:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'hidden;;1, type, title, test_template'</FONT><FONT COLOR="#007700">),</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
key &quot;showitem&quot; lists the order in which to define the
fields: &quot;hidden, type, title, test_template&quot;</FONT></P>
<H4 CLASS="western">Optional possibilities</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
power of &quot;types&quot;-configuration is clear in the moment when
you want the form composition of a record to depend on a value from
the record. From the example above, lets say we want the selector box
&quot;type&quot; to define the composition of fields in the form.
This is configured like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'ctrl' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_db.php:tx_coreunittest_1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'type'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'crdate' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'crdate'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">...</FONT>
<FONT COLOR="#000000">  87:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">  88:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exclude' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  89:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_db.php:tx_coreunittest_1.type'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  90:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">  91:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  92:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">  93:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_db.php:tx_coreunittest_1.type.I.0'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  94:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_db.php:tx_coreunittest_1.type.I.1'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'1'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  95:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_db.php:tx_coreunittest_1.type.I.2'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'2'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  96:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'LLL:EXT:coreunittest/locallang_db.php:tx_coreunittest_1.type.I.3'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'3'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  97:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  98:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  99:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000"> 100:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000"> 101:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Line 5 defines that the field name &quot;type&quot;
is to be used as pointer to a key in the types-configuration.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
87-101 shows the configuration of this selector box which turns out
to be rather normal, having four static values.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the end of the TCA configuration the &quot;types&quot; section
contain four listings, one for each value of the selector box:</FONT></P>
<PRE CLASS="western">
<FONT COLOR="#000000"> 140:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"> 141:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'hidden;;1, type, title, test_template'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"> 142:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'title, test_template, hidden, type'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"> 143:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'2' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'type, title'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"> 144:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'3' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'type;;2'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000"> 145:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
the &quot;type&quot; selector box has the value &quot;0&quot; (zero,
&quot;Mode 1&quot;) you will see the same as in the example above. If
it is changed to &quot;1&quot; (label &quot;Mode 2&quot;), then the
form changes as well:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_44881ba3.png" NAME="Graphic67" ALIGN=LEFT WIDTH=458 HEIGHT=130 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
order of fields in this case is clearly the one defined in line 142.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Changing
the &quot;type&quot; value to &quot;Mode 3&quot; means we will see
this form:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m6537f071.png" NAME="Graphic68" ALIGN=LEFT WIDTH=474 HEIGHT=74 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">And
&quot;Mode 4&quot;:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1d8a75b.png" NAME="Graphic69" ALIGN=LEFT WIDTH=472 HEIGHT=48 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Default values</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
no &quot;type&quot; field is defined the type value will default to
&quot;0&quot; (zero). If the type value (coming from a field or being
zero by default) does not point to a defined index in the
&quot;types&quot;-configuration, the configuration for key &quot;1&quot;
will be used by default.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
You must not show the same field more than once in the editing form.
If you do, the field will not detect the value properly.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=48*>
	<COL WIDTH=29*>
	<COL WIDTH=179*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=19%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=70%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=19%>
				<P CLASS="western">showitem</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of field configuration sets)</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western"><B>Required.</B></P>
				<P CLASS="western">Configuration of the displayed order of fields
				in TCEforms.</P>
				<P CLASS="western">The whole string is divided by tokens
				according to a - unfortunately - complex ruleset.</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western">#1: Overall the value is divided by a
					&quot;comma&quot; ( , ). Each part represents the configuration
					for a single field.</P>
					<LI><P CLASS="western">#2: Each of the field configurations is
					further divided by a semi-colon ( ; ). Each part of this
					division has a special significance. 
					</P>
					<UL>
						<LI><P CLASS="western">Part 1: Fieldname reference (<B>Required!</B>)</P>
						<LI><P CLASS="western">Part 2: Alternative fieldlabel (LS)</P>
						<LI><P CLASS="western">Part 3: Palette number (referring to an
						entry in the &quot;palettes&quot; section).</P>
						<LI><P CLASS="western">Part 4: Special configuration (splitted
						by colon ( : )), eg. 'nowrap' and 'richtext[<I>(list of keys or
						*)</I>]' (see section later)</P>
						<LI><P CLASS="western">Part 5: Form style codes (see section
						later)</P>
					</UL>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Notice: Instead of a real fieldname you can
				insert &quot;--div--&quot; and you should have a divider line
				shown. However this is not rendered by default. If you set the
				dividers2tabs option (see ['ctrl'] section), each –div-- will
				mark define a new tab. Furthermore using a value &quot;newline&quot;
				for Part 3, will start a newline with this tab.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'types'</FONT> <FONT COLOR="#007700">=&gt; array</FONT>(
    <FONT COLOR="#dd0000">'0'</FONT> <FONT COLOR="#007700">=&gt; array</FONT>(<FONT COLOR="#dd0000">'showitem'</FONT> <FONT COLOR="#007700">=&gt;</FONT> <FONT COLOR="#dd0000">'</FONT>
<FONT COLOR="#dd0000">        --div--;Your Label,field1,field2,</FONT>
<FONT COLOR="#dd0000">        --div--;Your Label2;newline,field3,field4</FONT>
<FONT COLOR="#dd0000">    ')</FONT>
<FONT COLOR="#dd0000">)</FONT></PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">Another special fieldname, '--palette--', will
				insert a link to a palette (of course you need to specify a
				palette and title then...)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=19%>
				<P CLASS="western">subtype_value_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">Fieldname, which holds a value being a key in
				the 'subtypes_excludelist' array. This is used to specify a
				secondary level of 'types' - basically hiding certain fields of
				those found in the types-configuration, based on the value of
				another field in the row.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example (from
				sysext/cms/tbl_tt_content.php):</B></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'subtype_value_field'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'list_type'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#dd0000">'subtypes_excludelist'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'3'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'layout'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'layout'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'8'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'layout'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'indexed_search'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'layout,bodytext'</FONT><FONT COLOR="#007700">,</FONT>
)
</PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=19%>
				<P CLASS="western">subtypes_excludelist 
				</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">See &quot;subtype_value_field&quot;.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Syntax:</B></P>
				<P CLASS="western">“[field value]” =&gt; “[commalist of
				fields (from the main types-config) which are excluded]”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=19%>
				<P CLASS="western">subtypes_addlist</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">A list of fields to add when the
				&quot;subtype_value_field&quot; matches a key in this array.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">See &quot;subtype_value_field&quot;.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Syntax:</B></P>
				<P CLASS="western">“[value]” =&gt; “[commalist of fields
				which are added] 
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> that any transformation
				configuration used by TCE will NOT work because that
				configuration is visible for the TCEforms class only during the
				drawing of fields. In other words any configuration in this list
				of fields will work for display only.”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=19%>
				<P CLASS="western">bitmask_value_field</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(fieldname)</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">Fieldname, which holds a value being the
				integer (bit-mask) for the  'bitmask_excludelist_bits' array. 
				</P>
				<P CLASS="western">It works much like 'subtype_value_field' but
				excludes fields based on whether a bit from the value field is
				set or not. See 'bitmask_excludelist_bits'; 
				</P>
				<P CLASS="western">[+/-] indicates whether the bit [bit-number]
				is set or not.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western"><FONT COLOR="#dd0000">'bitmask_value_field'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'active'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#dd0000">'bitmask_excludelist_bits'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'-0'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tmpl_a_subpart_marker,tmpl_a_description'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'-1'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tmpl_b_subpart_marker,tmpl_b_description'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'-2'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'tmpl_c_subpart_marker,tmpl_c_description'</FONT>
)
</PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=19%>
				<P CLASS="western">bitmask_excludelist_bits</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">array</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">See &quot;bitmask_value_field&quot;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">“[+/-][bit-number]” =&gt; “[commalist of
				fields (from the main types-config) excluded]”</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
follows a code listing as example:</FONT></P>
<H5 CLASS="western">Example - simple configuration:</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is a quite normal and simple configuration. In the &quot;types&quot;
section the list of fields does not contain much additional stuff
except the first entry which configures &quot;Part 5&quot; - the
colorscheme for the whole form. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Basically
the &quot;showitem&quot; list is just listing the fieldnames which
will be displayed.</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'name;;;;1-1-1, age, language, allergies, allergies_list, institution, babysitting, other'</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;),
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The result of this configuration looks like
this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_29188c01.png" NAME="Graphic19" ALIGN=LEFT WIDTH=399 HEIGHT=295 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H5 CLASS="western">Example - semi complex configuration: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is a semi-complex example taken from the &quot;mininews&quot;
extension. It does include configuration of the rich text editor
which is the main reason for the lengthyness. Notice the &quot;palettes&quot;
definition which the example includes. The palette has number &quot;1&quot;
and will be triggered when the user puts the focus on the field
&quot;hidden&quot; (according to the configuration in the &quot;types&quot;
list).</FONT></P>
<PRE CLASS="western"><SCRIPT LANGUAGE="javascript">
				script_ended = 0;
				function jumpToUrl(URL)	{
					document.location = URL;
				}
			
</SCRIPT><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'hidden;;1;;1-1-1, datetime, title;;;;2-2-2, teaser;;;;3-3-3, full_text;;;richtext[cut|copy|paste|formatblock|textcolor|bold|italic|underline|left|center|right|orderedlist|unorderedlist|outdent|indent|link|table|image|line|chMode]:rte_transform[mode=ts_css|imgpath=uploads/tx_mininews/rte/], front_page'</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;),
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'palettes'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'starttime, endtime, fe_group'</FONT><FONT COLOR="#007700">)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;)
</PRE><H5 CLASS="western">
Example - complex configuration: 
</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is a part of the &quot;types&quot; definition for the &quot;tt_content&quot;
table. This is one of the more advanced configurations, including
basically all the levels of options you can use:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'types'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;Array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'header'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, subheader;;8'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'text'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, bodytext;;9;richtext[paste|bold|italic|underline|formatblock|class|left|center|right|orderedlist|</FONT><FONT COLOR="#dd0000">unorderedlist|outdent|indent|link|image]:rte_transform[flag=rte_enabled|mode=ts];3-3-3, rte_enabled, text_properties'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'textpic'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, bodytext;;9;richtext[paste|bold|italic|underline|formatblock|class|left|center|right|orderedlist|unorderedlist|outdent|indent|link|image]:rte_transform[flag=rte_enabled|mode=ts];3-3-3, rte_enabled, text_properties, --div--, image;;;;4-4-4, imageorient;;2, imagewidth;;13, </FONT></FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--palette--;LLL:EXT:cms/locallang_ttc.php:ALT.imgLinks;7, </FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--palette--;LLL:EXT:cms/locallang_ttc.php:ALT.imgOptions;11, </FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imagecaption;;5'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'rte'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, bodytext;;;nowrap:richtext[*]:rte_transform[mode=ts_images-ts_reglinks];3-3-3'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'image'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, image;;;;4-4-4, imageorient;;2, imagewidth;;13, </FONT></FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--palette--;LLL:EXT:cms/locallang_ttc.php:ALT.imgLinks;7, </FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--palette--;LLL:EXT:cms/locallang_ttc.php:ALT.imgOptions;11,</FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; imagecaption;;5'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bullets'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, layout;;;;3-3-3, bodytext;;9;nowrap, text_properties'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, layout;;10;button;3-3-3, cols, bodytext;;9;nowrap:wizards[table], text_properties'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'splash'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;LLL:EXT:lang/locallang_general.php:LGL.name;;;2-2-2, splash_layout, bodytext;;;;3-3-3, image;;6'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uploads'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</FONT><FONT COLOR="#dd0000">'showitem'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'CType;;4;button;1-1-1, header;;3;;2-2-2, media;;;;5-5-5, </FONT></FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select_key;LLL:EXT:cms/locallang_ttc.php:select_key.ALT.uploads, </FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layout;;10;button, filelink_size, </FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imagecaption;LLL:EXT:cms/locallang_ttc.php:imagecaption.ALT.uploads;;nowrap'</FONT><FONT COLOR="#007700">),</FONT></PRE><H3 CLASS="western">
<A NAME="4.2.17.['palettes'][key] section|outline"></A>['palettes'][<I>key</I>]
section</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;Palettes&quot;
represents a way to move less frequently used form fields out of
sight. Palettes are groups of field which are associated with a field
in the main form. When this field is activated the palette fields are
displayed. They are also known as &quot;secondary options&quot; which
is a more telling name I believe.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
configuration shows us that two palettes are defined (line 8 and 9)
with key 1 and 2. </FONT>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'hidden;;1, type;;1, title, test_template'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'title, test_template;;1, hidden, type'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'2' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'type, title'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'3' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'type;;2'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   6:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'palettes' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'starttime, endtime, fe_group'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'2' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'title'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  10:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#000000">  11:</FONT><FONT COLOR="#007700"> );</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Palette 1 is referred to from
&quot;types&quot;-configuration &quot;0&quot; by the field name
&quot;hidden&quot; and &quot;type&quot; and &quot;types&quot;
configuration &quot;1&quot; by the field &quot;test_template&quot;.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Palette
2 is referred to from &quot;types&quot;-configuration &quot;3&quot;
by the field name &quot;type&quot;. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration means that next to the checkbox for the field &quot;hidden&quot;
there is an icon which will activate the palette when clicked:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m2f842cf3.png" NAME="Graphic70" ALIGN=LEFT WIDTH=514 HEIGHT=130 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
palette fields appear in the top frame until another field in the
main form is activated.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
other option is to enable &quot;Show secondary options&quot; (found
in bottom of the form) which in some cases is more convenient way to
access palette fields:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1718224e.png" NAME="Graphic71" ALIGN=LEFT WIDTH=267 HEIGHT=26 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
results in the palette fields being included into the form, but
arranged horizontally instead of vertically:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_507d7a3e.png" NAME="Graphic72" ALIGN=LEFT WIDTH=489 HEIGHT=70 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
You should not show the same field on more than one palette! If you
do, the images (required and changed) will not work in MSIE.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=28*>
	<COL WIDTH=191*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Datatype</P>
			</TH>
			<TH WIDTH=75%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">showitem</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">string</P>
				<P CLASS="western">(list of fieldnames)</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western"><B>Required.</B></P>
				<P CLASS="western">Configuration of the displayed order of fields
				in the palette. Remember that a fieldname must not appear in more
				than one palette and not more than one time!. Eg.
				'hidden,starttime,endtime'</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">canNotCollapse</P>
			</TD>
			<TD WIDTH=11%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=75%>
				<P CLASS="western">If set, then this palette is not allowed to
				'collapse' in the TCEforms-display. 
				</P>
				<P CLASS="western">This basically means that if &quot;Show
				secondary options&quot; is not on, this palette is <I>still
				</I>displayed in the main form and not linked with an icon.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H2 CLASS="western"><A NAME="4.3.Additional $TCA features|outline"></A>
Additional $TCA features</H2>
<H3 CLASS="western"><A NAME="4.3.1.Special Configuration introduction|outline"></A>
Special Configuration introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
relation to &quot;types&quot;-configuration it is possible to pass
special parameters to a field only for certain type-configurations.
For instance you can define that a text field should not wrap text
lines when displayed by a certain types configuration:</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'hidden;;1, type, title, test_template, TEST01;;;</FONT><FONT COLOR="#dd0000"><B>nowrap</B></FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#007700">),</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice the keyword &quot;nowrap&quot; in
position 4 for the field &quot;TEST01&quot;. TEST01 itself is defined
like this in [columns]:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'TEST01' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST01: Text field'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'text'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The result becomes a small textarea field where
lines are not broken automatically. This is very useful for entering
codes:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m73d8eacb.png" NAME="Graphic73" ALIGN=LEFT WIDTH=322 HEIGHT=107 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
point of setting &quot;nowrap&quot; in the types configuration is
that under other &quot;types&quot;-configurations the field <I>will
</I>wrap lines. Likewise you can configure an RTE to appear for a
field only if a certain type of the record is set and in other cases
not.</FONT></P>
<H4 CLASS="western">Default Special Configuration (defaultExtras)</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Since
&quot;types&quot;-configuration does not apply for FlexForms and
since a feature available as special configuration is sometimes
needed regardless of type value you can also configure the default
value of the special configuration. This is done with a key in the
['columns'][<I>fieldname</I>] array. Thus, the alternative
configuration for the example above could be:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'TEST01' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST01: Text field'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'text'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000"><B>'defaultExtras' </B></FONT><FONT COLOR="#007700"><B>=&gt; </B></FONT><FONT COLOR="#dd0000"><B>'nowrap'</B></FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'types' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'showitem' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'hidden;;1, type, title, test_template, TEST01'</FONT><FONT COLOR="#007700">),</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This works equally well.</FONT></P>
<H3 CLASS="western"><A NAME="4.3.2.Special Configuration options|outline"></A>
Special Configuration options</H3>
<H4 CLASS="western">Keywords</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
table lists the options for keywords in special configuration. Each
keyword is followed by a <I>value</I> wrapped in [] (square
brackets). </FONT>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=33*>
	<COL WIDTH=69*>
	<COL WIDTH=51*>
	<COL WIDTH=102*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=13%>
				<P CLASS="western">Keyword</P>
			</TH>
			<TH WIDTH=27%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=20%>
				<P CLASS="western">Value syntax</P>
			</TH>
			<TH WIDTH=40%>
				<P CLASS="western">Examples</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">nowrap</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">Disables line wrapping in &quot;text&quot;
				type fields.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">[no options]</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">richtext</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">Enables the RTE for the field and allows you
				to set which toolbar buttons are shown.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">* or 
				</P>
				<P CLASS="western">keywords separated by &quot;|&quot;</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western">richtext[cut|copy|paste] = only cut, copy and
				paste options are shown. 
				</P>
				<P CLASS="western">richtext[*]	= all RTE options</P>
				<P CLASS="western">See RTE API definition later for more details.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">rte_transform</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">Configuration of RTE transformations and other
				options.</P>
				<P CLASS="western"><I>See table below for a list of the key
				values possible.</I></P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">key1=value2|key2=value2|key3=value3|...</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western">rte_transform[key1=value1|key2=value2|key3=value3]</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">fixed-font</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">Use a monospace font in “textarea” type
				fields.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">[no options]</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">enable-tab</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">Enable tabulator inside “textarea” type
				fields.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">[no options]</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">rte_only</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">If set, the field can <I>only</I> be edited
				with a Rich Text Editor - otherwise it will not show up.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">boolean (0/1)</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">static_write</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">This allows to configure a field value to be
				written to a file. 
				</P>
				<P CLASS="western"><I>See table below for value of f1-f5</I></P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">f1|f2|f3|f4|f5</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">wizards</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">Used to specifically enable wizards configured
				for a field. See option &quot;enableByTypeConfig&quot; in the
				wizard configuration.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">wizard-key1|wizard-key2|...</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western">wizards[table]</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">rte_transform[] key/value pairs</H4>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=33*>
	<COL WIDTH=69*>
	<COL WIDTH=51*>
	<COL WIDTH=102*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=13%>
				<P CLASS="western">Keyword</P>
			</TH>
			<TH WIDTH=27%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=20%>
				<P CLASS="western">Value syntax</P>
			</TH>
			<TH WIDTH=40%>
				<P CLASS="western">Examples</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">flag</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">This points to a field in the row which
				determines whether or not the RTE is disabled. If the value of
				the field is set, then the RTE is disabled.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">Fieldname</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western">rte_transform[flag=rte_disable]</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">mode</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">Configures which transformations the content
				will pass through between the database and the RTE application.</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">Transformation keywords separated by dashes
				(&quot;-&quot;).</P>
				<P CLASS="western">The order is calling order when direction is
				&quot;db&quot;.</P>
				<P CLASS="western"><I>See </I><A HREF="#Transformation%20overview%7Coutline"><I>RTE
				API</I></A><I> section for list of transformations available.</I></P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western">rte_transform[mode=ts_css-images]</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">imgpath</P>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=27%>
				<P CLASS="western">This sets an alternative path for Rich Text
				Editor images. Default is configured by the value
				TYPO3_CONF_VARS[&quot;BE&quot;][&quot;RTE_imageStorageDir&quot;]
				(default is “uploads/”)</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western">path relative to PATH_site, eg.
				“uploads/rte_test/”</P>
			</TD>
			<TD WIDTH=40%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">Example - Setting up Rich Text Editors</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
sets up a Rich Text Editor with all possible tool bar buttons
available, no transformations added or anything else:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'TEST01' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST01: Text field'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'text'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'defaultExtras' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'richtext[*]'</FONT></FONT>
<FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This example is from the &quot;mininews&quot;
extension which offers a RTE for editing the content of website news.
This includes a limited list of toolbar buttons and a transformation
of content (&quot;ts_css&quot;) as well as a definition of an
alternative storage path for uploaded images in the RTE
(&quot;uploads/tx_mininews/rte/&quot;)</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb"><B>richtext</B></FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb">cut</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">copy</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">paste</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">formatblock</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">textcolor</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">bold</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">italic</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">underline</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">left</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">center</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">right</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">orderedlist</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">unorderedlist</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">outdent</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">indent</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">link</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">table</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">image</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">line</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb">chMode</FONT><FONT COLOR="#007700">]:</FONT><FONT COLOR="#0000bb"><B>rte_transform</B></FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb"><B>mode</B></FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#0000bb">ts_css</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb"><B>imgpath</B></FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#0000bb">uploads</FONT><FONT COLOR="#007700">/</FONT><FONT COLOR="#0000bb">tx_mininews</FONT><FONT COLOR="#007700">/</FONT><FONT COLOR="#0000bb">rte</FONT><FONT COLOR="#007700">/]</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The configuration for the RTE in the Content
Elements is very similar regarding the enabled buttons. But the
&quot;rte_transform&quot; values are slightly different. Here the
field &quot;rte_enabled&quot; will disable the RTE if true (this
field is a checkbox) and the transformation is &quot;ts&quot;.</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb"><B>rte_transform</B></FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#0000bb"><B>flag</B></FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#0000bb">rte_enabled</FONT><FONT COLOR="#007700">|</FONT><FONT COLOR="#0000bb"><B>mode</B></FONT><FONT COLOR="#007700">=</FONT><FONT COLOR="#0000bb">ts</FONT><FONT COLOR="#007700">]</FONT></PRE><H4 CLASS="western">
static_write[] parameters</H4>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=33*>
	<COL WIDTH=223*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=13%>
				<P CLASS="western">Keyword</P>
			</TH>
			<TH WIDTH=87%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">f1</P>
			</TD>
			<TD WIDTH=87%>
				<P CLASS="western">The field name which contains the name of the
				file being edited. This filename should be relative to the path
				configured in $TYPO3_CONF_VARS[“BE”][“staticFileEditPath”]
				(which is &quot;fileadmin/static/&quot; by default).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">f2</P>
			</TD>
			<TD WIDTH=87%>
				<P CLASS="western">The field name which will also receive a copy
				of the content (in the database).</P>
				<P CLASS="western">This should probably be the field name that
				carries this configuration.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">f3</P>
			</TD>
			<TD WIDTH=87%>
				<P CLASS="western">The field name containing the alternative
				subpart marker used to identify the editable section in the file.
								</P>
				<P CLASS="western">The default marker is
				###TYPO3_STATICFILE_EDIT### and may be encapsulated in HTML
				comments. There must be two markers, one to identify the
				beginning and one for the end of the editable section.</P>
				<P CLASS="western">Optional.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">f4</P>
			</TD>
			<TD WIDTH=87%>
				<P CLASS="western">The field name of the record which - if true -
				indicates that the content should always be loaded into the form
				from the file and not from the duplicate field in the database.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=13%>
				<P CLASS="western">f5</P>
			</TD>
			<TD WIDTH=87%>
				<P CLASS="western">The field name which will receive a status
				message as a short text string.</P>
				<P CLASS="western">Optional.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">Example - Write to static file</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
setup configures two fields in a record to point to a file and edit
content in it between two markers:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'TEST01' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST01: Text field'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'text'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'defaultExtras' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'static_write[TEST02|TEST01|||]'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The field &quot;TEST02&quot; must contain a
filepath relative to &quot;fileadmin/static/&quot;. In this case the
filename is &quot;static_write_file.txt&quot;.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_484c1252.png" NAME="Graphic74" ALIGN=LEFT WIDTH=299 HEIGHT=129 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
content of &quot;fileadmin/static/static_write_file.txt&quot; is like
this:</FONT></P>
<PRE CLASS="western">outside

###TYPO3_STATICFILE_EDIT###
Hello World!
###TYPO3_STATICFILE_EDIT###

outside below</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">When the content of the &quot;TEST01&quot;
field is edited the content between the markers
&quot;###TYPO3_STATICFILE_EDIT###&quot; is updated as well.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can study a full-blown configuration of these features in the
extension called &quot;static_file_edit&quot;.</FONT></P>
<H3 CLASS="western"><A NAME="4.3.3.Soft References|outline"></A>Soft
References</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;Soft
References&quot; are references to database elements, files, email
addresses, URls etc. which are found in-text in content. The &lt;link
[page_id]&gt; tag from typical bodytext fields are an example of
this. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
Soft Reference parsers are used by the system to find these
references and process them accordingly in import/export actions and
copy operations. Also, the soft references are utilized by integrity
checking functions.</FONT></P>
<H4 CLASS="western">Default soft reference parsers</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
class “t3lib_softrefproc” contains generic parsers for the most
well-known types which are default for most TYPO3 installations. This
is the list of the possible keys:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=39*>
	<COL WIDTH=217*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=15%>
				<P CLASS="western">“softref” key:</P>
			</TH>
			<TH WIDTH=85%>
				<P CLASS="western">Description:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">substitute</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">A full field value targeted for manual
				substitution (for import /export features)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">notify</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">Just report if a value is found, nothing more.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">images</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">HTML &lt;img&gt; tags for RTE images / images
				from fileadmin/</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">typolink</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">References to page id or file, possibly with
				anchor/target, possibly comma separated list.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">typolink_tag</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">As typolink, but searching for &lt;link&gt;
				tag to encapsulate it.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">TSconfig</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">Processing (filerefs? Domains? what do we
				know...)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">TStemplate</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">freetext references to &quot;fileadmin/&quot;
				files. HTML resource links like &lt;a&gt;, &lt;img&gt;, &lt;form&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">ext_fileref</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">Relative file reference, prefixed
				&quot;EXT:[extkey]/&quot; - for finding extension dependencies</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">email</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">Email highlight</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western">url</P>
			</TD>
			<TD WIDTH=85%>
				<P CLASS="western">URL highlights (with a scheme)</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">These
are by default set up in the config_default.php file:</FONT></P>
<PRE CLASS="western">	'SC_OPTIONS' =&gt; Array(
		'GLOBAL' =&gt; array(
			'softRefParser' =&gt; array(
				'substitute' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'notify' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'images' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'typolink' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'typolink_tag' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'TSconfig' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'TStemplate' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'ext_fileref' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'email' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
				'url' =&gt; 't3lib/class.t3lib_softrefproc.php:&amp;t3lib_softrefproc',
			)
		)
	),</PRE><H4 CLASS="western">
User defined soft reference parsers</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Soft
References can also be user defined. It is easy to set them up by
simply adding new keys in
$TYPO3_CONF_VARS['SC_OPTIONS']['GLOBAL']['softRefParser']. Use
keynames based on the extension you put it in, eg.
“tx_myextensionkey”.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
class containing the soft reference parser must have a function named
“findRef”. Please refer to the class “t3lib_softrefproc” from
t3lib/ for the API to use and return.</FONT></P>
<H3 CLASS="western"><A NAME="4.3.4.Wizards Configuration|outline"></A>
Wizards Configuration</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Wizards
are configurable for some field types, namely “input”, “text”,
&quot;select&quot; and &quot;group&quot; types. They provide a way to
insert helper-elements, links to wizard scripts etc.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
well known example of a wizard application is the form wizard:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m2adfa74f.png" NAME="Graphic75" ALIGN=LEFT WIDTH=496 HEIGHT=166 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
wizard is configured for the text area field and appears as an icon
to the right. Clicking the icon will guide the user to a view where
the &quot;cryptic&quot; form code is presented in a more user
friendly interface:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_47f72726.png" NAME="Graphic76" ALIGN=LEFT WIDTH=468 HEIGHT=421 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Another
example of wizards are the new / edit / list links which are
available for &quot;group&quot; or &quot;select&quot; type fields:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_771611c5.png" NAME="Graphic77" ALIGN=LEFT WIDTH=555 HEIGHT=100 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Configuration of wizards</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
value of the “wizards” key in the field config-array is an array.
Each key is yet an array which configures the individual wizards for
a field. The order of the keys determines the order the wizards are
displayed. The key-values themselves play no important role (except
from a few reserved words listed in a table below).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration for the new / edit / list links above looks like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'usergroup' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Group:'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'be_groups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'foreign_table_where' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'ORDER BY be_groups.title'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'5'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'maxitems' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'20'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'_PADDING' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'_VERTICAL' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'edit' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'popup'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Edit usergroup'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_edit.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'popup_onlyOpenIfSelected' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'edit2.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'JSopenParams' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'height=350,width=580,status=0,menubar=0,scrollbars=1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  19:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'add' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  21:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  22:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Create new group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  23:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'add.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  24:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  25:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'be_groups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  26:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  27:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'setValue' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'prepend'</FONT></FONT>
<FONT COLOR="#000000">  28:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  29:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_add.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  30:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  31:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'list' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  32:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  33:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'List groups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  34:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'list.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'be_groups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  37:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  38:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  39:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_list.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  40:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  41:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  42:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  43:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The wizard configuration takes place in line 9
and throughout. Two reserved keywords are used in line 10 and 11 to
set arrangement settings for the display of icons. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Then
a new wizard is configured in lines 12 (edit), 20 (add) and 31
(list).</FONT></P>
<H4 CLASS="western">Reserved keys</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Each
wizard is identified by a key string. However some strings are
reserved for general configuration. These are listed in this table
and as a rule of thumb they are prefixed with an underscore (&quot;_&quot;):</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=35*>
	<COL WIDTH=41*>
	<COL WIDTH=179*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=70%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">_POSITION</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">Determines the position of the
				wizard-icons/titles. 
				</P>
				<P CLASS="western">Default is “right”. 
				</P>
				<P CLASS="western">Possible values are “left”, “top”,
				“bottom”.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">_ VERTICAL</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">If set, the wizard icons (if more than one)
				will be positioned in a column (vertically) and not a row
				(horizontally, which is default)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">_ DISTANCE</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">int+</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">The distance in pixels between wizard icons
				(if more than one).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">_PADDING</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">int+</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">The cellpadding of the table which keeps the
				wizard icons together.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">_VALIGN</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">valign attribute in the table holding things
				together.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">_HIDDENFIELD</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">If set, the field itself will be a hidden
				field (and so not visible...)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western">[any other key]</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">PHP-Array</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western">Configuration of the wizard types, see below.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">General configuration options</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
table lists the general configuration options for (almost) all wizard
types. In particular the value of the &quot;type&quot; key is
important because it denotes what additional options are available.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=40*>
	<COL WIDTH=36*>
	<COL WIDTH=180*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=16%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=14%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=70%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>type</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Defines the type of wizard. The
				options are listed as headlines in the table below.</P>
				<P CLASS="western" ALIGN=LEFT><B>This setting is required!</B></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>title</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>string (LS)</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>This is the title of the wizard.
				For those wizards which require a physical representation - eg a
				link - this will be the link if no icon is presented.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>icon</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>fileref</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>This is the icon representing the
				wizard. 
				</P>
				<P CLASS="western" ALIGN=LEFT>If the first 3 chars are NOT “../”
				then the file is expected to be in “t3lib/gfx/”. So to insert
				custom images, put them in “../typo3conf/” or so. You can
				also prefix icons from extensions with &quot;EXT:ext/[extension
				key]/directory.../&quot;. Generally, the format is the same as
				for referring to icons for selector box options.</P>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
				<P CLASS="western" ALIGN=LEFT>If the icon is not set, the title
				will be used for the link.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>enableByTypeConfig</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>If set, then the wizard is enabled
				only the in Special Configuration in the types are set to
				“wizards[<I>list of wizard-keys</I>]”. See wizard section.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>RTEonly</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>If set, then this wizard will
				appear only if the wizard is presented for a RTE field.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>hideParent</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>array</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>If set, then the real field will
				not be shown (but rendered as a hidden field). In “hideParent”
				you can configure the non-editable display of the content as if
				it was a field of the “none” type. The options are the same
				as for the “config” key for “none” types.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Specific wizard configuration options based on
type</H4>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=35*>
	<COL WIDTH=41*>
	<COL WIDTH=179*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=70%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD COLSPAN=3 WIDTH=100% VALIGN=TOP>
				<P CLASS="western" ALIGN=LEFT><I><B>Type: script</B></I></P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				Creates a link to an external script which can do &quot;context
				sensitive&quot; processing of the field. This is how the Form and
				Table wizards are used.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>notNewRecords</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>If set, the link will appear <I>only</I>
				if the record is not new (that is, it has a proper UID)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>script</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>PHP-script filename</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>If the first 3 chars are NOT “../”
				then the file is expected to be in “typo3/”. So to link to
				custom script, put it in “../typo3conf/”. File reference can
				be prefixed &quot;EXT:[extension key]/&quot; to point to a file
				inside an extension.</P>
				<P CLASS="western" ALIGN=LEFT>A lot of parameters are passed to
				the script as GET-vars in an array, P.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>params</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>array</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Here you can put values which are
				passed to your script in the P array.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>popup_onlyOpenIfSelected</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>If set, then an element (one or
				more) from the list must be selected. Otherwise the popup will
				not appear and you will get a message alert instead. This is
				supposed to be used with the wizard_edit.php script for editing
				records in &quot;group&quot; type fields.</P>
			</TD>
		</TR>
		<TR>
			<TD COLSPAN=3 WIDTH=100% VALIGN=TOP>
				<P CLASS="western" ALIGN=LEFT><I><B>Type: popup (+colorbox)</B></I></P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				Creates a link to an external script opened in a pop-up window.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>notNewRecords</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>See above, type “script”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>script</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>PHP-script filename</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>See above, type “script”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>params</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>See above, type “script”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>JSopenParams</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Parameters to open JS window:</P>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
				<P CLASS="western" ALIGN=LEFT><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">&quot;JSopenParams&quot; =&gt; &quot;height=300,width=250,status=0,menubar=0,scrollbars=1&quot;,</PRE>
			</TD>
		</TR>
		<TR>
			<TD COLSPAN=3 WIDTH=100% VALIGN=TOP>
				<P CLASS="western" ALIGN=LEFT><I><B>Type: userFunc</B></I></P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				Calls a user function/method to produce the wizard or whatever
				they are up to.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>notNewRecords</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>See above, type “script”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>userFunc</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Calls a function or a method in a
				class.</P>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
				<P CLASS="western" ALIGN=LEFT><B>Methods:</B>
				[classname]-&gt;[methodname]</P>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
				<P CLASS="western" ALIGN=LEFT><B>Functions:</B> [functionname]</P>
				<P CLASS="western" ALIGN=LEFT>The function/class must be included
				on beforehand. This is advised to be done within the
				localconf.php file.</P>
				<P CLASS="western" ALIGN=LEFT>Two parameters are passed to the
				function/method: 1) An array with parameters, much like the ones
				passed to scripts. One key is special though: the “item” key,
				which is passed by reference. So if you alter that value it is
				reflected <I>back</I>! 2) $this (reference to the
				TCEform-object).</P>
				<P CLASS="western" ALIGN=LEFT>The content returned from the
				function call is inserted at the position where the the
				icon/title would normally go.</P>
			</TD>
		</TR>
		<TR>
			<TD COLSPAN=3 WIDTH=100% VALIGN=TOP>
				<P CLASS="western" ALIGN=LEFT><I><B>Type: colorbox</B></I></P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				Renders a square box (table) with the background color set to the
				value of the field. The id-attribute is set to a md5-hash so you
				might change the color dynamically from pop-up- wizard.</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				The icon is not used, but the title is given as alt-text inside
				the color-square.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>dim</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>W x H, pixels</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Determines the dimensions of the
				box. Default is 20 pixels.</P>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">&quot;dim&quot; =&gt; &quot;50x20&quot;,</PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>tableStyle</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>style-attribute content in
				table-tag</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Sets the border style of the table,
				eg:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">&quot;tableStyle&quot; =&gt; &quot;border:solid 1px black;&quot;</PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>exampleImg</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Reference to a sample (relative to
				PATH_typo3 directory).</P>
				<P CLASS="western" ALIGN=LEFT>You can prefix with &quot;EXT:&quot;
				to get image from extension.</P>
				<P CLASS="western" ALIGN=LEFT>An image width of 350 is optimal
				for display.</P>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
				<P CLASS="western" ALIGN=LEFT><B>Example:</B></P>
				<P CLASS="western" ALIGN=LEFT>'exampleImg' =&gt;
				'gfx/wizard_colorpickerex.jpg'</P>
			</TD>
		</TR>
		<TR>
			<TD COLSPAN=3 WIDTH=100% VALIGN=TOP>
				<P CLASS="western" ALIGN=LEFT><I><B>Type: select</B></I></P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				This renders a selector box. When a value is selected in the box,
				the value is transferred to the field and the field (default)
				element is thereafter selected (this is a blank value and the
				label is the wizard title).</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				“select” wizards make no use of the icon.</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-style: normal; font-weight: normal">
				The “select” wizard's select-properties can be manipulated
				with the same number of TSconfig options which are available for
				“real” select-types in TCEFORM.[table].[field]. The position
				of these properties is
				“TCEFORM.[<I>table</I>].[<I>field</I>].wizards.[<I>wizard-key</I>]”.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>mode</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>append, prepend, [blank]</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT>Defines how the value is processed:
				Either added to the front or back or (default) substitutes the
				existing.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=14%>
				<P CLASS="western" ALIGN=LEFT>items,</P>
				<P CLASS="western" ALIGN=LEFT>foreign_table_</P>
				<P CLASS="western" ALIGN=LEFT>etc...</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>Options related to the selection of
				elements known from “select” form-element type in $TCA. 
				</P>
			</TD>
			<TD WIDTH=70%>
				<P CLASS="western" ALIGN=LEFT><B>Example:</B></P>
				<P CLASS="western" ALIGN=LEFT><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">&quot;items&quot; =&gt; Array(
	Array(&quot;8 px&quot;,&quot;8&quot;),
	Array(&quot;10 px&quot;,&quot;10&quot;),
	Array(&quot;11 px&quot;,&quot;11&quot;),
	Array(&quot;12 px&quot;,&quot;12&quot;),
	Array(&quot;14 px&quot;,&quot;14&quot;),
	Array(&quot;16 px&quot;,&quot;16&quot;),
	Array(&quot;18 px&quot;,&quot;18&quot;),
	Array(&quot;20 px&quot;,&quot;20&quot;)
)</PRE>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the next section all the default core wizard scripts are demonstrated
with examples. Before that, here is a few examples of wizards that
does not require an external script.</FONT></P>
<H5 CLASS="western">Example - Selector box of preset values</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can add a selector box containing preset values next to a field:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_3b7f1e8.png" NAME="Graphic88" ALIGN=LEFT WIDTH=183 HEIGHT=84 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
an option from the selector box is selected it will be transferred to
the input field of the element. The mode of transfer can be either
substitution (default) or prepending or appending the value to the
existing value.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
example above is achieved by this configuration:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'TEST01' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST01: Preset values'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'input'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'10'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'select' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'select'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'mode' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'items' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</FONT><FONT COLOR="#dd0000">'Label 1'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'Value 1'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</FONT><FONT COLOR="#dd0000">'Label 2'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'Value 2'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</FONT><FONT COLOR="#dd0000">'Label 3'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'Value 3'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  14:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  15:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT></PRE><H5 CLASS="western">
Example - User defined wizard (processing with PHP function)</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;userFunc&quot; type of wizard allows you to render all the
wizard code yourself. Theoretically, you could produce all of the
other wizard kinds (&quot;script&quot;, &quot;popup&quot;, &quot;colorbox&quot;
etc) with your own user function rendering the similar HTML.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example I will do two things with the wizard: </FONT>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">show
	how you can manipulate the HTML code of the form field the wizard is
	attached to </FONT>
	</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Add
	two links which access the content of the form field.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
result looks like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1fb04548.png" NAME="Graphic89" ALIGN=LEFT WIDTH=297 HEIGHT=53 BORDER=0><BR CLEAR=LEFT><FONT COLOR="#000000">The
configuration needed is this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'uproc' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'userFunc'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'userFunc' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'user_class-&gt;user_TCAform_procWizard'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'wrapTag' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'u'</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   8:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">And obviously, you need the code listing of the
class, &quot;user_class&quot;, as well:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">class </FONT><FONT COLOR="#0000bb">user_class </FONT><FONT COLOR="#007700">{</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;function </FONT><FONT COLOR="#0000bb">user_TCAform_procWizard</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#0000bb">$fobj</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Wrapping the field item in a &lt;div&gt; with border.</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   4:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Notice that $PA['item'] is passed by reference, so any manipulation</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   5:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// is automatically affecting the field without explicitly returning a value!</FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'item'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#dd0000">'&lt;div style=&quot;border: maroon 4px dashed;&quot;&gt;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'item'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'&lt;/div&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> </FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Adding wizard HTML code: Showing value in JavaScript ALERT box:</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$onclick </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">&quot;alert('This is the field value: ' + &quot;</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;document.&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'formName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;['&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;'].value);&quot;</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;return false;&quot;</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$output </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;#&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$onclick</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'&quot;&gt;[Show field value]&lt;/a&gt;&lt;br/&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  13:</FONT> </FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Adding wizard HTML code: Showing value in JavaScript ALERT box:</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$wTagBegin </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'params'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'wrapTag'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$wTagEnd </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'&lt;/'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'params'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'wrapTag'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$onclick </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">&quot;document.&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'formName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;['&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;'].value=&quot;</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;'&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$wTagBegin</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">&quot;' + document.&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'formName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;['&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;'].value + '&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$wTagEnd</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">&quot;';&quot;</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">implode</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'fieldChangeFunc'</FONT><FONT COLOR="#007700">]).&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Necessary to tell TCEforms that the value is updated.</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">&quot;return false;&quot;</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  21:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$output</FONT><FONT COLOR="#007700">.= </FONT><FONT COLOR="#dd0000">'&lt;a href=&quot;#&quot; onclick=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$onclick</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'&quot;&gt;'</FONT><FONT COLOR="#007700">.</FONT></FONT>
<FONT COLOR="#000000">  22:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'[Wrap in '</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$wTagBegin</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'...'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$wTagEnd</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">']'</FONT><FONT COLOR="#007700">).</FONT></FONT>
<FONT COLOR="#000000">  23:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;/a&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  24:</FONT> </FONT>
<FONT COLOR="#000000">  25:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Return Wizard HTML:</FONT></FONT>
<FONT COLOR="#000000">  26:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">return </FONT><FONT COLOR="#0000bb">$output</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  27:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  28:</FONT> }</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In line 6 you see how the form field is wrapped
in a &lt;div&gt; tag. Notice how all you need to do is to change the
value of $PA['item'] since that value is passed by reference to the
function and therefore doesn't need a return value - only to be
changed.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 9-12 you see the first link created. It just reads the current
value of the &lt;input&gt; field and shows in an alert box.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
line 15-23 you see how the value of the key &quot;wrapTag&quot; from
the &quot;params&quot; array (reserved space for user defined
parameters) is used to create a link which will wrap whatever content
of the input field in an HTML tag, in this case a &lt;u&gt; tag.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Finally
the wizard HTML created is returned.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Obviously
you will have to find out what kind of information is hidden in the
$PA variable. A TYPO3 specific way of doing this is to use
&quot;debug($PA);&quot; which will output the content of the array in
a nicely formatted table. In PHP there are native functions like
&quot;print_r&quot; or &quot;vardump&quot;.</FONT></P>
<H3 CLASS="western"><A NAME="4.3.5.Wizard scripts in the core|outline"></A>
Wizard scripts in the core</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
wizard interface allows you to use any PHP-script for your wizards
but there is a useful set of default wizard scripts available in the
core of TYPO3. These are found in PATH_typo3 and are all prefixed
&quot;wizard_&quot; (except &quot;browse_links.php&quot;).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Below
is a description of each of them including a description of their
special parameters and an example of usage.</FONT></P>
<H4 CLASS="western">wizard_add.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
script links to a form which allows you to create a new record in a
given table which may optionally be set as the value on return to the
real form.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=43*>
	<COL WIDTH=40*>
	<COL WIDTH=173*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>table</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">Table
				to add record in.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>pid</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>int</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">pid of
				the new record. 
				</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">You can
				use the “markers” (constants) as values instead if you wish:</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">###CURRENT_PID###<BR>###THIS_UID###<BR>###STORAGE_PID###<BR>###SITEROOT###</PRE><P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">
				<BR>
				</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">(see
				TCA/select for description)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>setValue</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>“prepend”, “set”, “append”</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">“set”
				= the field will be forced to have the new value on return</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">“append”/“prepend”
				= the field will have the value appended/prepended.</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">You
				must set one of these values.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example I have added the wizard script &quot;wizard_add.php&quot;
to the well known Frontend User Group selector:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_2d6b6beb.png" NAME="Graphic78" ALIGN=LEFT WIDTH=175 HEIGHT=48 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
the wizard icon is clicked the user is directed to a form where a new
frontend user group can be created:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_2893f236.png" NAME="Graphic79" ALIGN=LEFT WIDTH=519 HEIGHT=107 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
the new group is saved and the user clicks the close button of the
form the new group is automatically inserted as the current value.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration looks like this:</FONT></P>
<PRE CLASS="western">   1: 'fe_group' =&gt; Array (
   2: &nbsp;&nbsp;&nbsp;&nbsp;'exclude' =&gt; 1,
   3: &nbsp;&nbsp;&nbsp;&nbsp;'label' =&gt; 'LLL:EXT:lang/locallang_general.php:LGL.fe_group',
   4: &nbsp;&nbsp;&nbsp;&nbsp;'config' =&gt; Array (
   5: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'type' =&gt; 'select',
   6: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'items' =&gt; Array (
   7: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array('', 0),
   8: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array('LLL:EXT:lang/locallang_general.php:LGL.hide_at_login', -1),
   9: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array('LLL:EXT:lang/locallang_general.php:LGL.any_login', -2),
  10: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array('LLL:EXT:lang/locallang_general.php:LGL.usergroups', '--div--')
  11: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),
  12: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'foreign_table' =&gt; 'fe_groups',
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'add' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  16:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Add Frontend Group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  17:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'add.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'fe_groups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'###STORAGE_PID###'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  21:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'setValue' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'set'</FONT></FONT>
<FONT COLOR="#000000">  22:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">  23:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_add.php'</FONT></FONT>
<FONT COLOR="#000000">  24:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  25:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  26:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  27:</FONT> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Line 15 defines the type to be &quot;script&quot;
which is set to &quot;wizard_add.php&quot; in line 23. The parameters
that instructs the Add-wizard how to handle the creation is done in
line 19-21; The table is of course fe_groups and the pid where the
user is created is the Storage Folder set for the website. Of course
this requires a storage folder to exist. Finally, &quot;setValue&quot;
tells the wizard script that the uid of the new record should
substitute any current value.</FONT></P>
<H4 CLASS="western">wizard_edit.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
Edit wizard gives you a shortcut to edit references in &quot;select&quot;
or &quot;group&quot; type form elements. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m6662ad19.png" NAME="Graphic80" ALIGN=LEFT WIDTH=533 HEIGHT=266 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration below is what sets up this wizard.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'edit' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'popup'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Edit usergroup'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_edit.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'edit2.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'JSopenParams' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'height=350,width=580,status=0,menubar=0,scrollbars=1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   8:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This time the type fitting the wizard script
best is the &quot;popup&quot; type. It could have been the &quot;script&quot;
type as well, but it just works slightly better in this case if it is
a pop-up so we don't leave the original form.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are no parameters to pass along like there were for the Add wizard.</FONT></P>
<H4 CLASS="western">wizard_list.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
links to the Web&gt;List module for only one table and allows the
user to manipulate stuff there.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m76a06765.png" NAME="Graphic82" ALIGN=LEFT WIDTH=216 HEIGHT=65 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">By
clicking the icon you will get to the Web&gt;List module. Notice how
the &quot;Back&quot; link is found in the upper right corner, taking
you back to the edit form.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m71e4cf61.png" NAME="Graphic81" ALIGN=LEFT WIDTH=469 HEIGHT=144 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
wizard has a few parameters to configuration in the &quot;params&quot;
array:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=43*>
	<COL WIDTH=40*>
	<COL WIDTH=173*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>table</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">Table
				to manage records for</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>pid</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>int</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">id of
				the records you wish to list.</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">You can
				use the “markers” (constants) as values instead if you wish:</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">###CURRENT_PID###<BR>###THIS_UID###<BR>###STORAGE_PID###<BR>###SITEROOT###</PRE><P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">
				<BR>
				</P>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">(see
				TCA/select for description)</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration look like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'list' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'List groups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'list.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'table'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'fe_groups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'pid' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'###STORAGE_PID###'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   9:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_list.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  11:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The type is also the &quot;script&quot; type.
In the &quot;params&quot; array the table and pid passed to the
script is set.</FONT></P>
<H4 CLASS="western">wizard_colorpicker.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
colorpicker wizard allows you to select a HTML color value from a
user friendly pop-up box. The wizard type is &quot;colorbox&quot;
which will first of all add a colored box next to an input field:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_67bcedec.png" NAME="Graphic84" ALIGN=LEFT WIDTH=292 HEIGHT=33 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
color of the box is set to the value of the text field. Clicking the
box will open a popup window with the color picker wizard script
showing itself:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1cde5ef3.png" NAME="Graphic83" ALIGN=LEFT WIDTH=204 HEIGHT=331 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
you can select from the web-color matrix, pick a color from the
sample image or select a HTML-color name from a selector box.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration needed looks like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'TEST01' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST01: Color picker wizard'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'input'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'size' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'30'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'wizards' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'colorpick' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'colorbox'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Color picker'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  10:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_colorpicker.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'dim' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'20x20'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'tableStyle' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'border: solid 1px black; margin-left: 20px;'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  13:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'JSopenParams' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'height=550,width=365,status=0,menubar=0,scrollbars=1'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'exampleImg' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'gfx/wizard_colorpickerex.jpg'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  15:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  16:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  17:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#000000">  18:</FONT><FONT COLOR="#007700"> ),</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Notice the wizard type is &quot;colorbox&quot;.</FONT></P>
<H4 CLASS="western">wizard_forms.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
forms wizard is used typically with the Content Elements, type
&quot;Mailform&quot;. It allows to edit the code-like configuration
of the mail form with a nice editor. This is shown in the
introduction to Wizards above. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the available parameters:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=43*>
	<COL WIDTH=40*>
	<COL WIDTH=173*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>xmlOutput</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">If set,
				the output from the wizard is XML instead of the strangely
				formatted TypoScript form-configuration code.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H4 CLASS="western"></H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration used for the editor in Content Elements looks like
this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'forms' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'notNewRecords' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'enableByTypeConfig' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Forms wizard'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_forms.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_forms.php?special=formtype_mail'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'xmlOutput' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">)</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H4 CLASS="western">wizard_table.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
tables wizard is used typically with the Content Elements, type
&quot;Table&quot;. It allows to edit the code-like configuration of
the tables with a nice editor. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m4fd9f21d.png" NAME="Graphic85" ALIGN=LEFT WIDTH=552 HEIGHT=227 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the available parameters:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=43*>
	<COL WIDTH=40*>
	<COL WIDTH=173*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>xmlOutput</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>boolean</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">If set,
				the output from the wizard is XML instead of the TypoScript
				form-configuration code.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western" ALIGN=LEFT>numNewRows</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>integer</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western" ALIGN=LEFT STYLE="font-weight: normal">Setting
				the number of blank rows that will be added in the bottom of the
				table when the plus-icon is pressed. The default is 5, the range
				is 1-50.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the configuration code used for the table wizard in the Content
Elements:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'table' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'notNewRecords' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'enableByTypeConfig' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Table wizard'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_table.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_table.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'xmlOutput' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">0</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">),</FONT></PRE><H4 CLASS="western">
wizard_rte.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
wizard is used to show a &quot;full-screen&quot; Rich Text Editor
field. The configuration below shows an example taken from the Text
field in  Content Elements:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'RTE' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'notNewRecords' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'RTEonly' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#0000bb">1</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'script'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:cms/locallang_ttc.php:bodytext.W.RTE'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_rte2.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'wizard_rte.php'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">),</FONT></PRE><H4 CLASS="western">
wizard_tsconfig.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
wizard is used for the TSconfig fields and TypoScript Template
&quot;Setup&quot; fields. It is specialized for that particular
situations and it is not likely you will need it for anything on your
own.</FONT></P>
<H4 CLASS="western">browse_links.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;Links&quot; wizard is used many places where you want to insert
link references.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=43*>
	<COL WIDTH=40*>
	<COL WIDTH=173*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=17%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Type</P>
			</TH>
			<TH WIDTH=68%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">allowedExtensions</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Comma separated list of allowed file
				extensions. By default, all extensions are allowed.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=17%>
				<P CLASS="western">blindLinkOptions</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western" ALIGN=LEFT>string</P>
			</TD>
			<TD WIDTH=68%>
				<P CLASS="western">Comma separated list of link options that
				should not be displayed. Possible values are file, mail, page,
				spec, and url. By default, all link options are displayed.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
works not only in the Rich Text Editor but also in &quot;typolink&quot;
fields:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_226225e2.png" NAME="Graphic86" ALIGN=LEFT WIDTH=227 HEIGHT=46 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Clicking
the wizard icons opens the Element Browser window:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_51e605a0.png" NAME="Graphic87" ALIGN=LEFT WIDTH=478 HEIGHT=334 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Such
a wizard can be configured like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#dd0000">'link' </FONT><FONT COLOR="#007700">=&gt; array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'popup'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'title' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'Link'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'link_popup.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'script' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#dd0000"><B>browse_links.php?mode=wizard</B></FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'JSopenParams' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'height=300,width=500,status=0,menubar=0,scrollbars=1'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000"><BR></FONT><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'params' </FONT><FONT COLOR="#007700">=&gt; array(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowedExtensions'</FONT><FONT COLOR="#007700"> =&gt; </FONT><FONT COLOR="#dd0000">'html,htm'</FONT><FONT COLOR="#007700">,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'blindLinkOptions'</FONT><FONT COLOR="#007700"> =&gt; </FONT><FONT COLOR="#dd0000">'mail,page,spec,url'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000"><BR></FONT><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000"><FONT COLOR="#007700">)</FONT>		</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
how the &quot;browse_links.php&quot; script requires an extra
parameter since it has to return content back to the input field (and
not the RTE for instance which it also supports).</FONT></P>
<H3 CLASS="western"><A NAME="4.3.6.$PAGES_TYPES|outline"></A>$PAGES_TYPES</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">$PAGES_TYPES
defines the various types of pages (field: doktype) the system can
handle and what restrictions may apply to them. Here you can set the
icon and especially you can define which tables are allowed on a
certain page type (doktype). </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>NOTE:</B>
The &quot;default&quot; entry in the $PAGES_TYPES-array is the &quot;base&quot;
for all types, and for every type the entries simply overrides the
entries in the &quot;default&quot; type!!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the default array as set in t3lib/stddb/tables.php:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$PAGES_TYPES </FONT><FONT COLOR="#007700">= Array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'254' </FONT><FONT COLOR="#007700">=&gt; Array(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">//&nbsp;&nbsp;Doktype 254 is a 'sysFolder' - a general purpose storage</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'sys'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'sysf.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowedTables' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'*'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'255' </FONT><FONT COLOR="#007700">=&gt; Array(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Doktype 255 is a recycle-bin.</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'sys'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'recycler.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowedTables' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'*'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'default' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'web'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'pages.gif'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'allowedTables' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'pages'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'onlyAllowedTables' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'0'</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#dd0000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Each array has the following options available:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=55*>
	<COL WIDTH=201*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=78%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">type</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Can be &quot;sys&quot; or &quot;web&quot;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">icon</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Alternative icon.</P>
				<P CLASS="western">The file reference is on the same format
				&quot;iconfile&quot; in [ctrl] section of TCA</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">allowedTables</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">The tables that may reside on pages with that
				&quot;doktype&quot;.  
				</P>
				<P CLASS="western">Commalist with tables allowed on this page
				doktype. &quot;*&quot; = all</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22%>
				<P CLASS="western">onlyAllowedTables</P>
			</TD>
			<TD WIDTH=78%>
				<P CLASS="western">Boolean. If set, the tce_main class will not
				allow a shift of doktype if unallowed records are on the page.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
<I>All four options</I> must be set for the default type while the
rest can choose as they like.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">White
$PAGES_TYPES is most significant, there are a few other global
variables which deserves a mention in relation to $TCA:</FONT></P>
<H4 CLASS="western">$ICON_TYPES</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">With
$ICON_TYPES you can assign alternative icons to pages records based
on the field 'module' in pages table. Each key is a value from the
&quot;module&quot; field of page records and the value is an array
with a key/value pair, eg. &quot;icon&quot; =&gt; &quot;modules_shop.gif&quot;.
The file reference is on the same format &quot;iconfile&quot; in
[ctrl] section of TCA</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the configuration found in &quot;cms&quot; extension and setting
icons for some legacy extensions:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting ICON_TYPES</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#ff8000">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$ICON_TYPES </FONT><FONT COLOR="#007700">= Array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'shop' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'modules_shop.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'board' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'modules_board.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'news' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'modules_news.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'dmail' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'modules_dmail.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fe_users' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'modules_fe_users.gif'</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'approve' </FONT><FONT COLOR="#007700">=&gt; Array(</FONT><FONT COLOR="#dd0000">'icon' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'modules_approvals.gif'</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Usage
of $ICON_TYPES is deprecated.</FONT></P>
<H4 CLASS="western">$LANG_GENERAL_LABELS</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Commonly
used language labels which can be used in the $TCA array and
elsewhere. Has become obsolete - just use the values of each entry
directly.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
backwards compatibility $LANG_GENERAL_LABELS are still available but
deprecated. This is the default values:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$LANG_GENERAL_LABELS </FONT><FONT COLOR="#007700">= array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'endtime' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.endtime'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'hidden' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.hidden'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'starttime' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.starttime'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'fe_group' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.fe_group'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'hide_at_login' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.hide_at_login'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'any_login' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.any_login'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'usergroups' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.usergroups'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><H3 CLASS="western">
<A NAME="4.3.7.Loading the full $TCA dynamically|outline"></A>Loading
the full $TCA dynamically</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
may load table descriptions dynamically (as needed) from separate
files using the function t3lib_div::loadTCA($tablename) where
$tablename is the name of the table you wish to load a complete
description of.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Dynamic
tables must always be configured with a <I>full</I> [ctrl]-section
(and [feInterface] section if needed). That is, it must be
represented by $TCA[$table]['ctrl']. If the table is dynamic, the
value of [ctrl][dynamicConfigFile] points to an includefile with the
full array in. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
loadTCA-function determines whether a table is fully loaded based on
whether $TCA[$table][columns] is an array. If it is found to be an
array the function just returns - else it loads the table if there is
a value for “dynamicConfigFile”</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
table “pages” must not be dynamic. All others can be in
principle. You can also define more than one table in a
dynamicConfigFile - as long as the $TCA array is correctly updated
with table information it doesn't matter if a file contains
configuration for more than the requested table - although the
requested table should of cause always be configured, because it's
expected to be. In fact there is not much error checking; The
function loadTCA simply includes the file in blind faith that this
action will fully configure the table in question.</FONT></P>
<H4 CLASS="western">Locating places where t3lib_div::loadTCA call is
needed</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">To
find places in your backend code where this should probably be
implemented search for:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>&quot;each($TCA)&quot;</B>
- This is potentially dangerous in a construction like this:</FONT></P>
<PRE CLASS="western">	while(list($table,$config)=each($TCA))</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">where
$config would obtain non-complete content. Instead it should look
like:</FONT></P>
<PRE CLASS="western">	while(list($table)=each($TCA))	{
		t3lib_div::loadTCA($table);
		$config=$TCA[$table]
		...
	}</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">\[“?(palettes|types|columns|interface)”?\]
<SPAN STYLE="font-weight: normal">	(regex) - to find places where the
palettes, types, columns and interfaces keys are used - which would
require the whole array to be loaded!</SPAN></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It's
recommended to always call the function t3lib_div::loadTCA() before
using the non-[ctrl] sections of the $TCA array. The function returns
immediately if the table is already loaded, so the overhead should be
small and the importance is great.</FONT></P>
<H3 CLASS="western"><A NAME="4.3.8.Benchmarks on dynamic tables:|outline"></A>
Benchmarks on dynamic tables:</H3>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=51*>
	<COL WIDTH=51*>
	<COL WIDTH=51*>
	<COL WIDTH=51*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Module</P>
			</TH>
			<TH COLSPAN=2 WIDTH=40%>
				<P CLASS="western">tables.php with all configuration</P>
			</TH>
			<TH COLSPAN=2 WIDTH=40%>
				<P CLASS="western">Dynamic loading</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>Cache</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>No cache</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>Cache</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>No cache</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">Web&gt;List (loads all)</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>173 ms</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>322 ms</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>177 ms</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>328 ms</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">Web&gt;Info (loads none)</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>72 ms</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>174 ms</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>66 ms</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>136 ms</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Benchmarks
on a PIII/500 MHz Linux PHP4.1.2/Apache, 256 MB RAM. PHP-Cache is
PHP-accelerator. All figures are parsetimes in milliseconds.</FONT></P>
<H4 CLASS="western"><B>Analysis:</B> 
</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">What
we see is, when showing a page in Web&gt;List where all tables are
loaded, the dynamic loading of tables includes a little overhead
(177-173=4 ms) regardless of script-caching. This seems fair,
probably due to file operations. It's also evident that the
script-caching boosts the parsing considerably in both cases, saving
approximately 150 ms in parsetime!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
Web&gt;Info module does not load any tables (at least not in the
mode, this was tested). This is the whole point of all this - that
the full table definitions are loaded only if needed (as they were by
the Web&gt;List module). Again the point of caching is clear. But the
main thing to look at is, that the Web&gt;Info module is loaded in
66/136 seconds (cache/non-cache) with dynamic loading (was later
tested to 60/118 ms when tt_content was not loaded by default) which
is LOWER than if the whole tables.php was included (72/174 ms).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">At
this point the performance gain is not significant but welcomed.
However the mechanism of dynamic loading of tables provides the basis
for much greater number of tables in TYPO3. Testing 31 duplicates of
the tt_content table added to the default number of configured tables
(total of 62 tables configured) gave this benchmark:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=125*>
	<COL WIDTH=61*>
	<COL WIDTH=71*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=49%>
				<P CLASS="western">Module</P>
			</TH>
			<TH COLSPAN=2 WIDTH=51%>
				<P CLASS="western">Dynamic loading</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=49%>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">Cache</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">No cache</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=49%>
				<P CLASS="western">Web&gt;List (loads all)</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">580 ms</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">1090 ms</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=49%>
				<P CLASS="western">Web&gt;Info (loads none)</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">67 ms</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">139 ms</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
shows once again the work of the caching (1090-580 ms gained by PHPA)
but clearly demonstrates the main objective of dynamic loading; The
Web&gt;Info module is not at all affected by the fact that 31 big
tables has been added.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
serialized size of the $TCA in this case was measured to approx 2MB.
The total number of KB in table-definition PHP-files was approx. 1.7
MB.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Extreme
tests of this configuration has also been done.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
duplicate of tt_content was added x number of times and yielded these
results:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=64*>
	<COL WIDTH=64*>
	<COL WIDTH=64*>
	<COL WIDTH=64*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=25%>
				<P CLASS="western">Number of tt_content dupl.</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">Serialized size of $TCA</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">Max size of httpd proces (from “top”)</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">Parsetime of the included documents</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="100" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>100</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>5,9 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>23 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>380 ms</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="250" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>250</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>14,5 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>52 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>12000 ms</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=25% VALIGN=BOTTOM SDVAL="500" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>500</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>28,8 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>100 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>x</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration of tt_content is approx. 52 kb PHP code. The testing
was done just loading the content into $TCA - no further processing.
However serializing the $TCA array (when that was tested) gave a
double up on the amount of memory the httpd process allocated. This
was to expect of course.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">From
this table we learn, that PHP does not crash testing this. However it
makes not much sense to use 500 tables of this size. 250 tables might
be alright and 100 tables is a more realistic roof over the number of
tables in TYPO3 <U>of the size of tt_content!</U> </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Conducting
the same experiment with a table configuration of only 8 kb with 9
fields configured (a reduced configuration for the tt_content
duplicate - which represents a more typical table) yielded these
results:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=36*>
	<COL WIDTH=45*>
	<COL WIDTH=68*>
	<COL WIDTH=63*>
	<COL WIDTH=44*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=14%>
				<P CLASS="western">Number of tables</P>
			</TH>
			<TH WIDTH=18%>
				<P CLASS="western">Serialized size of $TCA</P>
			</TH>
			<TH WIDTH=26%>
				<P CLASS="western">Max size of httpd process (from “top”)</P>
			</TH>
			<TH WIDTH=25%>
				<P CLASS="western">Parsetime of the included documents</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Web&gt;List listing</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD WIDTH=14% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
			<TD WIDTH=18% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>240 kB</P>
			</TD>
			<TD WIDTH=26% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>12 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>0 ms</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>174 ms (12 MB)</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=14% VALIGN=BOTTOM SDVAL="100" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>100</P>
			</TD>
			<TD WIDTH=18% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>1,0 MB</P>
			</TD>
			<TD WIDTH=26% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>12 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>77 ms</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>550 ms (12 MB)</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=14% VALIGN=BOTTOM SDVAL="250" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>250</P>
			</TD>
			<TD WIDTH=18% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>2,4 MB</P>
			</TD>
			<TD WIDTH=26% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>12 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>200 ms</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>1050 ms (12 MB)</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=14% VALIGN=BOTTOM SDVAL="500" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>500</P>
			</TD>
			<TD WIDTH=18% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>4,7 MB</P>
			</TD>
			<TD WIDTH=26% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>22 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>450 ms</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>1900 ms (20 MB)</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=14% VALIGN=BOTTOM SDVAL="1000" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1000</P>
			</TD>
			<TD WIDTH=18% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>9,3 MB</P>
			</TD>
			<TD WIDTH=26% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>33 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>900 ms</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>5000 ms (34 MB)</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=14% VALIGN=BOTTOM SDVAL="2000" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>2000</P>
			</TD>
			<TD WIDTH=18% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>18,6 MB</P>
			</TD>
			<TD WIDTH=26% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>51 MB</P>
			</TD>
			<TD WIDTH=25% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>2000 ms</P>
			</TD>
			<TD WIDTH=17% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>18000 ms (60 MB)</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H2 CLASS="western"><A NAME="4.4.Visual style of TCEforms|outline"></A>
Visual style of TCEforms</H2>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
design of the autogenerated forms in TYPO3 (typically referred to as
&quot;TCEforms&quot;) can be controlled down to fine detail. The
fifth parameter in the $TCA/types configuration is used for this. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
value consists of three integer pointers seperated by a dash (“-”).
The first parameter points to colorscheme, the second points to
stylescheme for the form elements and the third points to the
borderscheme for the table surrounding all form elements until the
next border is defined.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
integer pointers refer to entries in the global $TBE_STYLES variable.
Here the definitions for each pointer is configured.</FONT></P>
<H3 CLASS="western"><A NAME="4.4.1.$TBE_STYLES entries related to TCEforms|outline"></A>
$TBE_STYLES entries related to TCEforms</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
array $TBE_STYLES is a part of the skinning API in TYPO3 and
therefore the full description is found in the <A HREF="#$TBE_STYLES%7Coutline">section
about skinning</A>. However the definition of the three entries
related to TCEforms will be explained in detail here below.</FONT></P>
<H4 CLASS="western">Default integer pointers</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
&quot;[0-x]&quot; values in the &quot;Subkeys&quot; column in the
table below represents the integer pointers that you use in the
types-configuration of $TCA. You can set up any positive integer key
you like, but TYPO3s core parts already implements the keys from 0-5
with a certain meaning which you are encouraged to follow as well:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=29*>
	<COL WIDTH=29*>
	<COL WIDTH=198*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=11%>
				<P CLASS="western">Int. pointer</P>
			</TH>
			<TH WIDTH=11%>
				<P CLASS="western">Title</P>
			</TH>
			<TH WIDTH=77%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD WIDTH=11% VALIGN=BOTTOM SDVAL="0" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>0</P>
			</TD>
			<TD WIDTH=11% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Default</P>
			</TD>
			<TD WIDTH=77% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Default index.
				Always used on main-palettes in the bottom of the forms.</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=11% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
			<TD WIDTH=11% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Meta fields</P>
			</TD>
			<TD WIDTH=77% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Typically used for
				&quot;Hidden&quot;, &quot;Type&quot; and other primary &quot;meta&quot;
				fields</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=11% VALIGN=BOTTOM SDVAL="2" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>2</P>
			</TD>
			<TD WIDTH=11% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Headers</P>
			</TD>
			<TD WIDTH=77% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">For fields related
				to header information</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=11% VALIGN=BOTTOM SDVAL="3" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>3</P>
			</TD>
			<TD WIDTH=11% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Main content</P>
			</TD>
			<TD WIDTH=77% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">For main content</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=11% VALIGN=BOTTOM SDVAL="4" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>4</P>
			</TD>
			<TD WIDTH=11% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Extras</P>
			</TD>
			<TD WIDTH=77% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">For extra content,
				like images, files etc.</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=11% VALIGN=BOTTOM SDVAL="5" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>5</P>
			</TD>
			<TD WIDTH=11% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">Advanced</P>
			</TD>
			<TD WIDTH=77% VALIGN=TOP>
				<P CLASS="western" STYLE="font-weight: normal">For special
				content</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Even
if these pointers are used in the core of TYPO3 the default
configuration as found in t3lib/stddb/tables.php includes only a
definition of the default &quot;0&quot; (zero) pointer:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$TBE_STYLES </FONT><FONT COLOR="#007700">= array(</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'colorschemes' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'#E4E0DB,#CBC7C3,#EDE9E5'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'borderschemes' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'border:solid 1px black;'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;)</FONT>
<FONT COLOR="#007700">);</FONT></PRE><H4 CLASS="western">
Reference table:</H4>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=59*>
	<COL WIDTH=38*>
	<COL WIDTH=159*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=23%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=15%>
				<P CLASS="western">Subkeys</P>
			</TH>
			<TH WIDTH=62%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">colorschemes</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[0-x]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">This value is a comma separated list of five
				color/class definitions. The meaning of each color/class is
				defined as:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">[general cell] , [header cell] , [palette
				header cell] , [header label] , [palette header label]</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Each composite color/class value is splitted
				with a &quot;|&quot; (vertical bar). The first part is a color
				value, typically setting a background color or font color. The
				second part is a class attribute value which will be set either
				for the table cell (td) or the span-tag around text</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">For both color and class values these facts
				apply:</P>
				<UL>
					<LI><P CLASS="western">Omitting a color (blank value) will use
					the default value (from index &quot;0&quot; and if index &quot;0&quot;
					is not defined, based on the general mainColors in $TBE_STYLES)</P>
					<LI><P CLASS="western">Setting a color value to dash (“-”)
					will make it transparent (or just not set).</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Class attributes are set only if there was a
				class value set. There are no default class values.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western">$TBE_STYLES['colorschemes'][<I>0</I>]='red,yellow,blue,olive,green';</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<BR><BR>
				</P>
				<P CLASS="western"><IMG SRC="12_html_3c3fbc5e.png" NAME="Grafik13" ALIGN=LEFT WIDTH=391 HEIGHT=57 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western">$TBE_STYLES['colorschemes'][<I>0</I>]='-|class-red,-|class-yellow,-|class-blue,-|class-olive,-|class-green';</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
				<BR><BR>
				</P>
				<P CLASS="western">This sets class attribute values instead. If
				you add this to the stylesheet you will get the same result as
				entering the real color values:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western">TABLE.typo3-TCEforms .class-red { background-color: red; }
TABLE.typo3-TCEforms .class-yellow { background-color: yellow; }
TABLE.typo3-TCEforms .class-blue { background-color: blue; }
TABLE.typo3-TCEforms .class-olive { color: olive; }
TABLE.typo3-TCEforms .class-green { color: green; }</PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">styleschemes</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[0-x][elementKey]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western" STYLE="font-style: normal">This value is the
				content of the &quot;style&quot; attribute of a form element
				(defined by &quot;elementKey&quot;). 
				</P>
				<P CLASS="western" STYLE="font-style: normal">If the value is
				prefixed &quot;CLASS:&quot; then it will set the class attribute
				instead to the value after the prefix.</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">&quot;elementKey&quot;
				is the value of a ['columns']['fieldname']['config'] / TYPE (eg.
				&quot;text&quot;, &quot;group&quot;, &quot;check&quot;, &quot;flex&quot;
				etc.) or the string &quot;all&quot; (for defining a default
				value)</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western">$TBE_STYLES['styleschemes'][0]['all'] = 'background-color:#F7F7F3;';
$TBE_STYLES['styleschemes'][0]['check'] = '';</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">This (above) sets the background-color CSS
				attribute of all form elements <I>except</I> checkboxes!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western">$TBE_STYLES['styleschemes'][0]['all'] = 'CLASS: formField';
</PRE><P CLASS="western">
				This will set the class attribute to 'formField' for all
				elements. The associated stylesheet could look like:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western">TABLE.typo3-TCEforms .formField { background-color: #F7F7F3; }</PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">borderschemes</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[0-x][key]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western" STYLE="font-style: normal">This value defines
				the border style of the group of fields.</P>
				<P CLASS="western" STYLE="font-style: normal">Technically the
				group of fields are wrapped into a table.</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">&quot;key&quot; is
				an index defining various values:</P>
				<UL>
					<LI><P CLASS="western" STYLE="font-style: normal">&quot;0&quot;
					: &quot;style&quot; attribute of the table wrapping the section</P>
					<LI><P CLASS="western" STYLE="font-style: normal">&quot;1&quot;
					: Distance in pixels after the wrapping table</P>
					<LI><P CLASS="western" STYLE="font-style: normal">&quot;2&quot;
					: &quot;background&quot; attribute of table wrapping the
					section: Reference to background image is relative to typo3/
					folder (prefixed with -&gt;backPath)</P>
					<LI><P CLASS="western" STYLE="font-style: normal">&quot;3&quot;
					: &quot;class&quot; attribute of table wrapping the section.</P>
				</UL>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<PRE CLASS="western">$TBE_STYLES['borderschemes'][0][0] = 'border:solid 1px black;';
$TBE_STYLES['borderschemes'][0][1] = 5;
$TBE_STYLES['borderschemes'][0][2] = '../typo3conf/freestyler_transp.gif';</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">This renders the form fields like this:</P>
				<P CLASS="western"><IMG SRC="12_html_m7aa4b41f.png" NAME="Grafik14" ALIGN=LEFT WIDTH=348 HEIGHT=61 BORDER=0><BR CLEAR=LEFT><BR>
				</P>
				<P CLASS="western">(Black border, the distance to the next
				section is 5 pixels and there is a background image)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="western">$TBE_STYLES['borderschemes'][0]= array('','','','wrapperTable');</PRE><P CLASS="western" STYLE="font-weight: normal">
				<BR>
				</P>
				<P CLASS="western" STYLE="font-weight: normal">With an associated
				stylesheet you can get the same result (image not included):</P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<PRE CLASS="western">TABLE.typo3-TCEforms .wrapperTable { border: 1px solid black; margin-top: 5px; }</PRE><P CLASS="western" STYLE="font-weight: normal">
				<BR>
				</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">See
next chapter for examples of how to configure your TCEforms.</FONT></P>
<H3 CLASS="western"><A NAME="4.4.2.Style pointers in the &quot;types&quot; configuration|outline"></A>
Style pointers in the &quot;types&quot; configuration</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
following is examples of how to use the styling features of TCEforms
in real life. These examples will give you a chance to figure out how
the features described in the reference table above is implemented.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the examples below the $TBE_STYLES configuration includes the
following:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'colorschemes'</FONT><FONT COLOR="#007700">] = Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'#F7F7F3,#E3E3DF,#EDEDE9'</FONT><FONT COLOR="#007700">, </FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'#94A19A,#7C8D84,#7C8D84'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'2' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'#E4D69E,#E7DBA8,#E9DEAF'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'3' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'#C2BFC0,#C7C5C5,#C7C5C5'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'4' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'#B2B5C3,#C4C6D1,#D5D7DE'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'5' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'#C3B2B5,#D1C4C6,#DED5D7'</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'styleschemes'</FONT><FONT COLOR="#007700">] = Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'all'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'background-color: #F7F7F3;border:#7C8D84 solid 1px;'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'check'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'all'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'background-color: #94A19A;border:#7C8D84 solid 1px;'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'check'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'2' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'all'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'background-color: #E4D69E;border:#7C8D84 solid 1px;'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'check'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'3' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'all'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'background-color: #C2BFC0;border:#7C8D84 solid 1px;'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'check'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'4' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'all'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'background-color: #B2B5C3;border:#7C8D84 solid 1px;'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'check'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'5' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'all'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">'background-color: #C3B2B5;border:#7C8D84 solid 1px;'</FONT><FONT COLOR="#007700">, </FONT><FONT COLOR="#dd0000">'check'</FONT><FONT COLOR="#007700">=&gt;</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000"><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'borderschemes'</FONT><FONT COLOR="#007700">] = Array (</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'0' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'border:solid 1px black;'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'1' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'border:solid 1px black;'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'2' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'border:solid 1px black;'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'3' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'border:solid 1px black;'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'4' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'border:solid 1px black;'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'5' </FONT><FONT COLOR="#007700">=&gt; array(</FONT><FONT COLOR="#dd0000">'border:solid 1px black;'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">)</FONT></FONT>
<FONT COLOR="#007700">);</FONT></PRE><H4 CLASS="western">
Examples</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">First,
lets look at a plain types-configuration which merely renders a list
of fields:</FONT></P>
<PRE CLASS="western">'types' =&gt; Array (
&nbsp;&nbsp;&nbsp;&nbsp;'0' =&gt; Array('showitem' =&gt; 'title;;1,photodate,description,images,fe_cruser_id')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
),</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
renders this form:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m5f8b88a8.png" NAME="Grafik9" ALIGN=LEFT WIDTH=491 HEIGHT=365 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
I modify the types config to include the fifth parameters (in red):</FONT></P>
<PRE CLASS="western">'types' =&gt; Array (
	'0' =&gt; Array('showitem' =&gt; 'title;;1;;<FONT COLOR="#ff0000">1--0</FONT>,photodate;;;;<FONT COLOR="#ff0000">-4-</FONT>,description;;;;<FONT COLOR="#ff0000">2-0-</FONT>,images;;;;<FONT COLOR="#ff0000">1--0</FONT>,fe_cruser_id')	
),</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">And
this looks like:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_3a2deaa5.png" NAME="Grafik11" ALIGN=LEFT WIDTH=491 HEIGHT=369 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">To
understand how the style pointers works, lets organize them into a
table. This is the &quot;types&quot;-configuration string:</FONT></P>
<PRE CLASS="western">title;;1;;<FONT COLOR="#ff0000">1--0</FONT>,photodate;;;;<FONT COLOR="#ff0000">-4-</FONT>,description;;;;<FONT COLOR="#ff0000">2-0-</FONT>,images;;;;<FONT COLOR="#ff0000">1--0</FONT>,fe_cruser_id
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Splitting this information into a table looks
like this:</FONT></P>
<PRE CLASS="western"></PRE>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=37*>
	<COL WIDTH=50*>
	<COL WIDTH=61*>
	<COL WIDTH=52*>
	<COL WIDTH=56*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=15%>
				<P CLASS="western">Fieldname</P>
			</TH>
			<TH WIDTH=20%>
				<P CLASS="western">5th param:</P>
			</TH>
			<TH WIDTH=24%>
				<P CLASS="western">'colorscheme' pnt:</P>
			</TH>
			<TH WIDTH=20%>
				<P CLASS="western">'stylescheme' pnt:</P>
			</TH>
			<TH WIDTH=22%>
				<P CLASS="western">'borderscheme' pnt:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD WIDTH=15% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>title</P>
			</TD>
			<TD WIDTH=20% VALIGN=TOP>
				<PRE CLASS="western" STYLE="text-align: center"><FONT COLOR="#ff0000">1--0</FONT></PRE>
			</TD>
			<TD WIDTH=24% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
			<TD WIDTH=20% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
			<TD WIDTH=22% VALIGN=BOTTOM SDVAL="0" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>0</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=15% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>photodate</P>
			</TD>
			<TD WIDTH=20% VALIGN=TOP>
				<PRE CLASS="western" STYLE="text-align: center"><FONT COLOR="#ff0000">-4-</FONT></PRE>
			</TD>
			<TD WIDTH=24% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
			<TD WIDTH=20% VALIGN=BOTTOM SDVAL="4" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>4</P>
			</TD>
			<TD WIDTH=22% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=15% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>description</P>
			</TD>
			<TD WIDTH=20% VALIGN=TOP SDVAL="36557" SDNUM="16393;0;@">
				<PRE CLASS="western" STYLE="text-align: center"><FONT COLOR="#ff0000">2-0-</FONT></PRE>
			</TD>
			<TD WIDTH=24% VALIGN=BOTTOM SDVAL="2" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>2</P>
			</TD>
			<TD WIDTH=20% VALIGN=BOTTOM SDVAL="0" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>0</P>
			</TD>
			<TD WIDTH=22% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=15% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>images</P>
			</TD>
			<TD WIDTH=20% VALIGN=TOP>
				<PRE CLASS="western" STYLE="text-align: center"><FONT COLOR="#ff0000">1--0</FONT></PRE>
			</TD>
			<TD WIDTH=24% VALIGN=BOTTOM SDVAL="1" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>1</P>
			</TD>
			<TD WIDTH=20% VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
			<TD WIDTH=22% VALIGN=BOTTOM SDVAL="0" SDNUM="16393;">
				<P CLASS="western" ALIGN=CENTER>0</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=15%>
				<P CLASS="western" ALIGN=CENTER>fe_cruser_id</P>
			</TD>
			<TD WIDTH=20%>
				<PRE CLASS="western" STYLE="text-align: center">[blank]</PRE>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
			<TD WIDTH=20%>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
			<TD WIDTH=22%>
				<P CLASS="western" ALIGN=CENTER>[blank]</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Explanation:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;colorscheme&quot;
	: The pointer is set to &quot;1&quot; for the first field (&quot;title&quot;
	field). This gives a green style (according to definitions in
	$TBE_STYLES['colorscheme'][1]) which is active until the
	&quot;description&quot; field is rendered. Here the pointer is
	changed to &quot;2&quot; which gives the yellow style. Immediately
	after the pointer is set back to &quot;1&quot; and that is active
	throughout the form.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;stylescheme&quot;
	 : The pointer starts by being blank. Since no previous value is
	set, the pointer is implicitly &quot;0&quot; (zero) then. At the
	field &quot;photodate&quot; the pointer is set to &quot;4&quot;
	which means the style attribute gets the value &quot;background-color:
	#B2B5C3;border:#7C8D84 solid 1px;&quot; (according to the current
	configuration of $TBE_STYLES['stylescheme'][4]). This gives the
	blueish background of the date field. Immidiately after the pointer
	is back at &quot;0&quot; again and that lasts for the rest of the
	fields.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;borderscheme&quot;
	: The pointer is set to &quot;0&quot;, then blank for three fields
	and then set to &quot;0&quot; again for the last two fields. In
	effect we get the form divided into two sections. As you can see
	setting the borderscheme pointer explicitly - <I>even if set to the
	same value!</I> - breaks up the form each time into a new section.
	Setting the first pointer to the default border scheme was actually
	not necessary but served to illustrate that the same border was
	applied twice.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
should also be clear now, that setting an empty pointer (blank
string) will just let the former value pass through.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
three schemes are designed to go in pairs. It is most likely that all
three pointers should be set each time you apply the fifth parameter
value. Example:</FONT></P>
<PRE CLASS="western">'types' =&gt; Array (
	'0' =&gt; Array('showitem' =&gt; 'title;;1;;<FONT COLOR="#ff0000">1-1-1</FONT>,photodate;;;;<FONT COLOR="#ff0000">2-2-2</FONT>,description;;;;<FONT COLOR="#ff0000">3-3-3</FONT>,images,fe_cruser_id;;;;<FONT COLOR="#ff0000">5-5-5</FONT>')	
),</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m6a884691.png" NAME="Grafik12" ALIGN=LEFT WIDTH=492 HEIGHT=385 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H1 CLASS="western"><A NAME="5.RTE API|outline"></A></SPAN>RTE API</H1>
<H2 CLASS="western"><A NAME="5.1.Rich Text Editors in TYPO3 backend|outline"></A>
Rich Text Editors in TYPO3 backend</H2>
<H3 CLASS="western"><A NAME="5.1.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
you configure a table in $TCA and add a field of the type “text”
which is edited by a &lt;textarea&gt; you can choose to use a Rich
Text Editor (RTE) instead of the &lt;textarea&gt; field. A RTE
enables the users to use visual formatting aids to create bold,
italic, paragraphs, tables etc. In other words; it gives normal text
processing features in the web browser.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_282bca60.png" NAME="Graphic44" ALIGN=LEFT WIDTH=669 HEIGHT=324 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">It
is not the scope of this section in the document to describe how you
set up a text field to use an RTE. However I will give you a short
hint: The quickest way is to add the key “defaultExtras” to the
configuration of the column and add the string “richtext[*]” as
value. This could look like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'imagecaption' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'LLL:EXT:lang/locallang_general.php:LGL.caption'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'text'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'cols' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'30'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'rows' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'3'</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'defaultExtras' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'richtext[*]'</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">),</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The magic is in line 8. This works for
FlexForms too.</FONT></P>
<H3 CLASS="western"><A NAME="5.1.2.RTEs in Extensions|outline"></A>RTEs
in Extensions</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TYPO3
supports any Rich Text Editor for which someone might write a
connector to the RTE API. This means that you can freely choose
whatever RTE you want to use among those available from the Extension
Repository on typo3.org.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
you see three possible Rich Text Editors listed in the Extension
Manager. One of them is enabled while the other two are not.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_e80abce.png" NAME="Graphic45" ALIGN=LEFT WIDTH=669 HEIGHT=85 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can enable more than one RTE if you like but only one will be active
at a time. Since Rich Text Editors often depend on browser versions,
operating systems etc. each RTE must have a method in the API class
which reports back to the system if the RTE is available in the
current environment. The Rich Text Editor available to the backend
user will be the <I>first loaded</I> RTE which reports back to TYPO3
that it <I>is available</I> in the environment. If the RTE is not
available, the next RTE Extension loaded will be asked.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
example the RTE “rtehtmlarea” is available under Windows and
Linux and under both MSIE and Mozilla. Opposite the “rte”
extension is only available under MSIE / Windows. If the
“rtehtmlarea” extension is loaded before the “rte” extension
then the “rtehtmlarea” RTE is always used. But if “rte” is
loaded first then it is also asked for availability first; the result
is that under Windows / MSIE the “rte” (the “traditional” RTE
in TYPO3) is used while “rtehtmlarea” will be used in other
environments.</FONT></P>
<H3 CLASS="western"><A NAME="5.1.3.API for Rich Text Editors|outline"></A>
API for Rich Text Editors</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Connecting
an RTE in an extension to TYPO3 is easy. </FONT>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Create
	a class file in your extensions, named “class.tx_[extensionkey
	minus underscores]_base.php”. Make the class inside an extension
	of the system class, “t3lib_rteapi” (which you should include
	first of course) and override functions from the parent class to the
	degree needed.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
	the “ext_localconf.php” file you put an entry in
	$TYPO3_CONF_VARS['BE']['RTE_reg'] which registers the new RTE with
	the system. For example; <BR>$TYPO3_CONF_VARS['BE']['RTE_reg']['myrte']
	= array('objRef' =&gt;
	'EXT:myrte/class.tx_myrte_base.php:&amp;tx_myrte_base');</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
object reference in “objRef” consists of a filename reference
(for the class file) and then the name of the class prefixed with “&amp;”
which ensures that you get the same instance (global) of the object
each time you ask for it. &quot;myrte&quot; is the extension key of
your RTE extension (with underscores stripped).</FONT></P>
<H4 CLASS="western">class.t3lib_rteapi.php</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the base class for the RTE API there are three main methods of
interest:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>function
	isAvailable()</B><BR>This method is asked for the availability of
	the RTE; This is where you should check for environmental
	requirements that is needed for your RTE. Basically the method must
	return TRUE if the RTE is available. If it is not, the RTE can put
	text entries in the internal array -&gt;errorLog which is used to
	report back the reason why it was not available.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>function
	drawRTE(&amp;$pObj,$table,$field,$row,$PA,$specConf,$thisConfig,$RTEtypeVal,$RTErelPath,$thePidValue)</B><BR>This
	method draws the content for the editing form of the RTE. It is
	called from the “t3lib_TCEforms” class which also passes a
	reference to itself in $pObj. For details on the arguments in the
	method call, please see inside “class.t3lib_rteapi.php”.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>function
	transformContent($dirRTE,$value,$table,$field,$row,$specConf,$thisConfig,$RTErelPath,$pid)</B><BR>This
	method is used both from -&gt;drawRTE() and from t3lib_tcemain to
	transform the content between the database and RTE. When content is
	loaded from the database to the RTE (and vice versa) it may need
	some degree of transformation. For instance references to links and
	images in the database might have to be relative while the RTE
	requires absolute references. This is just a simple example of what
	“transformations” can do for you and why you need them. There
	are plenty of details on this topic later.</FONT></P>
</UL>
<H5 CLASS="western">Example: The “rte” extension</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
“rte” extension has a “ext_localconf.php” file which looks
like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#007700">if (!</FONT><FONT COLOR="#0000bb">defined </FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'TYPO3_MODE'</FONT><FONT COLOR="#007700">)) &nbsp;&nbsp;&nbsp;&nbsp;die (</FONT><FONT COLOR="#dd0000">'Access denied.'</FONT><FONT COLOR="#007700">);</FONT></FONT>

<FONT COLOR="#000000"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BE'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'RTE_reg'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'rte'</FONT><FONT COLOR="#007700">] = array(</FONT><FONT COLOR="#dd0000">'objRef' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'EXT:rte/class.tx_rte_base.php:&amp;tx_rte_base'</FONT><FONT COLOR="#007700">);</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">As you can see it registers the API class to
the system. In the class “tx_rte_base” the three methods from the
list above is available.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
file “class.tx_rte_base.php” looks like this:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#000000">   4:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#007700">require_once(</FONT><FONT COLOR="#0000bb">PATH_t3lib</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'class.t3lib_rteapi.php'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> </FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   6:</FONT>  * RTE base class (Traditional RTE for MSIE 5+ on windows only!)</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   7:</FONT>  *</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   8:</FONT>  * @author&nbsp;&nbsp;&nbsp;&nbsp;Kasper Skaarhoj &lt;kasper@typo3.com&gt;</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   9:</FONT>  * @package TYPO3</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  10:</FONT>  * @subpackage tx_rte</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  11:</FONT>  */</FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">class </FONT><FONT COLOR="#0000bb">tx_rte_base </FONT><FONT COLOR="#007700">extends </FONT><FONT COLOR="#0000bb">t3lib_rteapi </FONT><FONT COLOR="#007700">{</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  13:</FONT> </FONT>
<FONT COLOR="#000000">  14:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// External:</FONT></FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">var </FONT><FONT COLOR="#0000bb">$RTEdivStyle</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Alternative style for RTE &lt;div&gt; tag.</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  16:</FONT> </FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  17:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Internal, static:</FONT>
<FONT COLOR="#000000">  18:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">var </FONT><FONT COLOR="#0000bb">$ID </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'rte'</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Identifies the RTE ...</FONT></FONT>
<FONT COLOR="#000000">  19:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">var </FONT><FONT COLOR="#0000bb">$debugMode </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">FALSE</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Debug mode</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  20:</FONT> </FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  21:</FONT> </FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  22:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;/**</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  23:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * Returns true if the RTE is available. Here you check if the browser requirements are met.</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  24:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * If there are reasons why the RTE cannot be displayed you simply enter them as text in -&gt;errorLog</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  25:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; *</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  26:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TRUE if this RTE object offers an RTE </FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  27:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000">  28:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">isAvailable</FONT><FONT COLOR="#007700">()&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  29:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global </FONT><FONT COLOR="#0000bb">$CLIENT</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  30:</FONT> </FONT>
<FONT COLOR="#000000">  31:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">TYPO3_DLOG</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_div</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">devLog</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'Checking for availability...'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'rte'</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  32:</FONT> </FONT>
<FONT COLOR="#000000">  33:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">errorLog </FONT><FONT COLOR="#007700">= array();</FONT></FONT>
<FONT COLOR="#000000">  34:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">debugMode</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// If debug-mode, let any browser through</FONT></FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$CLIENT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BROWSER'</FONT><FONT COLOR="#007700">]!=</FONT><FONT COLOR="#dd0000">'msie'</FONT><FONT COLOR="#007700">) &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">errorLog</FONT><FONT COLOR="#007700">[] = </FONT><FONT COLOR="#dd0000">'&quot;rte&quot;: Browser is not MSIE'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">$CLIENT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SYSTEM'</FONT><FONT COLOR="#007700">]!=</FONT><FONT COLOR="#dd0000">'win'</FONT><FONT COLOR="#007700">) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">errorLog</FONT><FONT COLOR="#007700">[] = </FONT><FONT COLOR="#dd0000">'&quot;rte&quot;: Client system is not Windows'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#000000">  37:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">$CLIENT</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'VERSION'</FONT><FONT COLOR="#007700">]&lt;</FONT><FONT COLOR="#0000bb">5</FONT><FONT COLOR="#007700">) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">errorLog</FONT><FONT COLOR="#007700">[] = </FONT><FONT COLOR="#dd0000">'&quot;rte&quot;: Browser version below 5'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  38:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#000000">  39:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!</FONT><FONT COLOR="#0000bb">count</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">errorLog</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">TRUE</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  40:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  41:</FONT> </FONT>
<FONT COLOR="#000000">  42:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  43:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * Draws the RTE as an iframe for MSIE 5+</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  44:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; *</FONT>
<FONT COLOR="#000000">...</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  55:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTML code for RTE!</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  56:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000">  57:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">drawRTE</FONT><FONT COLOR="#007700">(&amp;</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$field</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$specConf</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$thisConfig</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$RTEtypeVal</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$RTErelPath</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$thePidValue</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  58:</FONT> </FONT>
<FONT COLOR="#000000">  59:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Draw form element:</FONT></FONT>
<FONT COLOR="#000000">  60:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">if (</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">debugMode</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Draws regular text area (debug mode)</FONT></FONT>
<FONT COLOR="#000000">  61:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$item </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">parent</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">drawRTE</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$field</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$specConf</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$thisConfig</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$RTEtypeVal</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$RTErelPath</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$thePidValue</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  62:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Draw real RTE (MSIE 5+ only)</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  63:</FONT> </FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  64:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Adding needed code in top:</FONT>
<FONT COLOR="#000000">  65:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">additionalJS_pre</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'rte_loader_function'</FONT><FONT COLOR="#007700">] = </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">loaderFunc</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">formName</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#000000">  66:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">additionalJS_submit</FONT><FONT COLOR="#007700">[] = </FONT><FONT COLOR="#dd0000">&quot;</FONT></FONT>
<FONT COLOR="#000000">  67:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(TBE_RTE_WINDOWS['&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;'])&nbsp;&nbsp;&nbsp;&nbsp;{ document.&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">formName</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">&quot;['&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;'].value = TBE_RTE_WINDOWS['&quot;</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">&quot;'].getHTML(); } else { OK=0; }&quot;</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  68:</FONT> </FONT>
<FONT COLOR="#ff8000">...</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  82:</FONT> </FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  83:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Transform value:</FONT>
<FONT COLOR="#000000">  84:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$value </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">transformContent</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'rte'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElValue'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#0000bb">$table</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$field</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$specConf</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$thisConfig</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$RTErelPath</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$thePidValue</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  85:</FONT> </FONT>
<FONT COLOR="#000000">  86:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Register RTE windows:</FONT></FONT>
<FONT COLOR="#000000">  87:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">RTEwindows</FONT><FONT COLOR="#007700">[] = </FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">];</FONT></FONT>
<FONT COLOR="#000000">  88:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$item </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#000000">  89:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">triggerField</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">]).</FONT><FONT COLOR="#dd0000">'</FONT></FONT>
<FONT COLOR="#000000">  90:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;hidden&quot; name=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">]).</FONT><FONT COLOR="#dd0000">'&quot; value=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'&quot; /&gt;</FONT></FONT>
<FONT COLOR="#000000">  91:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div id=&quot;cdiv'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">count</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">RTEwindows</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'&quot; style=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$RTEdivStyle</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'&quot;&gt;</FONT></FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  92:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;iframe</FONT>
<FONT COLOR="#000000">  93:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">htmlspecialchars</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$rteURL</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'&quot;</FONT></FONT>
<FONT COLOR="#000000">  94:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id=&quot;'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">$PA</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'itemFormElName'</FONT><FONT COLOR="#007700">].</FONT><FONT COLOR="#dd0000">'_RTE&quot;</FONT></FONT>
<FONT COLOR="#dd0000"><FONT COLOR="#000000">  95:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style=&quot;visibility:visible; position:absolute; left:0px; top:0px; height:100%; width:100%;&quot;&gt;&lt;/iframe&gt;</FONT>
<FONT COLOR="#000000">  96:<FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  97:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  98:</FONT> </FONT>
<FONT COLOR="#000000">  99:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Return form item:</FONT></FONT>
<FONT COLOR="#000000"> 100:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">return </FONT><FONT COLOR="#0000bb">$item</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000"> 101:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
follows some comments:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	28-40 detects the browser. Only if the browser is MSIE on Windows
	and a version higher than or equal to 5, then will the RTE be
	available for the user. Notice how error messages are set in
	-&gt;errorLog so the system can give the user a hint as to why the
	RTE didn't show up.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Line
	57 starts the method “drawRTE” which creates the RTE as HTML.
	This RTE is in fact created by another script inside an &lt;iframe&gt;.
	The content of the field is stored in a hidden field and the script
	in the IFRAME loads the content by JavaScript from this
	field.<BR>Basically, the content submitted from the RTE is <I>in
	this hidden field!</I> In other words, the RTE has to load and save
	back content to this field. Other RTEs might integrate this
	differently. For instance a Java RTE would also communicate the
	content to and from a hidden field while the “rtehtmlarea”
	extension uses a normal &lt;textarea&gt; field but somehow overlays
	it with visual formatting.<BR>In all cases, the call to
	triggerField() is important (line 89); This returns a hidden field
	with the same field name as the main field but prefixed
	“_TRANSFORM_” and having the value “RTE”. This hidden field
	triggers the transformation process from RTE content to database
	(DB) in TCEmain and therefore you have to add it!</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
	how line 84 calls the “transformContent” method in the class to
	create the $value to put into the RTE. In the case of the “rte”
	extension the “transformContent” method is used from the parent
	class, but if you need special transformations you can easily do so
	by overriding the function in you child class.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="5.1.4.More Examples|outline"></A>More
Examples</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">More
examples of Rich Text Editors exist. This is a list of some
extensions offering RTEs:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“rte”
	- this is the traditional TYPO3 RTE, working only in Windows, MSIE
	5+</FONT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m13c3256b.png" NAME="Graphic50" ALIGN=LEFT WIDTH=385 HEIGHT=327 BORDER=0><BR CLEAR=LEFT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“rtehtmlarea”
	- based on HTMLArea 3.0 which is another Open Source project this
	RTE offers support for both MSIE and Mozilla - and thereby for other
	operating systems than Windows.<BR></FONT><BR><BR>
	</P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_282bca60.png" NAME="Graphic49" ALIGN=LEFT WIDTH=523 HEIGHT=253 BORDER=0><BR CLEAR=LEFT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“rteekit”
	- a proof-of-concept extension implementing the Ekit Java Editor
	which is also Open Source.</FONT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_3c4a7dc2.png" NAME="Graphic51" ALIGN=LEFT WIDTH=526 HEIGHT=335 BORDER=0><BR CLEAR=LEFT></P>
</UL>
<H4 CLASS="western">Notice</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
might be other very good extensions with RTEs available so the list
above should <I>not</I> be understood as the recommended RTEs! The
extension “rte” has a special status since that is the
traditional RTE working for years on MSIE / Windows. The other two
were in fact created during the creation of the RTE API in TYPO3 in
order to test it.</FONT></P>
<H2 CLASS="western"><A NAME="5.2.Transformations|outline"></A>Transformations</H2>
<H3 CLASS="western"><A NAME="5.2.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Transformation
of content between the database and an RTE is needed if the format of
the content in the database is different than the format understood
by an RTE. A simple example could be that bold-tags in the database
&lt;b&gt; should be converted to &lt;strong&gt; tags in the RTE or
that references to images in &lt;img&gt; tags in the database should
be relative while absolute in the RTE. In such cases a transformation
is needed to do the conversion both ways; From database (DB) to RTE
and from RTE to DB.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Generally
transformations are needed for two reasons:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Data
	Formats;</B> If the agreed format of the stored content in TYPO3 is
	different from the HTML format the RTE produces. This could be
	issues like XHTML, banning of certain tags or maybe a hybrid format
	in the database. (See section 3 in the illustration some pages
	ahead)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>RTE
	specifics</B>; If the RTE has special requirements to the content
	before it can be edited and if that format is different from what we
	want to store in  the database. For instance an RTE could require a
	full HTML document with &lt;html&gt;, &lt;head&gt; and &lt;body&gt;
	- obviously we don't want that in the database and likewise we will
	have to wrap content in such a dummy-body before it can be edited.
	(This is the case with “rteekit”, see section 4 in the
	illustration some pages ahead).</FONT></P>
</UL>
<H4 CLASS="western">Hybrid modes</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
traditional challenge of incorporating an RTE in TYPO3 has been that
the RTE was available only to a limited set of browsers, typically
MSIE on Windows. Therefore if an RTE was supported it had to be
backwards compatible with situations where content was to be edited
from regular &lt;textarea&gt;'s with no visual formatting.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Among
the transformations in TYPO3 there are two modes, “ts_transform”
and “css_transform”, which are trying to maintain a data format
that is as human readable as possible while still offering an RTE for
editing if applicable.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">To
know the details of those transformations, please refer to the tables
in the next section. More historical background can also be obtained
later in this document. But here is a short example of a hybrid mode:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
Database:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is how the content in the database <SPAN STYLE="font-style: normal">could</SPAN>
look for a hybrid mode (such as “css_transform”). As you can see
the TYPO3-specific tag, “&lt;link&gt;” is used for the link to
page 123. This tag is designed to be easy for editors to insert. It
is of course converted to a real &lt;a&gt; tag when the page is
rendered in the frontend. Further line 2 shows bold text. In line 3
the situation is that the paragraph should be centered - and there
seems to be no other way than wrapping the line in a &lt;p&gt; tag
with the “align” attribute. Not so human readable but we can do
no better without an RTE. Line 4 is just plain.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Generally
this content will be processed before output on a page of course.
Typically the rule will be this: “Wrap each line in a &lt;p&gt; tag
which is not already wrapped in a &lt;p&gt; tag and convert all
TYPO3-specific &lt;link&gt;-tags to real &lt;a&gt; tags.”  and thus
the final result will be valid HTML.</FONT></P>
<PRE CLASS="western">This is line number 1 with a &lt;link 123&gt;link&lt;/link&gt; inside
This is line number 2 with a &lt;b&gt;bold part&lt;/b&gt; in the text
&lt;p align=”center”&gt;This line is centered.&lt;/p&gt;
This line is just plain</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
RTE:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
content in the database can easily be edited as plain text thanks to
the “hybrid-mode” used to store the content. But when the content
above from the database has to go into the RTE it <I>will not </I>work
if every line is not wrapped in a &lt;p&gt; tag! The same is true for
the &lt;link&gt; tag; it has to be converted so the RTE understands
it: </FONT>
</P>
<PRE CLASS="western">&lt;p&gt;This is line number 1 with a &lt;a href=”index.php?id=123”&gt;link&lt;/a&gt; inside&lt;/p&gt;
&lt;p&gt;This is line number 2 with a &lt;strong&gt;bold part&lt;/strong&gt; in the text&lt;/p&gt;
&lt;p align=”center”&gt;This line is centered.&lt;/p&gt;
&lt;p&gt;This line is just plain&lt;/p&gt;</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
process of conversion from the one format to the other is what
transformations do!</FONT></P>
<H4 CLASS="western">Configuration</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Transformations
are mainly defined in the “Special Configuration” of the $TCA
&quot;types&quot;-configuration. There is detailed description of
this in the $TCA section of this document.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
addition transformations can be fine-tuned by Page TSconfig which
means that RTE behaviour can be determined even on page branch level!
Details about this are found later in this chapter about the RTE API.</FONT></P>
<H4 CLASS="western">Where transformations are performed</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
transformations you can do with TYPO3 is done in the class
“t3lib_parsehtml_proc”. There are typically a function for each
direction; From DB to RTE (suffixed “_rte”) and from RTE to DB
(suffixed “_db”).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
transformations are invoked in two cases:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Before
	content enters the editing form</B> <BR>This is done by the RTE API
	itself, calling the method t3lib_rteapi::transformContent(). See
	examples of this in the extensions “rte”, “rtehtmlarea” and
	“rteekit”. In particular “rteekit” is interesting because it
	not only calls the system transformations but also does some
	Ekit-specific processing since a whole HTML document has to be used
	in “Ekit” Java RTE which means that the HTML document body must
	be wrapped/stripped off as a part of the transformation process.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Before
	content is saved in the database</B><BR>This is done in
	t3lib_tcemain class and the transformation is triggered by a
	pseudo-field from the submitted form! This field is added by the RTE
	API (calling t3lib_rteapi::triggerField()). Lets say the fieldname
	is “data[tt_content][456][bodytext]” then the trigger field is
	named “data[tt_content][456][_TRANSFORM_bodytext]” and in
	t3lib_tcemain this pseudo-field will be detected and used to trigger
	the transformation process from RTE to DB. Of course the pseudo
	field will never go into the database (since it is not found in
	$TCA).</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
concept of transformations is discussed in more detail a few pages
ahead (&quot;<A HREF="#Historical%20perspective%20on%20RTE%20transformations%7Coutline">Historical
perspective on RTE transformations</A>&quot;).</FONT></P>
<H3 CLASS="western"><A NAME="5.2.2.Process illustration|outline"></A>Process
illustration</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
following illustration shows the process of transformations
graphically. </FONT>
</P>
<H4 CLASS="western">Part 1: The RTE Applications</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the various possible RTE applications. They can be based on DHTML,
Active-X, Java, Flash or whatever.</FONT></P>
<H4 CLASS="western">Part 2: The RTE Specific Transformation</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Some
RTEs might need to apply additional transformation of the content in
addition to the general transformation. An example is &quot;rteekit&quot;
which requires a full HTML document for editing (and which will
return a full document). In that case the RTE specific transformation
must add/remove this html-document wrapper.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">RTE
specific transformations is normally programmed directly into the
rte-api extension class. In the case of &quot;rteekit&quot; that is
&quot;tx_rteekit_base&quot; which extends &quot;t3lib_rteapi&quot;</FONT></P>
<H4 CLASS="western">Part 3: The Main Transformation</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
main transformation of content between browser format for RTEs and
the database storage format. This is general for all RTEs. Normally
consists of converting links and image references from absolute to
relative and further HTML processing as needed. <I>This is the kind
of transformation specifically described on the coming pages</I>!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
main transformations is done with &quot;t3lib_parsehtml_proc&quot;.</FONT></P>
<H4 CLASS="western">Part 4: The Database</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
database where the content is stored for use in both backend and
frontend.</FONT></P>
<H4 CLASS="western">Part 5: Rendering the website</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Content
from the database is processed for display on the website. Depending
on the storage format this might also involve &quot;transformation&quot;
of content. For instance the internal &quot;&lt;link&gt;&quot; tag
has to be converted into an HTML &lt;a&gt; tag. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
processing normally takes place with TypoScript Templates, the &quot;CSS
Styled Content&quot; extension (TS object path &quot;lib.parseFunc_RTE&quot;)</FONT></P>
<H4 CLASS="western">Part 6: The Website</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
website made with TYPO3.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_61bef01c.png" NAME="Graphic96" ALIGN=LEFT WIDTH=524 HEIGHT=282 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Content Examples</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
table gives some examples of how content will look in the RTE, in the
database and on the final website. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
This is only examples! It might not happen exactly like that in real
life since it depends on which exact transformations you apply. But
it illustrates the point that the content needs to be in different
states whether in the RTE, Database or Website frontend.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=87*>
	<COL WIDTH=71*>
	<COL WIDTH=62*>
	<COL WIDTH=35*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=34%>
				<P CLASS="western">RTE (#1)</P>
			</TH>
			<TH WIDTH=28%>
				<P CLASS="western">Database (#4)</P>
			</TH>
			<TH WIDTH=24%>
				<P CLASS="western">Website (#6)</P>
			</TH>
			<TH WIDTH=14%>
				<P CLASS="western">Comment</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=34%>
				<P CLASS="western">&lt;p&gt;Hello World&lt;/p&gt;</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">Hello World</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">&lt;p&gt;Hello World&lt;/p&gt;</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western">&lt;p&gt; omitted in DB to make it plain-text
				editable.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=34%>
				<P CLASS="western">&lt;p align=&quot;right&quot;&gt;Right aligned
				text&lt;/p&gt;</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">&lt;p align=&quot;right&quot;&gt;Right aligned
				text&lt;/p&gt;</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">&lt;p align=&quot;right&quot;&gt;Right aligned
				text&lt;/p&gt;</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western">Had to keep &lt;p&gt; tag in DB because align
				attribute was found.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=34%>
				<P CLASS="western">&lt;table ...&gt;....&lt;/table&gt;</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">[stripped out]</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western">Tables were not allowed, so stripped.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=34%>
				<P CLASS="western">&lt;a
				href=&quot;http://localhost/.../index.php?id=123&quot;&gt;</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">&lt;link 123&gt;</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">&lt;a href=&quot;Contact_us.123.html&quot;&gt;</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western">Links are stored with the &lt;link&gt;-tag and
				needs processing for both frontend and backend. 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=34%>
				<P CLASS="western">&lt;img
				src=&quot;http://localhost/fileadmin/image.jpg&quot;&gt;</P>
			</TD>
			<TD WIDTH=28%>
				<P CLASS="western">&lt;img src=&quot;fileadmin/image.jpg&quot;&gt;</P>
			</TD>
			<TD WIDTH=24%>
				<P CLASS="western">&lt;img src=&quot;fileadmin/image.jpg&quot;&gt;</P>
			</TD>
			<TD WIDTH=14%>
				<P CLASS="western">References to images must usually be absolute
				paths in RTEs while relative in database.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="5.2.3.Transformation overview|outline"></A>
Transformation overview</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
transformation of the content can be configured by listing which
<I>transformation filters</I> to pass it through. The order of the
list is the order in which the transformations are performed when
saved to the database. The order is reversed when the content is
loaded into the RTE again.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=68*>
	<COL WIDTH=188*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=26%>
				<P CLASS="western">Transformation filter:</P>
			</TH>
			<TH WIDTH=74%>
				<P CLASS="western">Description:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">ts_transform</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western">Transforms the content with regard to most of
				the issues related to content elements types 'Text' and 'Text
				w/Image'. The mode is optimized for the content rendering of the
				static template “content (default)” which uses old &lt;font&gt;
				tag style rendering.<BR>The mode is a “hybrid” mode which
				tries to save only the necessary HTML in the database so that
				content might still be easily edited without the RTE. For
				instance a text paragraph will be encapsulated in &lt;p&gt; tags
				while in the database it will just be a single line ended by a
				line break character.<BR>(<SPAN STYLE="font-weight: normal">Supports
				the “cms” extension)</SPAN></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">css_transform</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western">Like “ts_transform”, but headers and
				bulletlists are preserved as &lt;Hx&gt; tags and &lt;OL&gt; /
				&lt;UL&gt; (TYPOLIST and TYPOHEAD are still converted to Hx and
				OL/UL, but not reversely...) and tables are preserved
				(PROC.preserveTables is disabled).<BR>The mode is optimized for
				the content rendering done by  “css_styled_content” or
				similar.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">ts_preserve</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western">Converts the list of preserved tags - if any -
				to &lt;SPAN&gt;-tags with a custom parameter 'specialtag' which
				holds the value of the original tag. <BR>Depricated.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">ts_images</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western">Checks if any images on the page is from
				external URLs and if so they are fetched and stored in the
				uploads/ folder. In addition 'magic' images are evaluated to see
				if their size has changed and if so the image is recalculated on
				the server. Finally absolute URLs are converted to relative URLs
				for all local images.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">ts_links</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western">Converts the absolute URLs of links to the
				TypoScript specific &lt;LINK&gt;-tag. This process is designed to
				make links in concordance with the typolink function in the
				TypoScript frontend.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">ts_reglinks</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western">Converts the absolute URLs of links to
				relative. Keeping the &lt;A&gt;-tag.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TH WIDTH=26%>
				<P CLASS="western">Meta transformation:</P>
			</TH>
			<TH WIDTH=74%>
				<P CLASS="western">Description:</P>
			</TH>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">ts</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western"><SPAN STYLE="font-weight: normal">Meta</SPAN>-mode
				which is basically a substitute for this list:
				ts_transform,ts_preserve,ts_images,ts_links.  This is the one
				used specifically for the two 'Text'-types of the content
				elements (“cms” extension).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=26%>
				<P CLASS="western" STYLE="font-weight: normal">ts_css</P>
			</TD>
			<TD WIDTH=74%>
				<P CLASS="western">Like “ts”, a meta-mode which is a
				substitute for the list: css_transform,ts_images,ts_links. It is
				designed to be the new, modern transformation used by most RTE
				cases, because it converts links between &lt;A&gt; and &lt;LINK&gt;
				but preserves all other content while still making it as human
				readable as possible (that means simple &lt;P&gt;-tags are
				resolved into simple lines.)</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
addition, custom transformations can be created. This allows you to
create your own tailor made transformations with a PHP class where
you can program how content is processed to and from the database.
See section later.</FONT></P>
<H3 CLASS="western"><A NAME="5.2.4.Transformation details|outline"></A>
Transformation details</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
transformations offered by the TYPO3 core are performed by the class
“t3lib_parsehtml_proc”. Here follows a technical and detailed
description of the transformation filters available:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=128*>
	<COL WIDTH=128*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=50%>
				<P CLASS="western">DB -&gt; RTE</P>
			</TH>
			<TH WIDTH=50%>
				<P CLASS="western">RTE -&gt; DB</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TH COLSPAN=2 WIDTH=100% VALIGN=TOP>
				<UL>
					<P CLASS="western">ts_transform, css_transform</P>
				</UL>
			</TH>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<P CLASS="western" ALIGN=LEFT>function
				t3lib_parseHTML::TS_transform_rte()</P>
			</TD>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_transform_db()</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">Sections by the tags
					TABLE,PRE,UL,OL,H1,H2,H3,H4,H5,H6 are not processed and thus
					just passed on to the RTE.</P>
					<LI><P CLASS="western">The content of &lt;BLOCKQUOTE&gt;
					sections are sent recursively through the ts_transform filter.
					The tag remains.</P>
					<LI><P CLASS="western">&lt;TYPOLIST&gt; sections are converted
					to &lt;OL&gt; or &lt;UL&gt; sections, the latter is the case if
					the type parameter is set to 1. 
					</P>
					<P CLASS="western">The conversion of TYPOLIST-tags can be
					disabled by setting the 'proc.typolist' option. See later.</P>
					<LI><P CLASS="western">&lt;TYPOHEAD&gt; sections are converted
					to &lt;Hx&gt;-tags. The type parameter ranging from 1-5
					determines which H-tag will be used. If no type parameter is
					set, H6 is used.</P>
					<P CLASS="western">The conversion of TYPOHEAD-tags can be
					disabled by setting the 'proc.typohead' option. See later.</P>
					<LI><P CLASS="western">All content outside the tags already
					mentioned are now processed as follows:</P>
				</UL>
				<UL>
					<UL>
						<LI><P CLASS="western">Every line is wrapped in &lt;P&gt;-tags
						(configurable to DIV), if a line is empty a &amp;nbsp; is set
						and if the line happens to be wrapped in DIV/P-tags already,
						it's not wrapped again (this might be the case if align or
						class parameters has been set). 
						</P>
						<LI><P CLASS="western">Then &lt;B&gt; tags are mapped to
						&lt;STRONG&gt; tags and &lt;I&gt; tags are mapped to &lt;EM&gt;
						tags (This is how the RTE prefers it).</P>
						<LI><P CLASS="western">All content between the P/DIV tags
						outside of other allowed HTML-tags are htmlspecialchar()'ed.
						Thus only allowed HTML code is preserved and other “pseudo
						tags” are mapped to real text.</P>
					</UL>
				</UL>
			</TD>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">Sections by the tag PRE are not processed
					and thus just passed on to the DB.</P>
					<LI><P CLASS="western">&lt;TABLE&gt;-sections are dissolved so
					only the text of the table cells remains. Every cell represents
					a new line. The reason for this action basically is that tables
					are not wanted in the 'Text'-types and they may also be nice to
					get rid of in case you have transferred content from other
					websites. (This can be disabled.) <BR>(Does NOT apply to
					“css_transform”)</P>
					<LI><P CLASS="western">The content of &lt;BLOCKQUOTE&gt;
					sections are sent recursively through the ts_transform filter.
					The tag remains.</P>
					<LI><P CLASS="western">&lt;OL&gt; and &lt;UL&gt; sections are
					converted to &lt;TYPOLIST&gt; sections. If the bulletlist is
					&lt;OL&gt; (ordered list with numbers) the type parameter of the
					typolist is set to 1. Bulletlists in multiple levels are not
					supported. 
					</P>
					<P CLASS="western">The conversion of TYPOLIST-tags can be
					disabled by setting the 'proc.typolist' option. See later. 
					</P>
					<P CLASS="western">(Does NOT apply to “css_transform”)</P>
					<LI><P CLASS="western">&lt;Hx&gt; sections are converted to
					&lt;TYPOHEAD&gt;-tags. The number of the Hx-tag ranging from 1-5
					is set as the type-number of the TYPOHEAD tag. &lt;H6&gt; is
					equal to type=0 (default). Also the align parameter is preserved
					as well as the class parameter if set.</P>
					<P CLASS="western">The conversion of TYPOHEAD-tags can be
					disabled by setting the 'proc.typohead' option. In that case the
					tag is preserved with the parameters align and class. See later.</P>
					<P CLASS="western">(Does NOT apply to “css_transform”)</P>
					<LI><P CLASS="western">All content outside these block are now
					processed as follows: 
					</P>
				</UL>
				<UL>
					<UL>
						<LI><P CLASS="western">All &lt;DIV&gt; and &lt;P&gt; sections
						are dissolved into lines (unless align and/or class parameters
						are set). 
						</P>
						<LI><P CLASS="western">&lt;BR&gt; tags are as well converted
						into newlines (configurable since this will resolve “soft
						linebreaks” into paragraphs!).</P>
						<LI><P CLASS="western">Then &lt;STRONG&gt; and &lt;EM&gt; tags
						are remapped to &lt;B&gt; and &lt;I&gt; tags. (This is more
						human readable. Configurable). 
						</P>
						<LI><P CLASS="western">The list of allowed tags (configurable)
						is preserved - all other tags discarded (thus junk-tags from
						pasted content will not survive into the database!). 
						</P>
						<LI><P CLASS="western">The content outside the allowed tags is
						de-htmlspecialchar()'ed - thus converted back to human-readable
						text. Furthermore the nesting of tags inside of P/DIV sections
						is preserved. For instance this: &lt;P&gt;One &lt;U&gt;&lt;B&gt;two&lt;/B&gt;
						three&lt;/P&gt;&lt;/U&gt; will be converted to &lt;P&gt;One
						&lt;B&gt;two&lt;/B&gt; three&lt;/P&gt;. That is the U-tags
						being removed, because they were falsely nested with the &lt;P&gt;
						tags.</P>
					</UL>
				</UL>
			</TD>
		</TR>
		<TR>
			<TH COLSPAN=2 WIDTH=100% VALIGN=TOP>
				<P CLASS="western">ts_preserve (deprecated)</P>
			</TH>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_preserve_rte()</P>
			</TD>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_preserve_db()</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">If 'proc.preserveTags' are configured
					those tags are converted to &lt;SPAN specialtag=”...(the
					preserved tag rawurlencoded)...”&gt;-sections. Those are
					supposed to be let alone by the RTE.</P>
				</UL>
			</TD>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">If 'proc.preserveTags' are configured
					&lt;SPAN&gt;-tags with the custom 'specialtag' parameter set are
					converted back to the tag value contained in the
					specialtag-parameter.</P>
				</UL>
			</TD>
		</TR>
		<TR>
			<TH COLSPAN=2 WIDTH=100% VALIGN=TOP>
				<P CLASS="western">ts_images</P>
			</TH>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_images_rte()</P>
			</TD>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_images_db()</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">All &lt;IMG&gt;-tags are processed and if
					the value of the src-parameter happens <I>not </I>to start with
					'http' it's expected to be a relative URL and the current site
					URL is prefixed so the reference is absolute in the RTE as the
					RTE requires.</P>
				</UL>
			</TD>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">All &lt;IMG&gt;-tags are processed and if
					the first part of the src-parameter is not the same as the
					current site URL, the image must be a reference to an external
					image. In that case the image is read from that URL and stored
					as a 'magic' image in the upload/ folder (can be disabled).</P>
					<LI><P CLASS="western">All magic images (that is images stored
					in the uploads/ folder (configured by
					TYPO3_CONF_VARS[&quot;BE&quot;][&quot;RTE_imageStorageDir&quot;],
					filenames prefixed with 'RTEmagicC_' (child=actual image) and
					'RTEmagicP_' (parent=original image))) are processed to see if
					the physical dimensions of the image on the server matches the
					dimensions set in the img-tag. If this is not the case, the user
					must have changed the dimensions and the image must be re-scaled
					accordingly.</P>
					<LI><P CLASS="western">Finally the absolute reference to the
					image is converted to a proper relative reference if the image
					URL is local.</P>
				</UL>
			</TD>
		</TR>
		<TR>
			<TH COLSPAN=2 WIDTH=100% VALIGN=TOP>
				<P CLASS="western">ts_links</P>
			</TH>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_links_rte()</P>
			</TD>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_links_db()</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">All &lt;LINK&gt;-tags (TypoScript
					specific) are converted to proper &lt;A&gt;-tags. The parameters
					of the &lt;LINK&gt;-tags are separated by space. The first
					parameter is the link reference (see typolink function in TSref
					for details on the syntax), second is the target if given (if
					'-' the target is not set), the third parameter is the class (if
					'-' the class is not set) and the fourth parameter is the title.</P>
				</UL>
			</TD>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">All &lt;A&gt;-tags are converted to
					&lt;LINK&gt; tags, however only if they do not contain any
					parameters other than href, target and class. These are the only
					three parameters which can be represented by the TypoScript
					specific &lt;LINK&gt;-tag.</P>
				</UL>
			</TD>
		</TR>
		<TR>
			<TH COLSPAN=2 WIDTH=100% VALIGN=TOP>
				<P CLASS="western">ts_reglinks</P>
			</TH>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_reglinks()</P>
			</TD>
			<TD WIDTH=50%>
				<P CLASS="western">function t3lib_parseHTML::TS_reglinks()</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">All A-tags have URLs converted to
					absolute URLs if they are relative</P>
				</UL>
			</TD>
			<TD WIDTH=50%>
				<UL>
					<LI><P CLASS="western">All A-tags have their absolute URLs
					converted to relative if possible (that is the URL is within the
					current domain).</P>
				</UL>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="5.2.5.Page TSconfig|outline"></A>Page
TSconfig</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
RTEs can be configured by Page TSconfig. There is a top level object
name, &quot;RTE&quot;, that is used for this. The main object paths
looks like this:</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 STYLE="page-break-before: auto">
	<COL WIDTH=75*>
	<COL WIDTH=38*>
	<COL WIDTH=143*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=29%>
				<P CLASS="western">Property:</P>
			</TH>
			<TH WIDTH=15%>
				<P CLASS="western">Data type:</P>
			</TH>
			<TH WIDTH=56%>
				<P CLASS="western">Description:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=29% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">default.[...]</P>
				<P CLASS="western">config.[<I>tablename</I>].[<I>field</I>].[...]</P>
				<P CLASS="western">config.[<I>tablename</I>].[<I>field</I>].types.[<I>type</I>].[...]</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">-&gt;RTEconf</P>
			</TD>
			<TD WIDTH=56% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><SPAN STYLE="font-weight: normal">These
				objects contain the actual configuration of the RTE interface. 
				For the properties available, refer to the table below.</SPAN>
				This is a description of how you can customize in general and
				override for specific fields/types.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">'RTE.default'  configures the RTE for all
				tables/fields/types</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">'RTE.config.[<I>tablename</I>].[<I>field</I>]'
				configures a specific field. The values inherit the values from
				'RTE.default' in fact this is overriding values.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">'RTE.config.[<I>tablename</I>].[<I>field</I>].types.[<I>type</I>]'
				configures a specific field in case the 'type'-value of the field
				matches <I>type</I>. Again this overrides the former settings.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=29% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">[individual RTE options]</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=56% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">There are other options to set for the RTE
				toplevel object. These depends on the individual RTEs though! So
				there can be no further reference in this table to these
				properties.</P>
				<P CLASS="western">Generally the &quot;rte&quot; (classic MSIE
				RTE) will set the standard for configuration options, so you can
				refer to the documentation for that RTE for more details. On the
				top level of the RTE object you will normally find that general
				collections of classes, styles etc. are configured.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western">[page:RTE]</P>
<H5 CLASS="western">Configuration examples</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
configuration in &quot;Page TSconfig&quot; will disable the RTE
altogether:</FONT></P>
<PRE CLASS="western"><FONT COLOR="#0000cc">RTE.default.disabled</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">1</FONT>
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In the case below the RTE is still disabled
generally, but this is overridden specifically for the table
&quot;tt_content&quot; where the RTE is used in the field &quot;bodytext&quot;;
The &quot;disabled&quot; flag is set to false again which means that
for Content Elements the RTE will be available.</FONT></P>
<PRE CLASS="western"><FONT COLOR="#0000cc">RTE.default.disabled</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">1</FONT>
<FONT COLOR="#0000cc">RTE.config.tt_content.bodytext.disabled</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">0</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this example the RTE is still enabled for content elements in
generally but if the Content Element type is set to &quot;Text&quot;
(text) then the RTE will be disabled again!</FONT></P>
<PRE CLASS="western"><FONT COLOR="#0000cc">RTE.default.disabled</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">1</FONT>
<FONT COLOR="#0000cc">RTE.config.tt_content.bodytext.disabled</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">0</FONT>
<FONT COLOR="#0000cc">RTE.config.tt_content.bodytext.types.text.disabled</FONT><FONT COLOR="#cc0000"> </FONT><FONT COLOR="#000000"><B>=</B></FONT><FONT COLOR="#cc0000"> 1</FONT></PRE><H4 CLASS="western">
The RTE object in Page TSconfig</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
RTE object contains configuration of the RTE application. There are a
few properties which are used externally from the RTE. The property
&quot;disabled&quot; will simply disable the rendering of the RTE and
&quot;proc&quot; is reserved to contain additional configuration of
transformations.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 STYLE="page-break-before: auto">
	<COL WIDTH=56*>
	<COL WIDTH=39*>
	<COL WIDTH=161*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22%>
				<P CLASS="western">Property:</P>
			</TH>
			<TH WIDTH=15%>
				<P CLASS="western">Data type:</P>
			</TH>
			<TH WIDTH=63%>
				<P CLASS="western">Description:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">disabled</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">If set, the editor is disabled.</P>
				<P CLASS="western">This option is evaluated in t3lib_TCEforms
				where it determines if the RTE is rendered or not.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">proc</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">-&gt;PROC</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">Customization of the server processing of the
				content - also called 'transformations'. See table below.</P>
				<P CLASS="western">The transformations are only initialized, if
				they are configured (“rte_transform” must be set for the
				field in the types-definition in TCA.)</P>
				<P CLASS="western">The &quot;-&gt;PROC&quot; object is processed
				in &quot;t3lib_parsehtml_proc&quot; and is <I>independant</I> of
				the particular RTE used (like transformations generally is!)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">[individual RTE options]</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">Each RTE may use additional properties for the
				RTE. Typically such properties relates to the features of the RTE
				application. For instance you could configure which tool bar
				buttons are available etc.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western">[page:-&gt;RTEconf]</P>
<H5 CLASS="western">Configuration examples</H5>
<PRE CLASS="western"><SPAN STYLE="background: #eeeeee">   0:</SPAN> <FONT COLOR="#0000cc">RTE.default</FONT> <FONT COLOR="#000000"><B>&gt;</B></FONT>
<SPAN STYLE="background: #eeeeee">   1:</SPAN> <FONT COLOR="#0000cc">RTE.default</FONT> <FONT COLOR="#000000"><B>{</B></FONT>
<SPAN STYLE="background: #eeeeee">   2:</SPAN>   <FONT COLOR="#0000cc">mainStyle_font</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">Arial, sans-serif</FONT>
<SPAN STYLE="background: #eeeeee">   3:</SPAN>   <FONT COLOR="#0000cc">mainStyle_size</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">12</FONT>
<SPAN STYLE="background: #eeeeee">   4:</SPAN>   <FONT COLOR="#0000cc">mainStyle_color</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">black</FONT>
<SPAN STYLE="background: #eeeeee">   5:</SPAN>   <FONT COLOR="#0000cc">classesParagraph</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">redText</FONT>
<SPAN STYLE="background: #eeeeee">   6:</SPAN>   <FONT COLOR="#0000cc">classesCharacter</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">redText</FONT>
<SPAN STYLE="background: #eeeeee">   7:</SPAN>   <FONT COLOR="#0000cc">showButtons</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">cut,copy,fontstyle,fontsize, textcolor,table,bgcolor</FONT>
<SPAN STYLE="background: #eeeeee">   <B>8:</SPAN>   <FONT COLOR="#0000cc">proc.preserveTables</FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#cc0000">1</FONT></B>
<SPAN STYLE="background: #eeeeee">   <B>9:</SPAN>    </B>
<SPAN STYLE="background: #eeeeee">  <B>10:</SPAN>   <FONT COLOR="#0000cc">proc.entryHTMLparser_db</FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#cc0000">1</FONT></B>
<SPAN STYLE="background: #eeeeee">  <B>11:</SPAN>   <FONT COLOR="#0000cc">proc.entryHTMLparser_db</FONT> <FONT COLOR="#000000">{</FONT></B>
<SPAN STYLE="background: #eeeeee">  <B>12:</SPAN>     <FONT COLOR="#0000cc">keepNonMatchedTags</FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#cc0000">1</FONT></B>
<SPAN STYLE="background: #eeeeee">  <B>13:</SPAN>     <FONT COLOR="#0000cc">xhtml_cleaning</FONT> <FONT COLOR="#000000">=</FONT> <FONT COLOR="#cc0000">1</FONT></B>
<SPAN STYLE="background: #eeeeee">  <B>14:</SPAN>   <FONT COLOR="#000000">}</FONT></B>
<SPAN STYLE="background: #eeeeee">  15:</SPAN>    
<SPAN STYLE="background: #eeeeee">  16:</SPAN>   <FONT COLOR="#0000cc">mainStyleOverride_add</FONT> <FONT COLOR="#000000"><B>{</B></FONT>
<SPAN STYLE="background: #eeeeee">  17:</SPAN>     <FONT COLOR="#0000cc">P</FONT> <FONT COLOR="#000000"><B>=</B></FONT>  <FONT COLOR="#cc0000">font-family:Arial, sans-serif; font-size:12;</FONT>
<SPAN STYLE="background: #eeeeee">  18:</SPAN>     <FONT COLOR="#0000cc">H1</FONT> <FONT COLOR="#000000"><B>=</B></FONT>  <FONT COLOR="#cc0000">font-family:Arial, sans-serif; font-size:16;  font-weight:bold; margin-top:0;margin-bottom:10;</FONT>
<SPAN STYLE="background: #eeeeee">  19:</SPAN>     <FONT COLOR="#0000cc">H2</FONT> <FONT COLOR="#000000"><B>=</B></FONT>  <FONT COLOR="#cc0000">font-family:Arial, sans-serif; font-size:12;  font-weight:bold; color:navy; margin-top:0;margin-bottom:10;</FONT>
<SPAN STYLE="background: #eeeeee">  20:</SPAN>     <FONT COLOR="#0000cc">H3</FONT> <FONT COLOR="#000000"><B>=</B></FONT>  <FONT COLOR="#cc0000">font-family:Arial, sans-serif; font-size:18;  font-weight:bold;</FONT>
<SPAN STYLE="background: #eeeeee">  21:</SPAN>     <FONT COLOR="#0000cc">H4</FONT> <FONT COLOR="#000000"><B>=</B></FONT>  <FONT COLOR="#cc0000">font-family:Arial, sans-serif; font-size:24;</FONT><SPAN STYLE="background: #66cc66"> </SPAN>
<SPAN STYLE="background: #eeeeee">  22:</SPAN>     <FONT COLOR="#0000cc">H5</FONT> <FONT COLOR="#000000"><B>=</B></FONT>  <FONT COLOR="#cc0000">font-family:Arial, sans-serif; font-size:20;  color:navy; font-weight:normal;  margin-top:0;margin-bottom:10;</FONT>
<SPAN STYLE="background: #eeeeee">  23:</SPAN>     <FONT COLOR="#0000cc">H6</FONT> <FONT COLOR="#000000"><B>=</B></FONT>  <FONT COLOR="#cc0000">font-family:Arial, sans-serif; font-size:16;  font-weight:bold;</FONT>
<SPAN STYLE="background: #eeeeee">  24:</SPAN>   <FONT COLOR="#000000"><B>}</B></FONT>
<SPAN STYLE="background: #eeeeee">  25:</SPAN>   <FONT COLOR="#0000cc">disablePCexamples</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">0</FONT>
<SPAN STYLE="background: #eeeeee">  26:</SPAN> <FONT COLOR="#000000"><B>}</B></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">In this example all the configuration except
line 8-14 (&quot;proc.&quot; configuration) is defining the RTE
applications internal features. These options will vary depending on
the RTE used. In this case the configuration is for the classic MSIE
Active-X RTE in the extension &quot;rte&quot;.</FONT></P>
<H4 CLASS="western">The -&gt;PROC object</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
object contains configuration of the transformations used. These
options are <I>universal for all RTEs</I> and used inside the class
&quot;t3lib_parsehtml_proc&quot;.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
main objective of these options is to allow for minor configuration
of the transformations. For instance you may disable the mapping
between &lt;B&gt;-&lt;STRONG&gt; and &lt;I&gt;-&lt;EM&gt; tags which
is done by the 'ts_transform' transformation. Or you could disable
the default transfer of images from external URL to the local server.
This is all possible through the options.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
how many properties relates to specific transformations only! Also
notice that the meta-transformations &quot;ts&quot; and &quot;ts_css&quot;
implies other transformations like &quot;ts_transform&quot; and
&quot;css_transform&quot; which means that options limited to
&quot;ts_transform&quot; will also work for &quot;ts&quot; of course.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 STYLE="page-break-before: auto">
	<COL WIDTH=56*>
	<COL WIDTH=39*>
	<COL WIDTH=161*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=22% BGCOLOR="#c0c0c0">
				<P CLASS="western">Property:</P>
			</TH>
			<TH WIDTH=15% BGCOLOR="#c0c0c0">
				<P CLASS="western">Data type:</P>
			</TH>
			<TH WIDTH=63% BGCOLOR="#c0c0c0">
				<P CLASS="western">Description:</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">overruleMode</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">List of RTE transformations 
				</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">This can overrule the RTE transformation set
				from TCA.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Notice, this is a <I>comma list</I> of
				transformation keys. (Not a &quot;dash-list&quot; like in $TCA).</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">typolist</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” only)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This enables/disables the conversion between
				&lt;TYPOLIST&gt; and &lt;UL&gt; sections. Default (if unset) is
				that &quot;typolist&quot; is enabled.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example that disables &quot;typolist&quot;:</B></P>
				<P CLASS="western">typolist = 0</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">typohead</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” only)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This enables/disables the conversion between
				&lt;TYPOHEAD&gt; and &lt;Hx&gt; sections.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example that disables &quot;typohead&quot;:</B></P>
				<P CLASS="western">typohead = 0</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">preserveTags 
				</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">list of tags</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">(DEPRECATED)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Here you may specify a list of tags - possibly
				user-defined pseudo tags - which you wish to preserve from being
				removed by the RTE. See the information about preservation in the
				description of transformations.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western">In the default TypoScript configuration of
				content rendering the tags typotags &lt;LINK&gt;, &lt;TYPOLIST&gt;
				and &lt;TYPOHEAD&gt; are the most widely used. However the
				&lt;TYPOCODE&gt;-tag is also configured to let you define a
				section being formatted in monospace. Lets also imaging, you have
				defined a custom tag, &lt;MYTAG&gt;. In order to preserve these
				tag from removal by the RTE, you should configure like this.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">RTE.default.proc {
  preserveTags = TYPOCODE, MYTAG
}
</PRE><P CLASS="western">
				Relates to the transformation 'ts_preserve'</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">dontConvBRtoParagraph</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function divideIntoLines))</I></P>
				<P CLASS="western" STYLE="font-weight: normal"><BR>
				</P>
				<P CLASS="western"><SPAN STYLE="font-weight: normal">By default
				&lt;BR&gt; tags in the content </SPAN>are converted to
				paragraphs. Setting this value will <I>prevent</I> the convertion
				of &lt;BR&gt;-tags to new-lines (chr(10))</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">internalizeFontTags</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function divideIntoLines))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This splits the content into font-tag chunks. 
				</P>
				<P CLASS="western">If there are any &lt;P&gt;/&lt;DIV&gt;
				sections inside of them, the font-tag is wrapped AROUND the
				content INSIDE of the P/DIV sections and the outer font-tag is
				removed.</P>
				<P CLASS="western">This functions seems to be a good choice for
				pre-processing content if it has been pasted into the RTE from
				eg. star-office. 
				</P>
				<P CLASS="western">In that case the font-tags is normally on the
				OUTSIDE of the sections.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">allowTagsOutside</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">commalist of strings</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function divideIntoLines))</I></P>
				<P CLASS="western" STYLE="font-style: normal; font-weight: normal">
				<BR>
				</P>
				<P CLASS="western"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">Enter
				tags which are allowed outside</SPAN></SPAN> of &lt;P&gt; and
				&lt;DIV&gt; sections when converted back to database.</P>
				<P CLASS="western">Default is “img”</P>
				<P CLASS="western">Example:</P>
				<P CLASS="western">IMG,HR</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">allowTagsInTypolists</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">commalist of strings</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” only)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Enter tags which are allowed inside of
				&lt;typolist&gt; tags when content is sent to the database.</P>
				<P CLASS="western">Default is “br,font,b,i,u,a,img,span”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">allowTags</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">commalist of strings</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function getKeepTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Tags to allow. Notice, this list is <I>added</I>
				to the default list, which you see here:</P>
				<P CLASS="western">b,i,u,a,img,br,div,center,pre,font,hr,sub,sup,p,strong,em,li,ul,ol,blockquote,strike,span</P>
				<P CLASS="western">If you wish to deny some tags, see below.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">denyTags</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">commalist of strings</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function getKeepTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Tags from above list to disallow.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">transformBoldAndItalicTags</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function getKeepTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Default is to convert b and i tags to strong
				and em tags respectively in the direction of the database, and to
				convert back strong and em tags to b and i tags in the direction
				of the RTE.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This transformation may be disabled by setting
				this property to 0.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">HTMLparser_rte</P>
				<P CLASS="western">HTMLparser_db</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">-&gt;HTMLparser</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function getKeepTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">This is additional options to the HTML-parser
				calls which strips of tags when the content is prepared for the
				RTE and DB respectively. You can configure additional rules, like
				which other tags to preserve, which attributes to preserve, which
				values are allowed as attributes of a certain tag etc.</P>
				<P CLASS="western"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">.nestingGlobal
				for HTMLparser_db is set by default to
				“b,i,u,a,center,font,sub,sup,strong,em,strike,span” </SPAN></SPAN>unless
				another value is set.</P>
				<P CLASS="western">Also B/I tags are mapped to STRONG/EM tags in
				the RTE direction and vise versa.</P>
				<P CLASS="western">This parsing is done on a per-line basis, so
				you cannot expect the paragraph tags (P or DIV) to be included.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice</B> the -&gt;HTMLparser options,
				“keepNonMatchedTags” and “htmlSpecialChars” is NOT
				observed. They are preset internally</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">dontRemoveUnknownTags_db</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function HTMLcleaner_db))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Direction: To database</P>
				<P CLASS="western">Default is to remove all unknown tags in the
				content going to the database. (See HTMLparser_db above for
				default tags). Generally this is a very usefull thing, because
				all kinds of bogus tags from pasted content like that from Word
				etc. will be removed to have clean content in the database.</P>
				<P CLASS="western">However this disables that and allows all
				tags, that are not in the HTMLparser_db-list.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">dontUndoHSC_db</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function HTMLcleaner_db))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Direction: To database</P>
				<P CLASS="western">Default is to re-convert literals to
				characters (that is &amp;lt; to &lt;) outside of HTML-tags. This
				is disabled by this boolean. (HSC means HtmlSpecialChars - which
				is a PHP function)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">dontProtectUnknownTags_rte</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function setDivTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Direction: To RTE</P>
				<P CLASS="western"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">Default
				is that tags unknown to HTMLparser_rte is “protected” when
				sent to the RTE. This means they are converted from eg &lt;MYTAG&gt;
				to &amp;lt;MYTAG&amp;gt;. This is normally very fine, because it
				can be edited plainly by the editor and when returned to the
				</SPAN></SPAN>database<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">
				the tag is (by default, disabled by .dontUndoHSC_db) converted
				back.</SPAN></SPAN></P>
				<P CLASS="western">Setting this option will prevent unknown tags
				from becoming protected.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">dontHSC_rte</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function setDivTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Direction: To RTE</P>
				<P CLASS="western">Default is that all content outside of
				HTML-tags is passed through htmlspecialchars(). This will disable
				that. (opposite to .dontUndoHSC_db)</P>
				<P CLASS="western">This option disables the default
				htmlspecialchars() conversion.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">dontConvAmpInNBSP_rte</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function setDivTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Direction: To RTE</P>
				<P CLASS="western">By default all &amp;nbsp; codes are NOT
				converted to &amp;amp;nbsp; which they naturally word (unless
				.dontHSC_rte is set). You can disable that by this flag.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">allowedFontColors</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">list of HTMLcolors</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function getKeepTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Direction: To DB</P>
				<P CLASS="western">If set, this is the only colors which will be
				allowed in font-tags! Case insensitive.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">allowedClasses</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">list of strings</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function getKeepTags))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Direction: To DB</P>
				<P CLASS="western"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">Allowed
				general classnames when content is stored in database. Could be a
				list matching the number of defined classes you have.</SPAN></SPAN>
				Case-insensitive.</P>
				<P CLASS="western">This might be a really good idea to do,
				because when pasting in content from MS word for instance there
				are a lot of &lt;SPAN&gt; and &lt;P&gt; tags which may have
				class-names in. So by setting a list of allowed classes, such
				foreign classnames are removed.</P>
				<P CLASS="western">If a classname is not found in this list, the
				default is to remove the class-attribute.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">skipAlign</P>
				<P CLASS="western">skipClass</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function divideIntoLines))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If set, then the align and class attributes of
				&lt;P&gt;/&lt;DIV&gt; sections (respectively) will be ignored.
				Normally &lt;P&gt;/&lt;DIV&gt; tags are preserved if one or both
				of these attributes are present in the tag. Otherwise it's
				removed.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">keepPDIVattribs</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">list of tag attributes  (strings)</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function divideIntoLines))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">“align” and “class” are the only
				attributes preserved for &lt;P&gt;/&lt;DIV&gt; tags. Here you can
				specify a list of other attributes to preserve.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">remapParagraphTag</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">string / boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only (function divideIntoLines))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">When &lt;P&gt;/&lt;DIV&gt; sections are
				converted to be put into the database, the tag - P or DIV - is
				preserved. However setting this options to either P or DIV will
				force the section to be converted to the one or the other.</P>
				<P CLASS="western">If the value is set true (1), then it works as
				a general disable-flag for the whole section-convertion stuff
				here and the result will be no tags preserved what so ever. Just
				removed.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">useDIVasParagraphTagForRTE 
				</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” only and
				&quot;css_transform&quot; (function TS_transform_rte))</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Use &lt;DIV&gt;-tags for sections when
				converting lines from database to RTE. Default is &lt;P&gt;.
				Applies only to lines which has NO tag wrapped around already.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">preserveDIVSections</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform” and
				&quot;css_transform&quot; only)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If set, div sections will be treated just like
				blockquotes. They will be treated recursively as external blocks.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">preserveTables</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_transform”)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If set, tables are preserved</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">dontFetchExtPictures</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_images”)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">If set, images from external urls are not
				fetched for the page if content is pasted from external sources.
				Normally this process of copying is done.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">plainImageMode</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean/string</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for “ts_images”)</I></P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">If set, all “plain”
				local images (those that are not magic images) will be cleaned up
				in some way.</P>
				<P CLASS="western" STYLE="font-style: normal">If the value is
				just set, then the style attribute will be removed after
				detecting any special width/height CSS attributes (which is what
				the RTE will set if you scale the image manually) and the border
				attribute is set to zero.</P>
				<P CLASS="western" STYLE="font-style: normal">You can also
				configure with special keywords. So setting “plainImageMode”
				to any of the value below will perform special processing:</P>
				<P CLASS="western" STYLE="font-style: normal"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal">“lockDimensions”
				: This will read the real dimensions of the image file and force
				these values into the &lt;img&gt; tag. Thus this option will
				prevent any user applied scaling in the image!</P>
				<P CLASS="western" STYLE="font-style: normal">“lockRatio” :
				This will allow users to scale the image but will automatically
				correct the height dimension so the aspect ratio from the
				original image file is preserved.</P>
				<P CLASS="western" STYLE="font-style: normal">“lockRatioWhenSmaller”
				: Like “lockRatio”, but will not allow any scaling larger
				than the original size of the image.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">exitHTMLparser_rte</P>
				<P CLASS="western">exitHTMLparser_db</P>
				<P CLASS="western">entryHTMLparser_rte</P>
				<P CLASS="western">entryHTMLparser_db</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean/-&gt;HTMLparser</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for all kinds of processing)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Allows you to enable/disable the HTMLparser
				for the content before (entry) and after (exit) the content is
				processed with the predefined processors (eg. ts_images or
				ts_transform).</P>
				<P CLASS="western">There is no default values set. 
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">disableUnifyLineBreaks</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">boolean</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western"><I>(Applies for all kinds of processing)</I></P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">When entering the processor all \r\n
				linebreaks are converted to \n (13-10 to 10). When leaving the
				processor all \n is reconverted to \r\n (10 to 13-10).</P>
				<P CLASS="western">This options disables that processing...</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=22% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">usertrans.[user-defined transformation key]</P>
			</TD>
			<TD WIDTH=15% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=63% SDVAL="0" SDNUM="16393;0;@">
				<P CLASS="western" STYLE="font-style: normal">Custom option-space
				for userdefined transformations.</P>
				<P CLASS="western" STYLE="font-style: normal">See example from
				section about custom transformations.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="font-weight: normal">[page:-&gt;PROC]</P>
<H3 CLASS="western"><A NAME="5.2.6.Custom transformations API|outline"></A>
Custom transformations API</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Instead
of using the built-in transformations of TYPO3 you can program your
own. This is done by creating a PHP class with two methods for
transformation. Additionally you have to define a key (like
&quot;css_transform&quot;) for your transformation so you can refer
to it in the configuration of Rich Text Editors.</FONT></P>
<H4 CLASS="western">Custom transformation key</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
should pick a custom transformation key which is prefixed with either
&quot;tx_&quot; or &quot;user_&quot;. Use &quot;tx_[extension
key]_[suffix]&quot; if you deliver your transformation inside an
extension. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><B>Notice:</B>
If you pick one of the default transformation keys (except the
meta-transformations) you will simply <I>override it</I> and your
transformation will be called instead!</FONT></P>
<H4 CLASS="western">Registering the transformation key in the system</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
&quot;ext_localconf.php&quot; you simply set a $TYPO3_CONF_VARS
variable to point to the class which contains the transformation
methods:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$TYPO3_CONF_VARS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'SC_OPTIONS'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'t3lib/class.t3lib_parsehtml_proc.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'transformation'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#dd0000"><B>tx_myext</B></FONT><FONT COLOR="#dd0000">'</FONT><FONT COLOR="#007700">]</FONT></FONT>
<FONT COLOR="#000000"><FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;= </FONT><FONT COLOR="#dd0000">'EXT:myext/custom_transformation.php:user_transformation'</FONT><FONT COLOR="#007700">;</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Here the <I>transformation key</I> is defined
to be &quot;tx_myext&quot; (assuming the extension has the extension
key &quot;myext&quot;) and the value points to a file inside the
transformation which will contain the class &quot;user_transformation&quot;
(instantiated by t3lib_div::getUserObj())</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
class must contain two methods, &quot;transform_db&quot; and
&quot;transform_rte&quot; for each transformation direction.</FONT></P>
<H4 CLASS="western">Code listing of &quot;user_transformation&quot;</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
code listing shows a simple transformation. When content is delivered
to the RTE it will add a &lt;hr/&gt; tag to the end of the content.
When the content is stored in the database any &lt;hr/&gt; tag in the
end of the content will be removed and substituted with whitespace.
This is of totally useless but nevertheless shows the concept of
transformations between RTE and DB.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   0:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   1:</FONT>  * Custom RTE transformation</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">   2:</FONT>  */</FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#ff8000"> </FONT><FONT COLOR="#007700">class </FONT><FONT COLOR="#0000bb">user_transformation </FONT><FONT COLOR="#007700">{</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   4:</FONT> </FONT>
<FONT COLOR="#000000">   5:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// object; Reference to the parent object, t3lib_parsehtml_proc</FONT></FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">var </FONT><FONT COLOR="#0000bb">$pObj</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   7:</FONT> </FONT>
<FONT COLOR="#000000">   8:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Transformation key of self.</FONT></FONT>
<FONT COLOR="#000000">   9:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">var </FONT><FONT COLOR="#0000bb">$transformationKey </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#dd0000">'tx_myext'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  10:</FONT> </FONT>
<FONT COLOR="#000000">  11:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Will contain transformation configuration if found:</FONT></FONT>
<FONT COLOR="#000000">  12:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">var </FONT><FONT COLOR="#0000bb">$conf</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  13:</FONT> </FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  14:</FONT> </FONT>
<FONT COLOR="#000000">  15:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  16:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * Setting specific configuration for this transformation</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  17:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; *</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  18:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;void</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  19:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000">  20:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">initConfig</FONT><FONT COLOR="#007700">()&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  21:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">conf </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">pObj</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">procOptions</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'usertrans.'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">transformationKey</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'.'</FONT><FONT COLOR="#007700">];</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  22:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  23:</FONT> </FONT>
<FONT COLOR="#000000">  24:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  25:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * Reserved method name, called when content is transformed for DB storage</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  26:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * If &quot;proc.usertrans.tx_myext.addHrulerInRTE = 1&quot; then a horizontal ruler in the</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  27:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * end of the content will be removed (if found)</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  28:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; *</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  29:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * @param&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RTE HTML to clean for database storage</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  30:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processed input string.</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  31:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000">  32:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">transform_db</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  33:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">initConfig</FONT><FONT COLOR="#007700">();</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  34:</FONT> </FONT>
<FONT COLOR="#000000">  35:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">conf</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'addHrulerInRTE'</FONT><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  36:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$value </FONT><FONT COLOR="#007700">= </FONT><FONT COLOR="#0000bb">eregi_replace</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'&lt;hr[[:space:]]*[\/]&gt;[[:space:]]*$'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">);</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  37:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  38:</FONT> </FONT>
<FONT COLOR="#000000">  39:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  40:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  41:</FONT> </FONT>
<FONT COLOR="#000000">  42:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">/**</FONT></FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  43:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * Reserved method name, called when content is transformed for RTE display</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  44:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * If &quot;proc.usertrans.tx_myext.addHrulerInRTE = 1&quot; then a horizontal ruler</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  45:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * will be added in the end of the content.</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  46:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; *</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  47:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * @param&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Database content to transform to RTE ready HTML</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  48:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; * @return&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processed input string.</FONT>
<FONT COLOR="#ff8000"><FONT COLOR="#000000">  49:</FONT> &nbsp;&nbsp;&nbsp;&nbsp; */</FONT>
<FONT COLOR="#000000">  50:<FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">function </FONT><FONT COLOR="#0000bb">transform_rte</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  51:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">initConfig</FONT><FONT COLOR="#007700">();</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  52:</FONT> </FONT>
<FONT COLOR="#000000">  53:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</FONT><FONT COLOR="#0000bb">$this</FONT><FONT COLOR="#007700">-&gt;</FONT><FONT COLOR="#0000bb">conf</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'addHrulerInRTE'</FONT><FONT COLOR="#007700">])&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT>
<FONT COLOR="#000000">  54:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">.=</FONT><FONT COLOR="#dd0000">'&lt;hr/&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  55:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  56:</FONT> </FONT>
<FONT COLOR="#000000">  57:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </FONT><FONT COLOR="#0000bb">$value</FONT><FONT COLOR="#007700">;</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  58:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}</FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">  59:</FONT> }</FONT></PRE><H4 CLASS="western">
Comments to code listing</H4>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	transformation methods &quot;transform_rte&quot; and &quot;transform_db&quot;
	takes a single argument which is the value to transform. They have
	to return that value again.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	internal variable $pObj is set to be a reference to the parent
	object which is an instance of &quot;t3lib_parsehtml_proc&quot;.
	Inside of this object you can access the default transformation
	functions if you need to and in particular you can read out
	configuration settings.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	internal variable $transformationKey is automatically set to the
	transformation key that is active.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
	that both transformation functions call initConfig() (line 33 and
	51) which reads custom configuration.</FONT></P>
</UL>
<H4 CLASS="western">Using the transformation</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
order to use the transformation you simply use it in the list of
transformations in Special Configuration. Here is an example that
works:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   1:<FONT COLOR="#0000bb"> </FONT><FONT COLOR="#dd0000">'TEST01' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   2:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'label' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'TEST01: Text field'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#000000">   3:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'config' </FONT><FONT COLOR="#007700">=&gt; Array (</FONT></FONT>
<FONT COLOR="#000000">   4:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'type' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'text'</FONT><FONT COLOR="#007700">,</FONT></FONT>
<FONT COLOR="#007700"><FONT COLOR="#000000">   5:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;),</FONT>
<FONT COLOR="#000000">   6:<FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'defaultExtras' </FONT><FONT COLOR="#007700">=&gt; </FONT><FONT COLOR="#dd0000">'richtext[*]:rte_transform[mode=</FONT><FONT COLOR="#dd0000"><B>tx_myext</B></FONT><FONT COLOR="#dd0000">-css_transform]'</FONT></FONT>
<FONT COLOR="#000000">   7:<FONT COLOR="#dd0000"> </FONT><FONT COLOR="#007700">),</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The order is important. The order in this list
is the order of calling when the direction is &quot;db&quot;. If the
order is reversed the &lt;hr/&gt; tag will come out as regular text
in the RTE because &quot;css_transform&quot; protects all non-allowed
tags with htmlspecialchars().</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
the transformations should be called correctly. Before the &lt;hr/&gt;
will be added/removed we also have to configure through Page TSconfig
(because we programmed our transformation to look for this
configuration option):</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000cc">RTE.default.proc.usertrans.tx_myext.addHrulerInRTE</FONT> <FONT COLOR="#000000"><B>=</B></FONT> <FONT COLOR="#cc0000">1</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">That's all!</FONT></P>
<H2 CLASS="western"><A NAME="5.3.Historical perspective on RTE transformations|outline"></A>
Historical perspective on RTE transformations</H2>
<H3 CLASS="western"><A NAME="5.3.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
next sections describe in more details the necessity of RTE
transformations. The text is written at the birth of transformations
and might therefore be slightly oldfashioned. However it checked out
generally OK and may help you to further understand why these issues
exist. The argumentation is still valid.</FONT></P>
<H3 CLASS="western"><A NAME="5.3.2.Properties and 'transformations'|outline"></A>
Properties and 'transformations'</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
RTE<SPAN STYLE="font-weight: normal"> applications typically expect
to be fed with content formatted as HTML</SPAN>. In effect an RTE
will discard content it doesn't like, for instance fictitious HTML
tags and line breaks. Also the HTML content created by the RTE editor
is not necessarily as 'clean' as you might like.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
editor has the ability to paste in formatted content copied/cut from
other websites (in which case images are included!) or from text
processing applications like MS Word or Star Office. This is a great
feature and may solve the issue of transferring formatted content
from eg. Word into TYPO3.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">However
these inherent features - good or bad - raises the issue how to
handle content in a field which we do not wish to 'pollute' with
unnecessary HTML-junk. One perspective is the fact that we might like
to edit the content with Netscape later (for which the RTE cannot be
used, see above) and therefore would like it to be 'human readable'.
Another perspective is if we might like to use only Bold and Italics
but not the alignment options. Although you can configure the editor
to display <I>only</I> the bold and italics buttons, this does <I>not
</I>prevent users from pasting in HTML-content copied from other
websites or from Microsoft Word which <I>does</I> contain tables,
images, headlines etc.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
answer to this problem is a so called 'transformation' which you can
configure in the $TCA (global, authoritative configuration) and which
you may further customize through Page TSconfig (local configuration
for specific branches of the website). The issue of transformations
is best explained by the following example from the table, tt_content
(the content elements).</FONT></P>
<H3 CLASS="western"><A NAME="5.3.3.RTE transformations in Content Elements|outline"></A>
RTE transformations in Content Elements</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
RTE is used in the bodytext field of the content elements, configured
for the types 'Text' and 'Text w/Image'. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><SPAN ID="Frame1" DIR="LTR" STYLE="float: left; width: 12.75cm; height: 3.15cm; border: none; padding: 0cm; background: #ffffff">
	<P CLASS="illustration-western"><IMG SRC="12_html_m854e372.png" NAME="Graphic48" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT>This
	is how the toolbar looks if the type of the content element is not
	'Rich Text' but 'Text'.</P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
configuration of the two 'Text'-types are the same: The toolbar
includes only a subset of the total available buttons. The reason is
that the text content of these types, 'Text' and 'Text w/Image' is
<I>traditionally</I> not meant to be filled up with HTML-codes. But
more important is the fact that the content is usually (by the
standard TypoScript content rendering used on the vast majority of
TYPO3 websites!) parsed through a number of routines. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
order to understand this, here is an outline of what typically
happens with the content of the two Text-types when rendered by
TypoScript for frontend display:</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
	line breaks are converted to &lt;br /&gt; codes. </FONT>
	</P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(Doing
	this enables us to edit the text in the field rather naturally in
	the backend because line breaks in the edit field comes out as line
	breaks on the page!)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
	instances of 'http://...' and 'mailto:....' are converted to links. </FONT>
	</P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(This
	is a quick way to insert links to URLs and email address)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	text is parsed for special tags, so called 'typotags', configured in
	TypoScript. The default typotags tags are &lt;LINK&gt; (making
	links), &lt;TYPOLIST&gt; (making bulletlists), &lt;TYPOHEAD&gt;
	(making headlines) and &lt;TYPOCODE&gt; (making monospaced
	formatting). </FONT>
	</P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(The
	&lt;LINK&gt; tag is used to create links between pages inside TYPO3.
	Target and additional parameters are automatically added which makes
	it a very easy way to make sure, links are correct. &lt;TYPOLIST&gt;
	renders each line between the start and end tag as a line in a
	bulletlist, formatted like the content element type 'Bulletlist'
	would be. This would typically result in a bulletlist placed in a
	table and not using the bullet-list tags from HTML. &lt;TYPOHEAD&gt;
	would display the tag content as a headline. The type-parameter
	allows to select between the five default layout types of content
	element headlines. This might include graphical headers. &lt;TYPOCODE&gt;
	is not converted).</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
	other 'tags' found in the content are converted to regular text
	(with htmlspecialchars) unless the tag is found in the 'allowTags'
	list. </FONT>
	</P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(This
	list includes tags like 'b' (bold) and 'i' (italics) and so these
	tags may be used and will be outputted. However tags like 'table',
	'tr' and 'td' is not in this list by default, so table-html code
	inserted will be outputted as text and not as a table!)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Constants
	and search-words - if set - will be highlighted or inserted.</FONT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(This
	feature will mark up any found search words on the pages if the page
	is linked to from a search result page.)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">And
	finally the result of this processing may be wrapped in &lt;font&gt;-tags,
	&lt;p&gt;-tags or whatever is configured. This depends on whether a
	stylesheet is used or not. If a stylesheet is used the individual
	sections between the typotags are usually wrapped separately.</FONT></P>
</OL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now
lets see how this behaviour challenges the use of the RTE. This
describes how the situation is handled regarding the two Text-types
as mentioned above. (Numbers refer to the previous bulletlist):</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">Line
	breaks: The RTE removes all line breaks and makes line breaks itself
	by either inserting a &lt;P&gt;...&lt;/P&gt; section or
	&lt;DIV&gt;...&lt;/DIV&gt;. This means we'll have to convert
	existing lines to &lt;P&gt;...&lt;/P&gt; before passing the content
	to the RTE and further we need to revert the &lt;DIV&gt; and &lt;P&gt;
	sections in addition to the &lt;BR&gt;-tags </SPAN>to line breaks
	when the content is returned to the database from the RTE. </FONT>
	</P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	greatest challenge here is however what to do if a &lt;DIV&gt; or
	&lt;P&gt; tag has parameters like 'class' or 'align'. In that case
	we can't just discard the tag. So the tag is preserved.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	substitution of http:// and mailto: does not represent any problems
	here.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">&quot;Typotags&quot;:
	The typotags are not real HTML tags so they would be removed by the
	RTE. Therefore those tags must be converted into something else.
	This is actually an opportunity and the solution to the problem is
	that all &lt;LINK&gt;-tags are converted into regular &lt;A&gt;-tags,
	all &lt;TYPOLIST&gt; tags are converted into &lt;OL&gt; or &lt;UL&gt;
	sections (ordered/unordered lists, type depends on the type set for
	the &lt;TYPOLIST&gt; tag!), &lt;TYPOHEAD&gt;-tags are converted to
	&lt;Hx&gt; tags where the number is determined by the type-parameter
	set for the &lt;TYPOHEAD&gt;-tag. The align/class-parameter - if set
	- is also preserved. When the HTML-tags are returned to the database
	they need to be reverted to the specific typotags.</FONT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Other
	typotags (non-standard) can be preserved by being converted to a
	&lt;SPAN&gt;-section and back. This must be configured through Page
	TSconfig.</FONT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(Update:
	With &quot;css_styled_content&quot; and the transformation &quot;ts_css&quot;
	only the &lt;link&gt; typotag is left. The &lt;typolist&gt; and
	&lt;typohead&gt; tags are obsolete and regular HTML is used instead)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Allowed
	tags: As not all tags are allowed in the display on the webpage, the
	RTE should also reflect this situation. The greatest problem is
	tables which are (currently) not allowed with the Text-types. The
	reason for this goes back to the philosophy that the field content
	should be human readable and tables are not very 'readable'.</FONT></P>
	<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(Update:
	With &quot;css_styled_content&quot; and the transformation &quot;ts_css&quot;
	tables are allowed)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Constants
	and search words are no problem.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Global
	wrapping does not represent a problem either. But this issue is
	related more closely to the line break-issue in bullet 1.</FONT></P>
</OL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Finally
images inserted are processed very intelligently because the 'magic'
type images are automatically post-processed to the correct size and
proportions after being changed by the RTE in size. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Also
if images are inserted by a copy/paste operation from another
website, the image inserted will be automatically transferred to the
server when saved.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
addition all URLs for images and links are inserted as absolute URLs
and must be converted to relative URLs if they are within the current
domain.</FONT></P>
<H4 CLASS="western">Conclusion:</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">These
actions are done by so called </SPAN><I>transformations</I><SPAN STYLE="font-style: normal">
which are configured in the $TCA. Basically these transformations are
admittedly very customized to the default behavior of the TYPO3
frontend. And they are by nature “fragile” constructions because
the content is transformed forth and back for each interaction
between the RTE and the database and may so be erroneously processed.
However they serve to keep the content stored in the database 'clean'
and human readable so it may continuously be edited by non-RTE
browsers and users. And furthermore it allows us to insert
TYPO3-bulletlists and headers (especially graphical headers) visually
by the editor while still having TYPO3 controlling the output.</SPAN></FONT></P>
<H1 CLASS="western"><A NAME="6.Skinning API|outline"></A></SPAN>Skinning
API</H1>
<H3 CLASS="western"><A NAME="$TBE_STYLES|outline"></A><A NAME="6.0.1.$TBE_STYLES|outline"></A>
$TBE_STYLES</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
you make skins for TYPO3 you basically set up values in the global
array $TBE_STYLES which will make the system use alternative icons,
stylesheets, framewidths etc.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
change values in $TBE_STYLES through an extension, setting the
alternative values in the “ext_tables.php” file of the extension.
For an example, see the extension “skin360”.</FONT></P>
<H4 CLASS="western">$TBE_STYLES API</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
$TBE_STYLES array contains these keys</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
the values are references to files (icons, logoes etc) the path must
be <I>relative</I> to the TYPO3 backend dir. </FONT>
</P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=59*>
	<COL WIDTH=38*>
	<COL WIDTH=159*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=23%>
				<P CLASS="western">Key</P>
			</TH>
			<TH WIDTH=15%>
				<P CLASS="western">Subkeys</P>
			</TH>
			<TH WIDTH=62%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">colorschemes</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[0-x]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western"><I>Related to TCEforms. See other section
				about visual style of TCEforms.</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">styleschemes</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[0-x]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western"><I>Related to TCEforms. See other section
				about visual style of TCEforms.</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">borderschemes</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[0-x]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western"><I>Related to TCEforms. See other section
				about visual style of TCEforms.</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">mainColors</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">bgColor</P>
				<P CLASS="western">bgColor2</P>
				<P CLASS="western">bgColor3</P>
				<P CLASS="western">bgColor4</P>
				<P CLASS="western">bgColor5</P>
				<P CLASS="western">bgColor6</P>
				<P CLASS="western">hoverColor</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Main colorscheme in interface. Notice that
				these colors are redundantly set in the stylesheet and you have
				to keep them in sync. Setting the colors here is still necessary
				but secondary in priority to the stylesheet settings.</P>
				<P CLASS="western">Always use #xxxxxx color definitions!</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Here is a description of the colors.</P>
				<UL>
					<LI><P CLASS="western">bgColor<BR><I>Light page background color</I></P>
					<LI><P CLASS="western">bgColor2<BR><I>Alternative header
					background (steel blue)</I></P>
					<LI><P CLASS="western">bgColor3<BR><I>Color for “documents”
					- concept which is now removed. Anyways, light color)</I></P>
					<LI><P CLASS="western">bgColor4<BR><I>For table content cells
					(light tablerow background, brownish)</I></P>
					<LI><P CLASS="western">bgColor5<BR><I>For table header cells in
					sections (light tablerow background, greenish)</I></P>
					<LI><P CLASS="western">bgColor6<BR><I>For backend module section
					headers (light H2 background, yellowish. Light)</I></P>
				</UL>
				<UL>
					<LI><P CLASS="western">hoverColor<BR><I>Link hover color</I></P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal"><B>Example:</B></P>
				<P CLASS="western" STYLE="font-style: normal; font-weight: normal">
				<BR>
				</P>
				<PRE CLASS="table-contents/pre-western"><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'mainColors'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#EDF4EB'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor2'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#7C8591'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor3'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#E4E8F2'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor4'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#92AA8B'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor5'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#A5B7C1'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor6'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#C7BF81'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'hoverColor'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#800000'</FONT>
);</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">Corresponding stylesheet values:</P>
				<P CLASS="western">Here is an example of the stylesheet values
				corresponding to the “mainColors” values shown above. Notice
				how they share the same name - but with some variations. For
				instance “bgColor-10” and “bgColor-20” is based on
				“bgColor” but darkend approx. 10% and 20%. Such variations
				are available for usage when you want alternating values in a
				listing.</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="western">.bgColor {background-color: #F7F3EF;}
.bgColor-10 {background-color: #ede9e5;}
.bgColor-20 {background-color: #e3dfdb;}
.bgColor2 {background-color: #9BA1A8;}
.bgColor3 {background-color: #F6F2E6;}
.bgColor3-20 {background-color: #e2ded2;}
.bgColor4 {background-color: #D9D5C9;}
.bgColor4-20 {background-color: #c5c1b5;}
.bgColor5 {background-color: #ABBBB4;}
.bgColor6 {background-color: #E7DBA8;}</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">(From file typo3/stylesheet.css)</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">background</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Background image generally in the backend</P>
				<P CLASS="western"><I>Depricated - use the $TBE_STYLES['skinImg']
				feature instead!</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">logo</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Logo in alternative backend, top left: 129x32
				pixels</P>
				<P CLASS="western"><I>Depricated - use the $TBE_STYLES['skinImg']
				feature instead!</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">logo_login</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Login-logo: 333x63 pixels</P>
				<P CLASS="western"><I>Depricated - use the $TBE_STYLES['skinImg']
				feature instead!</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">loginBoxImage_rotationFolder</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Setting login box image rotation folder. From
				this folder images are selected randomly for display in the login
				box.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">stylesheet</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Alternative stylesheet to the default
				&quot;typo3/stylesheet.css&quot; stylesheet.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">stylesheet2</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Additional stylesheet (not used by default). 
				Set BEFORE any in-document styles</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">styleSheetFile_post</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Additional stylesheet. Set AFTER any
				in-document styles</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">inDocStyles_TBEstyle</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">-</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Additional default in-document styles.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">dims</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">leftMenuFrameW</P>
				<P CLASS="western">topFrameH</P>
				<P CLASS="western">shortcutFrameH</P>
				<P CLASS="western">selMenuFrame</P>
				<P CLASS="western">navFrameWidth</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Setting of alternative dimensions of framesets
				in TYPO3:</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Description of subkeys:</P>
				<UL>
					<LI><P CLASS="western">FrameW<BR><I>Left menu frame width</I></P>
					<LI><P CLASS="western">topFrameH<BR><I>Top frame heigth</I></P>
					<LI><P CLASS="western">shortcutFrameH<BR><I>Shortcut frame
					height</I></P>
					<LI><P CLASS="western">selMenuFrame<BR><I>Width of the selector
					box menu frame</I></P>
					<LI><P CLASS="western">navFrameWidth<BR><I>Default navigation
					frame width</I></P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Example:</B></P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western"><FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Alternative dimensions for frameset sizes:</FONT>
<FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'leftMenuFrameW'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">165</FONT><FONT COLOR="#007700">;</FONT>
<FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'topFrameH'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">35</FONT><FONT COLOR="#007700">;</FONT>
<FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'shortcutFrameH'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">35</FONT><FONT COLOR="#007700">;</FONT>
<FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'selMenuFrame'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">180</FONT><FONT COLOR="#007700">;</FONT>
<FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'navFrameWidth'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">350</FONT><FONT COLOR="#007700">;</FONT></PRE><P CLASS="western">
				<BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">scriptIDindex</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[script-id]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">All scripts in TYPO3s backend calculates an
				automatic “script-id”. This id can be found in the HTML
				source:</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western">&lt;html&gt;
&lt;head&gt;
	&lt;!-- TYPO3 Script ID: <SPAN STYLE="font-style: normal"><B>typo3/mod/web/perm/index.php</B></SPAN> --&gt;
...</PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western">With the “scriptIDindex” feature you can
				override <I>any</I> $TBE_STYLES setting on a per-script basis as
				long as you know the script ID.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">An example is in the “skin360” extension
				where the rollover color of the Context Sensitive Menus is
				defined by $TBE_STYLES['mainColors']['bgColor5']. However the
				color should be different from the general “bgColor5”. This
				can be done by the PHP line below - because the script ID
				'typo3/alt_clickmenu.php' simply configures the bgColor5 value
				differently when the alt_clickmenu.php script requests it!</P>
				<P CLASS="western"><BR>
				</P>
				<PRE CLASS="table-contents/pre-western"><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'scriptIDindex'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'typo3/alt_clickmenu.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'mainColors'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'bgColor5'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#dd0000">'#E0E7C7'</FONT><FONT COLOR="#007700">;</FONT></PRE><P CLASS="western">
				<BR>
				</P>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">skinImgAutoCfg</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">absDir</P>
				<P CLASS="western">relDir</P>
				<P CLASS="western">forceFileExtension</P>
				<P CLASS="western">scaleFactor</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Configures automatic detection of alternative
				icons. This works by setting up a directory inside of which TYPO3
				looks to find a file with the same filename as the one requested
				- and if found, the icon is used instead.</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western">absDir<BR><I>Absolute path to the
					directory with the icons (needed so icons can be read by
					getimagesize)</I></P>
					<LI><P CLASS="western">relDir<BR><I>Relative path to the
					directory with the icons (needed for making the &lt;img&gt;
					tag.)</I></P>
					<LI><P CLASS="western">forceFileExtension<BR><I>This can allow
					you to specify an alternative file extension to look for. For
					instance most icons in TYPO3 are gif-files. By setting this
					value to “png” all filenames looked for will be the
					gif-filename body but with a “.png” extension.</I></P>
					<LI><P CLASS="western">scaleFactor<BR><I>Allows you to enter a
					value between 0-1 by which to scale the icons. Thus you can
					size-down all icons from the skin.<BR></I><I><B>Notice:</B></I><I>
					Backend Module icons are not affected by this scaling factor</I></P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western" STYLE="font-style: normal"><B>Example code
				listing:</B></P>
				<PRE CLASS="table-contents/pre-western">
<FONT COLOR="#0000bb">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting up auto detection of alternative icons:</FONT>
<FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'skinImgAutoCfg'</FONT><FONT COLOR="#007700">]=array(</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'absDir'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'icons/'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'relDir'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'icons/'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'forceFileExtension'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'png'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#007700">&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'scaleFactor'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">2</FONT><FONT COLOR="#007700">/</FONT><FONT COLOR="#0000bb">3</FONT><FONT COLOR="#007700">,</FONT>
);
</PRE>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">skinImg</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western">[icon reference]</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Manual configuration of icon alternatives.</P>
				<P CLASS="western">This is needed especially for backend module
				icons since they are not possible to skin with the feature
				“skinImgAutoCfg” which is otherwise recommended instead of
				manual configuration.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">Generally each subkey is a reference to the
				icon, relative to TYPO3 main dir (eg. “gfx/ol/blank.gif”) or
				if from an extension, relative to “ext/[extension key]/”
				folder.</P>
				<P CLASS="western">For modules the key is special. It is prefixed
				“MOD:” and then the module key. For example
				“MOD:web/website.gif” or
				“MOD:web_uphotomarathon/tab_icon.gif”</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">For examples, see code listing below.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=23%>
				<P CLASS="western">border</P>
			</TD>
			<TD WIDTH=15%>
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=62%>
				<P CLASS="western">Path to an alternative HTML file instead of
				the default &quot;typo3/border.html&quot; which is displayed
				between the page tree and the right frame.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Here
is an example code listing for how most of these values can be set up
in a “ext_tables.php” file for an extension:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><FONT COLOR="#000000">   0:</FONT> 
<FONT COLOR="#000000">   1:</FONT> 
<FONT COLOR="#000000">   2:</FONT><FONT COLOR="#007700"> if&nbsp;(</FONT><FONT COLOR="#0000bb">TYPO3_MODE</FONT><FONT COLOR="#007700">==</FONT><FONT COLOR="#dd0000">'BE'</FONT><FONT COLOR="#007700">)&nbsp;&nbsp;&nbsp;&nbsp;{</FONT>
<FONT COLOR="#000000">   3:</FONT> 
<FONT COLOR="#000000">   4:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$presetSkinImgs&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;</FONT><FONT COLOR="#0000bb">is_array</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'skinImg'</FONT><FONT COLOR="#007700">])&nbsp;?&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'skinImg'</FONT><FONT COLOR="#007700">]&nbsp;:&nbsp;array();&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Means, support for other extensions to add own icons...</FONT>
<FONT COLOR="#000000">   5:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;
<FONT COLOR="#000000">   6:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'mainColors'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;Array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#000000">   7:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#EDF4EB'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">   8:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor2'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#7C8591'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">   9:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor3'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#E4E8F2'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">  10:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor4'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#92AA8B'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">  11:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor5'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#A5B7C1'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">  12:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'bgColor6'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#C7BF81'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">  13:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'hoverColor'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'#800000'</FONT>
<FONT COLOR="#000000">  14:</FONT><FONT COLOR="#dd0000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000">  15:</FONT> 
<FONT COLOR="#000000">  16:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting the relative path to the extension in temp. variable:&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
<FONT COLOR="#000000">  17:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$temp_eP&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000">  18:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;
<FONT COLOR="#000000">  19:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting login box image rotation folder:</FONT>
<FONT COLOR="#000000">  20:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'loginBoxImage_rotationFolder'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'loginimages/'</FONT><FONT COLOR="#007700">;</FONT>
<FONT COLOR="#000000">  21:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;
<FONT COLOR="#000000">  22:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting up stylesheets (See template() constructor!)</FONT>
<FONT COLOR="#000000">  23:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'styleSheetFile_post'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'stylesheet_post.css'</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Additional stylesheet. Set AFTER any in-document styles</FONT>
<FONT COLOR="#000000">  24:</FONT> 
<FONT COLOR="#000000">  25:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Alternative dimensions for frameset sizes:
<FONT COLOR="#000000">  26:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'leftMenuFrameW'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">165</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Left menu frame width</FONT>
<FONT COLOR="#000000">  27:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'topFrameH'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">35</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Top frame heigth</FONT>
<FONT COLOR="#000000">  28:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'shortcutFrameH'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">35</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Shortcut frame height</FONT>
<FONT COLOR="#000000">  29:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'selMenuFrame'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">180</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Width of the selector box menu frame</FONT>
<FONT COLOR="#000000">  30:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'dims'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'navFrameWidth'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#0000bb">350</FONT><FONT COLOR="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Default navigation frame width</FONT>
<FONT COLOR="#000000">  31:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;
<FONT COLOR="#000000">  32:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Setting roll-over background color for click menus:
<FONT COLOR="#000000">  33:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Notice, this line uses the the 'scriptIDindex' feature to override another value in this array (namely $TBE_STYLES['mainColors']['bgColor5']), for a specific script &quot;typo3/alt_clickmenu.php&quot;
<FONT COLOR="#000000">  34:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'scriptIDindex'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'typo3/alt_clickmenu.php'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'mainColors'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'bgColor5'</FONT><FONT COLOR="#007700">]=</FONT><FONT COLOR="#dd0000">'#E0E7C7'</FONT><FONT COLOR="#007700">;</FONT>
<FONT COLOR="#000000">  35:</FONT> 
<FONT COLOR="#000000">  36:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Setting up auto detection of alternative icons:</FONT>
<FONT COLOR="#000000">  37:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'skinImgAutoCfg'</FONT><FONT COLOR="#007700">]=array(</FONT>
<FONT COLOR="#000000">  38:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'absDir'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'icons/'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">  39:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'relDir'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$_EXTKEY</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'icons/'</FONT><FONT COLOR="#007700">,</FONT>
<FONT COLOR="#000000">  40:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'forceFileExtension'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;</FONT><FONT COLOR="#dd0000">'png'</FONT><FONT COLOR="#007700">,&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Force to look for PNG alternatives...</FONT>
<FONT COLOR="#000000">  41:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000">  42:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;
<FONT COLOR="#000000">  43:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Manual setting up of alternative icons. This is mainly for module icons which has a special prefix:</FONT>
<FONT COLOR="#000000">  44:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'skinImg'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;</FONT><FONT COLOR="#0000bb">array_merge</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$presetSkinImgs</FONT><FONT COLOR="#007700">,&nbsp;array&nbsp;(</FONT>
<FONT COLOR="#000000">  45:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'gfx/ol/blank.gif'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#dd0000">'clear.gif'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;27&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  46:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<FONT COLOR="#000000">  47:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web/website.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  48:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_layout/layout.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_layout.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  49:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_view/view.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_view.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;23&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  50:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_list/list.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_list.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  51:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_info/info.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_info.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  52:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_perm/perm.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_perms.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  53:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_func/func.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_func.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  54:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_ts/ts1.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_ts.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  55:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:web_modules/modules.gif'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_web_modules.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  56:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:file/file.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_file.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  57:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:file_list/list.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_file_list.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  58:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:file_images/images.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_file_images.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  59:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:doc/document.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_doc.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  60:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:user/user.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_user.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  61:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:user_task/task.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_user_taskcenter.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  62:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:user_setup/setup.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_user_setup.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  63:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools/tool.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;25&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  64:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_beuser/beuser.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_user.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  65:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_em/em.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_em.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  66:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_dbint/db.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_dbint.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;25&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  67:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_config/config.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_config.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  68:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_install/install.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_install.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  69:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_log/log.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_log.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  70:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_txphpmyadmin/thirdparty_db.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_phpmyadmin.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  71:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:tools_isearch/isearch.gif'&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_tools_isearch.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  72:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:help/help.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_help.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;23&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  73:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:help_about/info.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_help_about.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;25&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  74:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#dd0000">'MOD:help_aboutmodules/aboutmodules.gif'&nbsp;&nbsp;</FONT><FONT COLOR="#007700">=&gt;&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/module_help_aboutmodules.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">),</FONT>
<FONT COLOR="#000000">  75:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;));
<FONT COLOR="#000000">  76:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<FONT COLOR="#000000">  77:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Adding icon for photomarathon extensions' backend module, if enabled:</FONT>
<FONT COLOR="#000000">  78:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">if&nbsp;(</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isloaded</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'user_photomarathon'</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT>
<FONT COLOR="#000000">  79:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'skinImg'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'MOD:web_uphotomarathon/tab_icon.gif'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/ext/user_photomarathon/tab_icon.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000">  80:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}
<FONT COLOR="#000000">  81:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#ff8000">// Adding icon for templavoila extensions' backend module, if enabled:</FONT>
<FONT COLOR="#000000">  82:</FONT><FONT COLOR="#ff8000"> &nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#007700">if&nbsp;(</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">isloaded</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'templavoila'</FONT><FONT COLOR="#007700">))&nbsp;&nbsp;&nbsp;&nbsp;{</FONT>
<FONT COLOR="#000000">  83:</FONT><FONT COLOR="#007700"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT COLOR="#0000bb">$TBE_STYLES</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'skinImg'</FONT><FONT COLOR="#007700">][</FONT><FONT COLOR="#dd0000">'MOD:web_txtemplavoilaM1/moduleicon.gif'</FONT><FONT COLOR="#007700">]&nbsp;=&nbsp;array(</FONT><FONT COLOR="#0000bb">$temp_eP</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#dd0000">'icons/ext/templavoila/mod1/moduleicon.png'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;24&quot; height=&quot;24&quot;'</FONT><FONT COLOR="#007700">);</FONT>
<FONT COLOR="#000000">  84:</FONT> &nbsp;&nbsp;&nbsp;&nbsp;}
<FONT COLOR="#000000">  85:</FONT> }
</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice
the last lines from 77-84; they configures alternative icons two
extensions, “user_photomarathon” (see testsite package) and
“templavoila”. Thus the skin can include skinning information for
other extensions.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
talking about skinning across extensions another way of making sure
that a skin also includes other extensions is shown in line 4 where
any values set in $TBE_STYLES['skinImg'] prior to this extension is
preserved. Thus other extensions can also autonomously provide
support for popular skins by themselves!</FONT></P>
<H3 CLASS="western"><A NAME="6.0.2.Directory structure for “skinImgAutoCfg” feature|outline"></A>
Directory structure for “skinImgAutoCfg” feature</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the example above the directory “icons/” inside the extension is
configured to contain the alternative icons which are automatically
detected. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Inside
of this directory the structure must reflect the <I>icon reference</I>
of the “skinImg” feature which would have otherwise addressed the
icon.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Looking
at this screenshot makes it easy to understand. If you want to skin
the icon “gfx/closedok.gif” then just put a file with the <I>same</I>
name (possible as “png” if “forceFileExtension” was set to
“png”) in the folder “icons/gfx/”.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you have an extension, say, “sys_action” and wants to skin the
Action database record icon (sys_action.gif) simply put an
alternative file for “sys_action.gif” into the folder
“ext/sys_action/”</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_1a4c2c90.png" NAME="Graphic21" ALIGN=LEFT WIDTH=240 HEIGHT=296 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you look in the “icons” folder of the “skin360” extension you
can also see that all the module icons are located there - but notice
that they are <I>manually</I> referenced in the “skinImg” key!</FONT></P>
<H3 CLASS="western"><A NAME="6.0.3.How to make your extensions compatible with skinning|outline"></A>
How to make your extensions compatible with skinning</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Basically,
your extensions backend modules will be skinnable by TYPO3 as long as
you use the template class to create output. This is the case in
well-made extensions so by default you should expect no problems.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">However
your usage of <I>icons </I>is another story. Here you have to pass
all icon filenames and sizes to a function,
t3lib_iconWorks::skinImg(), which will either return the input value
<I>or</I> any alternative values should an alternative icon have been
configured by a skin extension.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">There
are two types of icons you can encounter:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Database
	record icons</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Any
	other icon for your interfaces.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Database
record icons are not a problem. For a long time the consensus has
been that if you want to create an icon for a database record you do
like this:</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#0000bb">$iconImg&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;</FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">getIconImage</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'sys_note'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$row</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#dd0000">' title=&quot;This is my icon&quot;'</FONT><FONT COLOR="#007700">);</FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">As long as you keep using the
t3lib_iconWorks::getIconImage() function the icons will be skinned.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Any
other icon you might use - either from inside the extension or eg.
typo3/gfx/ - should now be created like this:</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$iconImg&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;img'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">skinImg</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#dd0000">'gfx/edit2.gif'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">'width=&quot;11&quot; height=&quot;12&quot;'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' title=&quot;My Icon&quot; alt=&quot;&quot; /&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This is contrary to the non-skinned state which
would look like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$iconImg&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;img src=&quot;gfx/edit2.gif&quot; width=&quot;11&quot; height=&quot;12&quot; title=&quot;My Icon&quot; alt=&quot;&quot; /&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">So as you can see it is the src, width and
height attributes which are affected!</FONT></P>
<H4 CLASS="western">Skinning support for local extension icons</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you want to add skinning support for icons found inside the extension
itself, then use this method:</FONT></P>
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT COLOR="#000000"><FONT COLOR="#0000bb">$iconImg&nbsp;</FONT><FONT COLOR="#007700">=&nbsp;</FONT><FONT COLOR="#dd0000">'&lt;img'</FONT><FONT COLOR="#007700">.</FONT><FONT COLOR="#0000bb">t3lib_iconWorks</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">skinImg</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#0000bb">$GLOBALS</FONT><FONT COLOR="#007700">[</FONT><FONT COLOR="#dd0000">'BACK_PATH'</FONT><FONT COLOR="#007700">],</FONT><FONT COLOR="#0000bb">t3lib_extMgm</FONT><FONT COLOR="#007700">::</FONT><FONT COLOR="#0000bb">extRelPath</FONT><FONT COLOR="#007700">(</FONT><FONT COLOR="#dd0000">'templavoila'</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">'mod1/greenled.gif'</FONT><FONT COLOR="#007700">,</FONT><FONT COLOR="#dd0000">''</FONT><FONT COLOR="#007700">).</FONT><FONT COLOR="#dd0000">' title=&quot;Rule applies&quot; border=&quot;0&quot; alt=&quot;&quot; align=&quot;absmiddle&quot; /&gt;'</FONT><FONT COLOR="#007700">;</FONT></FONT></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The main thing to notice is that the relative
path to the extension is prefixed the icon name: </FONT>
</P>
<PRE CLASS="western">t3lib_extMgm::extRelPath('templavoila').'mod1/greenled.gif'</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H3 CLASS="western"><A NAME="6.0.4.Finding CSS selectors for the backend documents|outline"></A>
Finding CSS selectors for the backend documents</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the process of skinning TYPO3 with CSS styles you should proceed from
general to specific. This means</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">First,
	create styles for main elements like BODY, H2, H3, P, PRE, INPUT
	etc. making the interface look as you want in <I>general</I>.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Secondly,
	create specific style rules for specific scripts as needed.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you look inside “typo3/stylesheet.css” you will see that this is
the way that stylesheet proceeds. In fact it might not be so bad an
idea to take this stylesheet as an example for your own! In that case
you can either choose to totally substitute the default stylesheet,
“typo3/stylesheet.css”, with a new one (by
$TBE_STYLES['stylesheet']) or simply create an additional stylesheet
(set up by $TBE_STYLES['styleSheetFile_post']) which will be included
as the last one - and in this stylesheet you override any of the
previous rules you want to change (recommended method).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Addressing specific elements in the backend</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Lets
say you want to specifically style the two elements shown in this
image:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m4b1522db.png" NAME="Graphic22" ALIGN=LEFT WIDTH=449 HEIGHT=275 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">#1
	should be blueish in the background</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">#2
	should have a dotted border around</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">What
you do is this:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Right-click
	the frame, select “Show HTML source” or whatever your browser
	allows you.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Paste
	the HTML source of the script into the tool “CSS analyzer” found
	in the extension “extdeveval” - this will analyse the hierarchy
	of CSS selectors.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Find
	your selector, write CSS rules!</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
this screenshot you can see how I have pasted the HTML source of the
script into the tool mentioned and in return I get a nice overview of
the CSS selectors inside:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m5924d968.gif" NAME="Graphic23" ALIGN=LEFT WIDTH=669 HEIGHT=729 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
less than 10 seconds this has allowed me to spot that the exact
address of the header cell is “BODY#typo3-db-list-php
TABLE.typo3-dblist TR TD.c-headLineTable” and I can now add to my
stylesheet:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western">BODY#typo3-db-list-php TABLE.typo3-dblist TR TD.c-headLineTable { 
	background-color: #ccccff; 
}</PRE><P CLASS="western">
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Likewise
I could easily find that the two selector boxes were encapsulated in
a DIV section which I could address like this:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western">BODY#typo3-db-list-php DIV#typo3-listOptions {
	border: dotted 1px #999999;
}</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
result was:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_fe58eaa.png" NAME="Graphic24" ALIGN=LEFT WIDTH=515 HEIGHT=291 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Now,
as you can see the selector contained “BODY#typo3-db-list-php”
which is a specific address to the Web &gt; List module (using its
script ID!). If I wanted my styles to be more general so also the
File &gt; Filelist module would affected, then I could (in this case)
remove the BODY#... part:</FONT></P>
<PRE CLASS="western">DIV#typo3-listOptions {
	border: dotted 1px #999999;
}</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_702ad3bf.png" NAME="Graphic25" ALIGN=LEFT WIDTH=447 HEIGHT=199 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H3 CLASS="western"><A NAME="6.0.5.Skinning database record icons with variations|outline"></A>
Skinning database record icons with variations</H3>
<H4 CLASS="western">Introduction</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Database
records in TYPO3 has and icon associated which can be shown in the
interface. But the icon might change according to internal settings
in the record; other icons might be used as alternatives to the
default and for each possible icon certain “states” might reflect
on how the icon look. For instance, if a record has the “hidden”
flag set, the icon should be gray with a red cross over in order to
reflect this state visually.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Until
version 3.6.0 TYPO3 has automatically calculated new versions of
database icons when needed by the system. Thus you needed to supply
only one icon - all variations would be automatically generated and
stored in typo3temp/. However this auto generation depended on GDlib
with gif-support and that has been a well known problem for many
years since not everyone has access to these features.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
TYPO3 3.6.0 the automatic generation is disabled (can be enabled by
setting $TYPO3_CONF_VARS['GFX']['noIconProc']=0) and instead most
icons have their most used states shipped along pre-rendered instead.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
solution not only solves the last mandatory dependency on GDlib for
TYPO3 but also provides a way for skinning of various icon states -
since skinned icons would be too hard to do processing for!</FONT></P>
<H4 CLASS="western">Pre-rendered icon states</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
number of variations for an icon of a database record depends on
configuration in $TCA. The most easy way to get an overview of the
icons you would need to produce as variations is to use the tool
“Table Icon Listing” in the “extdeveval” extension. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is an example of how that tool shows the icons for “Backend Users”
and their variations:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m6fb58cdf.png" NAME="Graphic26" ALIGN=LEFT WIDTH=669 HEIGHT=375 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Notice,
the default icon is “gfx/i/be_users.gif” </FONT>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
	the hidden flag is set, the icon name is “be_users__h.gif”</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
	the starttime is set, the icon name is “be_users__t.gif”</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
	both starttime and hidden flag is set, the icon name is
	“be_users__ht.gif”</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
	an icon carries a state that is not found, then show
	“be_users__x.gif” (default icon for a state that does not have
	an icon. If this icon is not set a generalized default icon is
	shown; thus a record with a special state will never be shown just
	plain!)</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
an extension like “mininews” we can perform the same analysis:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m7d74f8b1.png" NAME="Graphic27" ALIGN=LEFT WIDTH=423 HEIGHT=306 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Again,
notice how the variations over “icon_tx_mininews_news.gif” is
prefixed with “flags” like “__h” and “__x”</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
we enable more of the render options we might eventually hit a
combination of options which is <I>not </I>found pre-rendered though:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m1537015b.png" NAME="Graphic28" ALIGN=LEFT WIDTH=470 HEIGHT=298 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">As
you can see the “endtime” flag has no icon associated with it. </FONT>
</P>
<H4 CLASS="western">Automatic creation of pre-made variations</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
order to create variations for inclusion in your extensions (for the
default icon) you can enable the rendering of icons if you like (in
localconf.php):</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western">$TYPO3_CONF_VARS['GFX']['noIconProc']=0;</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Then
you reload the “Table Icon Listing” and the icons are generated
in typo3temp/:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_7a7faab1.png" NAME="Graphic29" ALIGN=LEFT WIDTH=526 HEIGHT=129 BORDER=0><BR CLEAR=LEFT><FONT COLOR="#000000">If
you want the new icons to be included in the extension you simply </FONT>
</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Move
	them from typo3temp/ into the extension folder (here
	“typo3conf/ext/mininews/”)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Rename
	them to the expected names, eg.
	“icon_fb7ee72ecd_icon_tx_mininews_news__f.gif.gif” to
	“icon_tx_mininews_news__f.gif” (remember to also remove the
	“double-gif” in the extension!)</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">And
after another reload you will be assured that the icon is found
correctly:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m9b31548.png" NAME="Graphic30" ALIGN=LEFT WIDTH=537 HEIGHT=131 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(<B>Tip
for code hackers:</B> Inside
“ext/extdeveval/mod1/class.tx_extdeveval_iconlister.php there is a
line with a function call, “$this-&gt;renameIconsInTypo3Temp();”
which is commented out - if you uncomment this function call it will
rename icons made in typo3temp/ to filenames that can be copied
directly into the extension you are making. Basically this removes
“icon_fb7ee....” from the temporary file!)</FONT></P>
<H4 CLASS="western">Limits to number of pre-made icons</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Since
the number of combinations can be staggering you might often have to
settle for a compromise where you define which states are the most
likely to occur and then give those priority when you create
variations - otherwise you might have to make hundreds of icons!</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Thus
you can find that the pages table does not have pre-made icons for
all “Module” icons. Only the “hidden” state has been
considered general enough to allow for a pre-made icon - enabling
starttime results in a “no_icon_found.gif” version as you can see
below:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_56745bf7.png" NAME="Graphic31" ALIGN=LEFT WIDTH=377 HEIGHT=436 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H1 CLASS="western"><A NAME="7.Data Formats|outline"></A></SPAN>Data
Formats</H1>
<H2 CLASS="western"><A NAME="7.1.&lt;T3DataStructure&gt;|outline"></A>
&lt;T3DataStructure&gt;</H2>
<H3 CLASS="western"><A NAME="7.1.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TYPO3
offers an XML format, T3DataStructure, which defines a hierarchical
data structure. In itself the data structure definition does do much
- it is only a back bone for higher level applications which can add
their own configuration inside.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Such
applications can be:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“FlexForms”
	- a TCEform type which will allow users to build information
	hierarchies (in XML) according to the Data Structure. In this sense
	the Data Structure is like a DTD for the backend which can render a
	dynamic form based on the Data Structure</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“TemplaVoila”
	- an extension which uses the Data Structure as backbone for mapping
	template HTML to data.</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
documentation of a data structure will document the general aspects
of the XML format and leave the details about FlexForms and
TemplaVoila to be documented elsewhere.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Some
other facts about Data Structures (DS):</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
	Data Structure is defined in XML with the document tag named
	“&lt;T3DataStructure&gt;”</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
	XML format generally complies with what can be converted into a PHP
	array by t3lib_div::xml2array() - thus it directly reflects how a
	multidimensional PHP array is constructed.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
	Data Structure can be arranged in a set of “sheets”. The purpose
	of sheets will depend on the application. Basically sheets are like
	a one-dimensional internal categorization of Data Structures.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Parsing
	a Data Structure into a PHP array is incredibly easy - just pass it
	to t3lib_div::xml2array() (see example below)</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">“DS”
	is sometimes used as short for Data Structure</FONT></P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="7.1.2.Elements|outline"></A>Elements</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the elements and their nesting in the Data Structure. This could
probably be expressed by a DTD or XML schema (anyone?). In this case
I will just express it by an explanation of words.</FONT></P>
<H4 CLASS="western">Elements nesting other elements (“Array”
elements):</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
elements defined here cannot contain any string value but <I>must</I>
contain another set of elements.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(In
a PHP array this corresponds to saying that all these elements must
be arrays.)</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=161*>
	<COL WIDTH=44*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=63%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Child elements</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;T3DataStructure&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Document tag</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&lt;meta&gt;</P>
				<P CLASS="western">&lt;ROOT&gt; <I>or</I> &lt;sheets&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;meta&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Can contain application specific meta settings</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;ROOT&gt;</P>
				<P CLASS="western">&lt;[field name]&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Defines an “object” in the Data Structure</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western">&lt;ROOT&gt; is reserved as tag for the
					first element in the Data Structure.<BR>The &lt;ROOT&gt; element
					must have a &lt;type&gt; tag with the value “array” and then
					define other objects nested in &lt;el&gt; tags.</P>
				</UL>
				<UL>
					<LI><P CLASS="western">[field name] defines the objects name</P>
				</UL>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&lt;type&gt;</P>
				<P CLASS="western">&lt;section&gt;</P>
				<P CLASS="western">&lt;el&gt;</P>
				<P CLASS="western">&lt;[application tag]&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;sheets&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Defines a collection of “sheets” which is
				like a one-dimensional list of independent Data Structures</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&lt;[sheet name]&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;TCEforms&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Contains details about visual representation
				of sheets. If there is only a single sheet, applies to implicit
				single sheet.</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&lt;sheetTitle&gt; &lt;cshFile&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;sheetTitle&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Title of the sheet. Mandatory for any sheet
				except the first (which gets &quot;General&quot; in this case).
				Can be a plain string or a reference to language file using
				standard LLL syntax. Ignored if sheets are not defined for the
				flexform.</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;cshFile&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">CSH language file for fields inside the
				flexform. Refer to section on T3locallang of this document on the
				format of language files and to section Content Sensitive Help of
				&quot;Inside TYPO3&quot; document for information about CSH.</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;[sheet ident]&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Defines an independent data structure starting
				with a &lt;ROOT&gt; tag.</P>
				<P CLASS="western"><B>Notice:</B> Alternatively it can be a plain
				value referring to another XML file which contains the &lt;ROOT&gt;
				structure. See example below.</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&lt;ROOT&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;el&gt;</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Contains a collection of Data Structure
				“objects”</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">&lt;[field name]&gt;</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Elements containing values (“Value”
elements):</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
elements defined here must contain a string value and no other XML
tags whatsoever! </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(In
a PHP array this corresponds to saying that all these elements must
be strings or integers.)</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=43*>
	<COL WIDTH=161*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=17%>
				<P CLASS="western">Format</P>
			</TH>
			<TH WIDTH=63%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;type&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">Keyword string:</P>
				<P CLASS="western">“array”, [blank] (=default)</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Defines the type of object. 
				</P>
				<UL>
					<LI><P CLASS="western">“array” means that the object simply
					contains a collection of other objects defined inside the &lt;el&gt;
					tag on the same level<BR>If the value is “array” you can use
					the boolean “&lt;section&gt;”. See below.</P>
					<LI><P CLASS="western">Default value means that the object does
					not contain sub objects. The meaning of such an object is
					determined by the application using the data structure. For
					FlexForms this object would draw a form element.</P>
				</UL>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice:</B> If the object was &lt;ROOT&gt;
				this tag must have the value “array”</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;section&gt;</P>
			</TD>
			<TD WIDTH=17%>
				<P CLASS="western">Boolean, 0/1</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Defines for an object of the type &lt;array&gt;
				that it must contain other “array” type objects. The meaning
				of this is application specific; For FlexForms it will allow the
				user to select between possible arrays of objects to create in
				the form. For TemplaVoila it will select a “container”
				element for another set of elements inside. This is quite fuzzy
				unless you understand the contexts.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">Example: FlexForm configuration in “mininews”
extension</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Simple
example of a data structure used to define a FlexForm element in
TCEforms. Notice the application specific section &lt;TCEforms&gt;
(see documentation for FlexForms).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
        <FONT COLOR="#800080"><B>&lt;meta&gt;</B></FONT>
                <FONT COLOR="#000080">&lt;langDisable&gt;</FONT>1<FONT COLOR="#000080">&lt;/langDisable&gt;</FONT>
        <FONT COLOR="#800080"><B>&lt;/meta&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
    <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;field_templateObject&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:mininews/locallang_db.php:tt_content.pi_flexform.select_template<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>

                        <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>select<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;items&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;numIndex index=”0”&gt;</I></FONT>
                                                <FONT COLOR="#c29336"><I>&lt;numIndex index=”0”&gt;&lt;/numIndex&gt;</I></FONT>
                                                <FONT COLOR="#c29336"><I>&lt;numIndex index=”1”&gt;</I></FONT>0<FONT COLOR="#c29336"><I>&lt;/numIndex&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;/numIndex&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/items&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;foreign_table&gt;</I></FONT>tx_templavoila_tmplobj<FONT COLOR="#c29336"><I>&lt;/foreign_table&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;foreign_table_where&gt;</I></FONT>
                                        AND tx_templavoila_tmplobj.pid=###STORAGE_PID### 
                                        AND tx_templavoila_tmplobj.datastructure=&quot;EXT:mininews/template_datastructure.xml&quot; 
                                        AND tx_templavoila_tmplobj.parent=0 
                                        ORDER BY tx_templavoila_tmplobj.title
                                <FONT COLOR="#c29336"><I>&lt;/foreign_table_where&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;size&gt;</I></FONT>1<FONT COLOR="#c29336"><I>&lt;/size&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;minitems&gt;</I></FONT>0<FONT COLOR="#c29336"><I>&lt;/minitems&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;maxitems&gt;</I></FONT>1<FONT COLOR="#c29336"><I>&lt;/maxitems&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;/field_templateObject&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H5 CLASS="western">Example #2</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">More
complex example of a FlexForms structure, using two sheets, “sDEF”
and “s_welcome” (snippet from “newloginbox” extension).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
  <FONT COLOR="#008000"><B>&lt;sheets&gt;</B></FONT>
        <FONT COLOR="#008000">&lt;sDEF&gt;</FONT>
          <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;sheetTitle&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.sheet_general<FONT COLOR="#c29336"><I>&lt;/sheetTitle&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
            <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
            <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;show_forgot_password&gt;</B></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                                <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.show_forgot_password<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>check<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;/show_forgot_password&gt;</B></FONT>
            <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
          <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
    <FONT COLOR="#008000">&lt;/sDEF&gt;</FONT>
    <FONT COLOR="#008000">&lt;s_welcome&gt;</FONT>
          <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;sheetTitle&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.sheet_welcome<FONT COLOR="#c29336"><I>&lt;/sheetTitle&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
            <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
            <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;header&gt;</B></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                                <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.header<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>input<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;size&gt;</I></FONT>30<FONT COLOR="#c29336"><I>&lt;/size&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;/header&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;message&gt;</B></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                                <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.message<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>text<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;cols&gt;</I></FONT>30<FONT COLOR="#c29336"><I>&lt;/cols&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;rows&gt;</I></FONT>5<FONT COLOR="#c29336"><I>&lt;/rows&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
              <FONT COLOR="#008080"><B>&lt;/message&gt;</B></FONT>                  
            <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
          <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
    <FONT COLOR="#008000">&lt;/s_welcome&gt;</FONT>
  <FONT COLOR="#008000"><B>&lt;/sheets&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H3 CLASS="western"><A NAME="7.1.3.Sheet references|outline"></A>Sheet
references</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
Data Structures are arranged in a collection of sheets you can choose
to store one or more sheets externally in separate files. This is
done by setting the value of the &lt;[sheet ident]&gt; tag to a
relative file reference instead of being a definition of the &lt;ROOT&gt;
element.</FONT></P>
<H5 CLASS="western">Example</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Taking
the Data Structure from Example #2 above we can now rearrange it in
three files:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">Main
Data Structure:</FONT></P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
  <FONT COLOR="#008000"><B>&lt;sheets&gt;</B></FONT>
        <FONT COLOR="#008000">&lt;sDEF&gt;</FONT>fileadmin/sheets/default_sheet.xml<FONT COLOR="#008000">&lt;/sDEF&gt;</FONT>
    <FONT COLOR="#008000">&lt;s_welcome&gt;</FONT>fileadmin/sheets/welcome_sheet.xml<FONT COLOR="#008000">&lt;/s_welcome&gt;</FONT>
  <FONT COLOR="#008000"><B>&lt;/sheets&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">fileadmin/sheets/default_sheet.xml</FONT></P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
  <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                <FONT COLOR="#c29336"><I>&lt;sheetTitle&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.sheet_general<FONT COLOR="#c29336"><I>&lt;/sheetTitle&gt;</I></FONT>
        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
    <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;show_forgot_password&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.show_forgot_password<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>check<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;/show_forgot_password&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">fileadmin/sheets/welcome_sheet.xml</FONT></P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
  <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
        <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                <FONT COLOR="#c29336"><I>&lt;sheetTitle&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.sheet_welcome<FONT COLOR="#c29336"><I>&lt;/sheetTitle&gt;</I></FONT>
        <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
    <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;header&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.header<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>input<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;size&gt;</I></FONT>30<FONT COLOR="#c29336"><I>&lt;/size&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;/header&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;message&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:newloginbox/locallang_db.php:tt_content.pi_flexform.message<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>text<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;cols&gt;</I></FONT>30<FONT COLOR="#c29336"><I>&lt;/cols&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;rows&gt;</I></FONT>5<FONT COLOR="#c29336"><I>&lt;/rows&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;/message&gt;</B></FONT>                  
    <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<H3 CLASS="western"><A NAME="7.1.4.Syntax highlighting of a Data Structures|outline"></A>
Syntax highlighting of a Data Structures</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can syntax highlight a data structure using the extension
“extdeveval” and the code highlighter. Just copy the DS XML
content into the form:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_6cc83266.png" NAME="Graphic32" ALIGN=LEFT WIDTH=418 HEIGHT=453 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H3 CLASS="western"><A NAME="7.1.5.Parsing a Data Structure|outline"></A>
Parsing a Data Structure</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">You
can convert a Data Structure XML document into a PHP array by the
function t3lib_div::xml2array(). Taking the simple DS above:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
        <FONT COLOR="#800080"><B>&lt;meta&gt;</B></FONT>
                <FONT COLOR="#000080">&lt;langDisable&gt;</FONT>1<FONT COLOR="#000080">&lt;/langDisable&gt;</FONT>
        <FONT COLOR="#800080"><B>&lt;/meta&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;ROOT&gt;</B></FONT>
    <FONT COLOR="#000080"><B>&lt;type&gt;</B></FONT>array<FONT COLOR="#000080"><B>&lt;/type&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;el&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;field_templateObject&gt;</B></FONT>
                <FONT COLOR="#ff6600"><B>&lt;TCEforms&gt;</B></FONT>
                        <FONT COLOR="#c29336"><I>&lt;label&gt;</I></FONT>LLL:EXT:mininews/locallang_db.php:tt_content.pi_flexform.select_template<FONT COLOR="#c29336"><I>&lt;/label&gt;</I></FONT>

                        <FONT COLOR="#c29336"><I>&lt;config&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;type&gt;</I></FONT>select<FONT COLOR="#c29336"><I>&lt;/type&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;items&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;numIndex index=”0”&gt;</I></FONT>
                                                <FONT COLOR="#c29336"><I>&lt;numIndex index=”0”&gt;&lt;/numIndex&gt;</I></FONT>
                                                <FONT COLOR="#c29336"><I>&lt;numIndex index=”1”&gt;</I></FONT>0<FONT COLOR="#c29336"><I>&lt;/numIndex&gt;</I></FONT>
                                        <FONT COLOR="#c29336"><I>&lt;/numIndex&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;/items&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;foreign_table&gt;</I></FONT>tx_templavoila_tmplobj<FONT COLOR="#c29336"><I>&lt;/foreign_table&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;foreign_table_where&gt;</I></FONT>
                                        AND tx_templavoila_tmplobj.pid=###STORAGE_PID### 
                                        AND tx_templavoila_tmplobj.datastructure=&quot;EXT:mininews/template_datastructure.xml&quot; 
                                        AND tx_templavoila_tmplobj.parent=0 
                                        ORDER BY tx_templavoila_tmplobj.title
                                <FONT COLOR="#c29336"><I>&lt;/foreign_table_where&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;size&gt;</I></FONT>1<FONT COLOR="#c29336"><I>&lt;/size&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;minitems&gt;</I></FONT>0<FONT COLOR="#c29336"><I>&lt;/minitems&gt;</I></FONT>
                                <FONT COLOR="#c29336"><I>&lt;maxitems&gt;</I></FONT>1<FONT COLOR="#c29336"><I>&lt;/maxitems&gt;</I></FONT>
                        <FONT COLOR="#c29336"><I>&lt;/config&gt;</I></FONT>
                <FONT COLOR="#ff6600"><B>&lt;/TCEforms&gt;</B></FONT>
      <FONT COLOR="#008080"><B>&lt;/field_templateObject&gt;</B></FONT>
    <FONT COLOR="#800000"><B>&lt;/el&gt;</B></FONT>
  <FONT COLOR="#008080"><B>&lt;/ROOT&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">Passing this to the xml2array function and you
will get an array like this (screen shot from “extdeveval”):</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_78864c71.png" NAME="Graphic33" ALIGN=LEFT WIDTH=669 HEIGHT=235 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">As
you can see the format of the XML generated by t3lib_div::array2xml()
is designed to reflect the array structures PHP can contain and thus
the transformation to and from XML with the functions
t3lib_div::array2xml() and t3lib_div::xml2array() is very easy and
quick.</FONT></P>
<H4 CLASS="western">API functions for sheets</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">If
you have a DS with sheets inside you might need to resolve the
references:</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western"><B>&lt;T3DataStructure&gt;</B>
  <FONT COLOR="#008000"><B>&lt;sheets&gt;</B></FONT>
        <FONT COLOR="#008000">&lt;sDEF&gt;</FONT>fileadmin/sheets/default_sheet.xml<FONT COLOR="#008000">&lt;/sDEF&gt;</FONT>
    <FONT COLOR="#008000">&lt;s_welcome&gt;</FONT>fileadmin/sheets/welcome_sheet.xml<FONT COLOR="#008000">&lt;/s_welcome&gt;</FONT>
  <FONT COLOR="#008000"><B>&lt;/sheets&gt;</B></FONT>
<B>&lt;/T3DataStructure&gt;</B></PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">This is done by
t3lib_div::resolveSheetDefInDS() or
t3lib_div::resolveAllSheetsInDS(). In fact, even if you don't have
sheets in your file but just want to stay compatible with DS XML <I>with</I>
sheets you should use this function. For instance these function
calls will parse the DS into an array (screen shot above) and resolve
the sheet definition, in this case creating a default sheet “sDEF”
(screen shot below):</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<PRE CLASS="western">	$treeDat = t3lib_div::xml2array($inputCode);
	$treeDat = t3lib_div::resolveAllSheetsInDS($treeDat);</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<BR><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><IMG SRC="12_html_m5ecc4574.png" NAME="Graphic34" ALIGN=LEFT WIDTH=669 HEIGHT=235 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H3 CLASS="western"><A NAME="7.1.6.Applications|outline"></A>Applications</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">For
a more practical understanding of Data Structures you should study
some of the applications of Data Structures:</FONT></P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">FlexForms
	- using Data Structures as a “DTD” for rendering a hierarchical
	editing form which saves the content back into XML</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">TemplaVoila
	- using Data Structures for mapping content to HTML template files.</FONT></P>
</UL>
<H2 CLASS="western"><A NAME="7.2.&lt;T3locallang&gt;|outline"></A>&lt;T3locallang&gt;</H2>
<H3 CLASS="western"><A NAME="7.2.1.Introduction|outline"></A>Introduction</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
XML format is used for &quot;locallang-XML&quot; (llXML) files, a
format TYPO3 uses for storage of interface labels and translations of
them. The format is parsed by t3lib_div::xml2array() which means that
tag-names and &quot;index&quot; attribute values are inter-related in
significance. The content is always in utf-8.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">llXML
files must be used from inside extension directories
(system/global/local).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">See
<A HREF="#%22locallang%22%20files%7Coutline">&quot;Inside TYPO3&quot;
for more details about locallang-files</A> and the application of
this format.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">llXML
files from installed extensions are translated by a backend tool
(extension &quot;llxmltranslate&quot;).</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">A
&quot;locallang-XML&quot; file contains a set of labels in the
default language (must always English!). The translated labels are
located in systematically named external files in
typo3conf/l10n/[language key]/. Optionally the main files can contain
the translations directly but that should only be used in special
cases since it constrains the translation process too much. It is
also possible with a specific file reference to use other external
files than the automated ones.</FONT></P>
<H3 CLASS="western"><A NAME="7.2.2.Elements|outline"></A>Elements</H3>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
is the elements and their nesting in the locallang-XML format. </FONT>
</P>
<H4 CLASS="western">Elements nesting other elements (“Array”
elements):</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
elements defined here cannot contain any string value but <I>must</I>
contain another set of elements.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(In
a PHP array this corresponds to saying that all these elements must
be arrays.)</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=157*>
	<COL WIDTH=48*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=61%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=19%>
				<P CLASS="western">Child elements</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;T3locallang&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Document tag</P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;meta&gt;</P>
				<P CLASS="western">&lt;data&gt;</P>
				<P CLASS="western">&lt;orig_hash&gt;</P>
				<P CLASS="western">&lt;orig_text&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;meta&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Contains meta data about the locallang-XML
				file. Used in translation, but not inside TYPO3 directly.</P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;labelContext&gt;</P>
				<P CLASS="western">&lt;description&gt;</P>
				<P CLASS="western">&lt;type&gt;</P>
				<P CLASS="western">&lt;csh_table&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;data&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Contains the data for translations</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Notice: </B>The contents in the &lt;data&gt;
				tag is <I>all that is needed for labels inside TYPO3</I>.
				Everything else is meta information for the translation tool!</P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;languageKey&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;orig_hash&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Contains hash-integers for each translated
				label of the default label at the point of translation. This is
				used to determine if the default label has changed since the
				translation was made.</P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;languageKey&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;orig_text&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Contains the text of the default label that
				was the basis of the translated version! The original text is
				used to show a diff between the original base of the translation
				and the new default text so a translator can quickly see what has
				changed.</P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;languageKey&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;languageKey&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Array of labels for a language. The &quot;index&quot;
				attribute contains language key.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">There are two cases in the context “&lt;data&gt;”
				to note:</P>
				<UL>
					<LI><P CLASS="western">index = “default”: Array of default
					labels.</P>
					<LI><P CLASS="western">index = [language key] : 
					</P>
					<UL>
						<LI><P CLASS="western">If string: Pointer to external file
						containing translation, eg.
						“EXT:csh_dk/lang/dk.locallang_csh_web_info.xml”</P>
						<LI><P CLASS="western">If array: Translations inline in main
						file (deprecated)</P>
						<LI><P CLASS="western">[If not existing, <I><SPAN STYLE="font-weight: normal">recommended</SPAN></I>]:
						Translations in external default file typo3conf/l10n/</P>
					</UL>
				</UL>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;label&gt;</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><I>Alternatively, when used under &lt;data&gt;
				it can be a string pointing to an external &quot;include file&quot;!</I></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;labelContext&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Array of context descriptions of the default
				labels.</P>
				<P CLASS="western">The &quot;index&quot; attribute contains label
				key</P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;label&gt;</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">Elements containing values (“Value”
elements):</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
elements defined here must contain a string value and no other XML
tags whatsoever! </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">All
values are in utf-8.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">(In
a PHP array this corresponds to saying that all these elements must
be strings or integers.)</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=54*>
	<COL WIDTH=41*>
	<COL WIDTH=161*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=21%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=16%>
				<P CLASS="western">Format</P>
			</TH>
			<TH WIDTH=63%>
				<P CLASS="western">Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=21%>
				<P CLASS="western">&lt;label&gt; (under &lt;data&gt;)</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Value of a original/translated label.</P>
				<P CLASS="western">The &quot;index&quot; attribute contains label
				key.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=21%>
				<P CLASS="western">&lt;label&gt; (under &lt;orig_hash&gt;)</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">integer</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Hash of a translated label.</P>
				<P CLASS="western">The &quot;index&quot; attribute contains label
				key.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=21%>
				<P CLASS="western">&lt;label&gt; (under &lt;orig_text&gt;)</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Original default value of a translated label
				used for making a diff if the original has changed.</P>
				<P CLASS="western">The &quot;index&quot; attribute contains label
				key.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=21%>
				<P CLASS="western">&lt;label&gt;</P>
				<P CLASS="western">(child of &lt;labelContext&gt;)</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Description of a default labels context. This
				should be used where it cannot be clear for the translation where
				the default labels occur. Sometimes the context is important for
				the translator in order to translate correctly.</P>
				<P CLASS="western">The &quot;index&quot; attribute contains label
				key.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=21%>
				<P CLASS="western">&lt;description&gt;</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Description of the file contents.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=21%>
				<P CLASS="western">&lt;type&gt;</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">Type of content. Possible values are:</P>
				<P CLASS="western"><BR>
				</P>
				<UL>
					<LI><P CLASS="western">&quot;module&quot; : Used for labels in
					the backend modules.</P>
					<LI><P CLASS="western">&quot;database&quot; : Used for labels of
					database tables and fields.</P>
					<LI><P CLASS="western">&quot;CSH&quot; : Used for Context
					Sensitive Help (both database tables, fields, backend modules
					etc.)</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=21%>
				<P CLASS="western">&lt;csh_table&gt;</P>
			</TD>
			<TD WIDTH=16%>
				<P CLASS="western">string</P>
			</TD>
			<TD WIDTH=63%>
				<P CLASS="western">(Only when the type is &quot;CSH&quot;!)</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western">For CSH it is important to know what &quot;table&quot;
				the labels belong to. A &quot;table&quot; in the context of CSH
				is an identification of a group of labels. This can be an actual
				table name (containing all CSH for a single table) or it can be
				module names etc. with a prefix to determine type. See CSH
				section in &quot;Inside TYPO3&quot; for more details.</P>
				<P CLASS="western"><BR>
				</P>
				<P CLASS="western"><B>Examples:</B></P>
				<PRE CLASS="western">&lt;csh_table&gt;xMOD_csh_corebe&lt;/csh_table&gt; (General Core CSH)
&lt;csh_table&gt;_MOD_tools_em&lt;/csh_table&gt; (For Extension Mgm. module)
&lt;csh_table&gt;pages&lt;/csh_table&gt; (For &quot;pages&quot; table)</PRE>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H4 CLASS="western">&lt;T3locallangExt&gt;</H4>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">External
include files contains a sub-set of the tags of the &lt;T3locallang&gt;
format. Basically they contain the &lt;data&gt;, &lt;orig_hash&gt;
and &lt;orig_text&gt; tags but with &quot;&lt;languageKey&gt;&quot;
tags inside only for the specific language they used.</FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">When
the include file is read the information for the selected language
key is read from each of the three tags and merged into the internal
array.</FONT></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=51*>
	<COL WIDTH=157*>
	<COL WIDTH=48*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=20%>
				<P CLASS="western">Element</P>
			</TH>
			<TH WIDTH=61%>
				<P CLASS="western">Description</P>
			</TH>
			<TH WIDTH=19%>
				<P CLASS="western">Child elements</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;T3locallangExt&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western">Document tag for the external include files of
				&quot;&lt;T3locallang&gt;&quot;</P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western">&lt;data&gt;</P>
				<P CLASS="western">&lt;orig_hash&gt;</P>
				<P CLASS="western">&lt;orig_text&gt;</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;data&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western"><I>See &lt;data&gt; element of &lt;T3locallang&gt;
				above.</I></P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;orig_hash&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western"><I>See &lt;data&gt; element of &lt;T3locallang&gt;
				above.</I></P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=20%>
				<P CLASS="western">&lt;orig_text&gt;</P>
			</TD>
			<TD WIDTH=61%>
				<P CLASS="western"><I>See &lt;data&gt; element of &lt;T3locallang&gt;
				above.</I></P>
			</TD>
			<TD WIDTH=19%>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><BR><BR>
</P>
<H5 CLASS="western">Example: locallang-XML file for a backend module</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">This
example shows a standard locallang-XML file for a backend module.
Notice how the &lt;orig_hash&gt; section is included which means that
translators can spot if an original label changes. However the
&quot;&lt;orig_text&gt;&quot; section would have been needed if
translators were supposed to also see the difference. But typically
that is not enabled since it takes a lot of space up.</FONT></P>
<PRE CLASS="western">&lt;<FONT COLOR="#0000cc">T3locallang</FONT>&gt;
    &lt;<FONT COLOR="#0000cc">meta</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">description</FONT>&gt;<FONT COLOR="#cc0000">Standard Module labels for Extension Development Evaluator</FONT>&lt;/<FONT COLOR="#0000cc">description</FONT>&gt;
        &lt;<FONT COLOR="#0000cc">type</FONT>&gt;<FONT COLOR="#cc0000">module</FONT>&lt;/<FONT COLOR="#0000cc">type</FONT>&gt;
        &lt;<FONT COLOR="#0000cc">csh_table</FONT>/&gt;
        &lt;<FONT COLOR="#0000cc">labelContext</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>/&gt;
    &lt;/<FONT COLOR="#0000cc">meta</FONT>&gt;
    &lt;<FONT COLOR="#0000cc">data</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">default</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">mlang_tabs_tab</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">ExtDevEval</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">mlang_labels_tabdescr</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">The Extension Development Evaluator tool.</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
        &lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">dk</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">mlang_tabs_tab</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">ExtDevEval</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">mlang_labels_tabdescr</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">Evalueringsværktøj til udvikling af extensions.</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
        &lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;<BR>....<BR>    &lt;/<FONT COLOR="#0000cc">data</FONT>&gt;<BR>    &lt;<FONT COLOR="#0000cc">orig_hash</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">dk</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">mlang_tabs_tab</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">integer</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">114927868</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">mlang_labels_tabdescr</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">integer</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">187879914</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
        &lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;<BR>    &lt;/<FONT COLOR="#0000cc">orig_hash</FONT>&gt;<BR>&lt;/<FONT COLOR="#0000cc">T3locallang</FONT>&gt;</PRE><H5 CLASS="western">
Example: locallang-XML file (CSH) with reference to external include
file</H5>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">The
main XML file looks like this. Notice the tag &quot;csh_table&quot;
has a value which is important for CSH content so it can be
positioned in the right category. </FONT>
</P>
<P CLASS="western" STYLE="margin-bottom: 0.21cm"><FONT COLOR="#000000">In
the &lt;data&gt; section you can see all default labels. But notice
how the value for the &quot;dk&quot; translation is a reference to an
external file! The contents of that file is shown below this listing.</FONT></P>
<PRE CLASS="western">&lt;<FONT COLOR="#0000cc">T3locallang</FONT>&gt;<BR>    &lt;<FONT COLOR="#0000cc">meta</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">description</FONT>&gt;<FONT COLOR="#cc0000">CSH for Web&amp;gt;Info module(s) (General Framework)</FONT>&lt;/<FONT COLOR="#0000cc">description</FONT>&gt;
        &lt;<FONT COLOR="#0000cc">type</FONT>&gt;<FONT COLOR="#cc0000">CSH</FONT>&lt;/<FONT COLOR="#0000cc">type</FONT>&gt;
        &lt;<FONT COLOR="#0000cc">csh_table</FONT>&gt;<FONT COLOR="#cc0000">_MOD_web_info</FONT>&lt;/<FONT COLOR="#0000cc">csh_table</FONT>&gt;
        &lt;<FONT COLOR="#0000cc">labelContext</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>/&gt;
    &lt;/<FONT COLOR="#0000cc">meta</FONT>&gt;
    &lt;<FONT COLOR="#0000cc">data</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">default</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">.alttitle</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">Web &amp;gt; Info module</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">.description</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">The idea of the Web&amp;gt;Info ...</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">.details</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">Conceptually the Web&amp;gt;Info mod...functionality.</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">_.seeAlso</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">_MOD_web_func,</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">_.image</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">EXT:lang/cshimages/pagetree_overview_10.png</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">.image_descr</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">The Web&amp;gt;Info module a.... &amp;quot;info_pagetsconfig&amp;quot;.</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
        &lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">dk</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">EXT:csh_dk/lang/dk.locallang_csh_web_info.xml</FONT>&lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;
    &lt;/<FONT COLOR="#0000cc">data</FONT>&gt;
&lt;/<FONT COLOR="#0000cc">T3locallang</FONT>&gt;</PRE><P CLASS="western" STYLE="margin-bottom: 0.21cm">
<FONT COLOR="#000000">The include file (for &quot;dk&quot;) looks
like below. </FONT>
</P>
<PRE CLASS="western">&lt;<FONT COLOR="#0000cc">T3locallangExt</FONT>&gt;<BR>    &lt;<FONT COLOR="#0000cc">data</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">dk</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">pagetree_overview.alttitle</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">Sidetræ overblik</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
        &lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;
    &lt;/<FONT COLOR="#0000cc">data</FONT>&gt;
    &lt;<FONT COLOR="#0000cc">orig_hash</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">dk</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">pagetree_overview.alttitle</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">integer</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">92312309</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
        &lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;
    &lt;/<FONT COLOR="#0000cc">orig_hash</FONT>&gt;
    &lt;<FONT COLOR="#0000cc">orig_text</FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
        &lt;<FONT COLOR="#0000cc">languageKey</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">dk</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT> <FONT COLOR="#006600">type</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">array</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;
            &lt;<FONT COLOR="#0000cc">label</FONT> <FONT COLOR="#006600">index</FONT><FONT COLOR="#000000"><B>=&quot;</B></FONT><FONT COLOR="#cc0000">pagetree_overview.alttitle</FONT><FONT COLOR="#000000"><B>&quot;</B></FONT>&gt;<FONT COLOR="#cc0000">Pagetree Overview</FONT>&lt;/<FONT COLOR="#0000cc">label</FONT>&gt;
        &lt;/<FONT COLOR="#0000cc">languageKey</FONT>&gt;
    &lt;/<FONT COLOR="#0000cc">orig_text</FONT>&gt;
&lt;/<FONT COLOR="#0000cc">T3locallangExt</FONT>&gt;</PRE><P CLASS="western">
<BR><BR>
</P>
<DIV TYPE=FOOTER>
	<P CLASS="footer-western" ALIGN=RIGHT STYLE="margin-top: 0.3cm"><SDFIELD TYPE=PAGE SUBTYPE=RANDOM FORMAT=PAGE>41</SDFIELD></P>
</DIV>
</BODY>
</HTML>